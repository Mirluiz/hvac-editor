{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/2d/controllers/canvas.controller.ts","app/2d/controllers/mode.controller.ts","app/2d/index.ts","app/2d/models/architecture/wall.model.ts","app/2d/models/canvas.model.ts","app/2d/models/geometry/line.model.ts","app/2d/models/heating/pipe.model.ts","app/2d/views/canvas.view.ts","app/2d/views/mode.view.ts","app/2d/views/stats.view.ts","app/app.ts","app/main.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import CanvasView from \"../views/canvas.view\";\nimport CanvasModel from \"../models/canvas.model\";\nimport StatsView from \"../views/stats.view\";\nimport Wall from \"../models/architecture/wall.model\";\nimport Pipe from \"../models/heating/pipe.model\";\nimport Line from \"../models/geometry/line.model\";\n\nclass Canvas {\n  view: CanvasView;\n  stats: StatsView;\n  model: CanvasModel;\n\n  constructor() {\n    this.model = new CanvasModel();\n    this.view = new CanvasView(this.model);\n    this.stats = new StatsView(this.model);\n\n    if (this.view.container) {\n      this.view.container.addEventListener(\n        \"mousemove\",\n        this.mouseMove.bind(this)\n      );\n      this.view.container.addEventListener(\n        \"mousedown\",\n        this.mouseDown.bind(this)\n      );\n      this.view.container.addEventListener(\"mouseup\", this.mouseUp.bind(this));\n      this.view.container.addEventListener(\"wheel\", this.mouseWheel.bind(this));\n    }\n  }\n\n  mouseWheel(e: WheelEvent) {\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseDown(e: Event): void {\n    this.model.clicked = true;\n\n    if (!this.model.mouse) return;\n\n    if (!this.model.actionObject) {\n      let _mouse = { x: this.model.mouse.x, y: this.model.mouse.y };\n\n      if (this.model.config.net.bind) {\n        _mouse.x =\n          Math.round(_mouse.x / this.model.config.net.step) *\n          this.model.config.net.step;\n        _mouse.y =\n          Math.round(_mouse.y / this.model.config.net.step) *\n          this.model.config.net.step;\n      }\n\n      switch (this.model.actionMode) {\n        case \"wall\":\n          this.model.actionObject = this.model.addWall(\n            {\n              x: _mouse.x,\n              y: _mouse.y,\n            },\n            {\n              x: _mouse.x,\n              y: _mouse.y,\n            }\n          );\n          break;\n        case \"pipe\":\n          this.model.actionObject = this.model.addPipe(\n            {\n              x: _mouse.x,\n              y: _mouse.y,\n            },\n            {\n              x: _mouse.x,\n              y: _mouse.y,\n            }\n          );\n          break;\n      }\n    } else {\n      this.model.actionObject = null;\n    }\n\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseMove(e: MouseEvent): void {\n    if (!this.model.mouse) {\n      this.model.mouse = {\n        x: e.offsetX,\n        y: e.offsetY,\n      };\n    } else {\n      this.model.mouse.x = e.offsetX;\n      this.model.mouse.y = e.offsetY;\n    }\n\n    if (this.model.actionObject) {\n      if (this.model.actionObject instanceof Line) {\n        let _mouse = { x: this.model.mouse.x, y: this.model.mouse.y };\n\n        if (this.model.config.net.bind) {\n          _mouse.x =\n            Math.round(_mouse.x / this.model.config.net.step) *\n            this.model.config.net.step;\n          _mouse.y =\n            Math.round(_mouse.y / this.model.config.net.step) *\n            this.model.config.net.step;\n        }\n        this.model.actionObject.end.x = _mouse.x;\n        this.model.actionObject.end.y = _mouse.y;\n      }\n    }\n\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseUp(e: Event) {\n    this.model.clicked = false;\n  }\n}\n\nexport default Canvas;\n","import CanvasView from \"../views/canvas.view\";\nimport CanvasModel from \"../models/canvas.model\";\nimport StatsView from \"../views/stats.view\";\nimport ModeView from \"../views/mode.view\";\n\nclass Mode {\n  view: ModeView;\n  model: CanvasModel;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.view = new ModeView(this.model);\n\n    console.log(this.view);\n\n    if (this.view.container) {\n      this.view.container.addEventListener(\"click\", this.mouseDown.bind(this));\n    }\n  }\n\n  mouseDown(e: Event) {\n    let cT = e.target as HTMLInputElement;\n    let value = cT.value;\n\n    if (value === \"default\" || value === \"wall\" || value === \"pipe\") {\n      this.model.actionMode = value;\n    }\n  }\n}\n\nexport default Mode;\n","import CanvasController from \"./controllers/canvas.controller\";\nimport ModeController from \"./controllers/mode.controller\";\nimport StatsView from \"./views/stats.view\";\n\nclass Controller {\n  canvas: CanvasController = new CanvasController();\n\n  mode: ModeController;\n\n  constructor() {\n    this.mode = new ModeController(this.canvas.model);\n  }\n}\n\nexport default Controller;\n","import { IVec } from \"../../../geometry/vect\";\nimport Line from \"../geometry/line.model\";\n\nclass Wall extends Line {\n  constructor(start: IVec, end: IVec) {\n    super(start, end);\n  }\n}\n\nexport default Wall;\n","import { IVec } from \"../../geometry/vect\";\nimport Wall from \"./architecture/wall.model\";\nimport Pipe from \"./heating/pipe.model\";\n\nclass Canvas {\n  private _walls: Array<Wall> = [];\n  private _pipes: Array<Pipe> = [];\n\n  actionMode: \"default\" | \"wall\" | \"pipe\" = \"pipe\";\n  actionObject: Wall | Pipe | null = null;\n\n  mouse: IVec | null = null;\n  canvasSize: IVec | null = null;\n  mouseCanvasRatio: IVec | null = null;\n  scale: {\n    amount: number;\n    coord: IVec | null;\n    limitReached: boolean;\n  } = {\n    amount: 1,\n    coord: null,\n    limitReached: false,\n  };\n  clicked: boolean = false;\n  keyboard: string | null = null;\n  offset: IVec = { x: 0, y: 0 };\n  config: IConfig = {\n    axis: {\n      show: true,\n    },\n    net: {\n      bind: true,\n      show: true,\n      step: 20,\n    },\n  };\n\n  get walls(): Array<Wall> {\n    return this._walls;\n  }\n\n  set walls(value: Array<Wall>) {\n    this._walls = value;\n  }\n\n  get pipes(): Array<Pipe> {\n    return this._pipes;\n  }\n\n  set pipes(value: Array<Pipe>) {\n    this._pipes = value;\n  }\n\n  addWall(start: IVec, end: IVec) {\n    let wall = new Wall(start, end);\n\n    wall.color = \"black\";\n    wall.width = 5;\n\n    this.walls.push(wall);\n    this.walls = this.walls;\n\n    return wall;\n  }\n\n  addPipe(start: IVec, end: IVec) {\n    let pipe = new Pipe(start, end);\n\n    pipe.color = \"red\";\n    pipe.width = 2;\n\n    this.pipes.push(pipe);\n    this.pipes = this.pipes;\n\n    return pipe;\n  }\n}\n\ninterface IConfig {\n  axis: {\n    show: boolean;\n  };\n  net: {\n    bind: boolean;\n    show: boolean;\n    step: 15 | 20 | 50;\n  };\n}\n\nexport default Canvas;\n","import { IVec } from \"../../../geometry/vect\";\n\nclass Line {\n  thickness: number = 1;\n  start: IVec;\n  end: IVec;\n\n  color: string = \"#fff\";\n  width: number = 1;\n\n  constructor(start: IVec, end: IVec) {\n    this.start = start;\n    this.end = end;\n  }\n}\n\nexport default Line;\n","import { IVec } from \"../../../geometry/vect\";\nimport Line from \"../geometry/line.model\";\n\nclass Pipe extends Line {\n  constructor(start: IVec, end: IVec) {\n    super(start, end);\n  }\n}\n\nexport default Pipe;\n","import { IVec } from \"../../geometry/vect\";\nimport CanvasModel from \"../models/canvas.model\";\n\nclass Canvas {\n  model: CanvasModel;\n  container: HTMLCanvasElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#editor\");\n    this.init();\n  }\n\n  init() {\n    this.initCanvasContainer();\n  }\n\n  draw() {\n    this.clear();\n    this.drawNet();\n    // this.drawNet1();\n    // this.drawAxis();\n    this.drawMouse();\n    this.drawWalls();\n    this.drawPipes();\n  }\n\n  clear() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n\n    ctx.clearRect(0, 0, this.container.width, this.container.height);\n  }\n\n  drawMouse() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 2;\n    ctx.arc(this.model.mouse.x, this.model.mouse.y, 1, 0, 2 * Math.PI);\n\n    ctx.restore();\n  }\n\n  drawNet() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.net.show) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n\n    let step = this.model.config.net.step * this.model.scale.amount;\n    let h = this.container.height;\n    let w = this.container.width;\n    let netOffset: IVec = {\n      x: this.model.offset.x % step,\n      y: this.model.offset.y % step,\n    };\n\n    //x\n    let iV = 0;\n    let maxV = w / step;\n    while (iV <= maxV) {\n      let from: IVec = { x: step * iV + netOffset.x, y: 0 };\n      let to: IVec = { x: step * iV + netOffset.x, y: h };\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n      iV++;\n    }\n\n    //y\n    let iH = 0;\n    let maxH = h / step;\n    while (iH <= maxH) {\n      let from: IVec = { x: 0, y: step * iH + netOffset.y };\n      let to: IVec = { x: w, y: step * iH + netOffset.y };\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      iH++;\n    }\n\n    ctx.globalAlpha = 0.2;\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawNet1() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.net.show) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n\n    // let step = this.model.config.net.step * this.model.scale.amount;\n    let step = this.model.config.net.step;\n    let h = this.container.height;\n    let w = this.container.width;\n\n    //x\n    let iV = 0;\n    let maxV = w / step;\n    while (iV <= maxV) {\n      let from: IVec = this.getWorldCoordinates(step * iV, 0);\n      let to: IVec = this.getWorldCoordinates(step * iV, h);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n      iV++;\n    }\n\n    //y\n    let iH = 0;\n    let maxH = h / step;\n    while (iH <= maxH) {\n      let from: IVec = this.getWorldCoordinates(0, step * iH);\n      let to: IVec = this.getWorldCoordinates(w, step * iH);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      iH++;\n    }\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawAxis() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.axis.show) return;\n\n    ctx.save();\n    ctx.beginPath();\n\n    let h = this.container.height;\n    let w = this.container.width;\n\n    let x_From = this.getWorldCoordinates(0, 0);\n    let x_To = this.getWorldCoordinates(w, 0);\n    let y_From = this.getWorldCoordinates(0, 0);\n    let y_To = this.getWorldCoordinates(0, h);\n\n    ctx.moveTo(0, x_From.y);\n    ctx.lineTo(w, x_To.y);\n\n    ctx.moveTo(y_From.x, 0);\n    ctx.lineTo(y_To.x, h);\n    ctx.strokeStyle = \"red\";\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawWalls() {\n    let walls = this.model.walls;\n\n    walls?.map((wall) => {\n      if (!this.container) return;\n\n      const ctx = this.container.getContext(\"2d\");\n\n      if (!ctx) return;\n\n      ctx.save();\n      ctx.beginPath();\n\n      let from = this.getWorldCoordinates(wall.start.x, wall.start.y);\n      let to = this.getWorldCoordinates(wall.end.x, wall.end.y);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      console.log(\"wall.color\", wall.color);\n      ctx.strokeStyle = wall.color;\n      ctx.lineWidth = wall.width;\n\n      ctx.stroke();\n      ctx.restore();\n    });\n  }\n\n  drawPipes() {\n    let pipes = this.model.pipes;\n\n    pipes?.map((pipe) => {\n      if (!this.container) return;\n\n      const ctx = this.container.getContext(\"2d\");\n\n      if (!ctx) return;\n\n      ctx.save();\n      ctx.beginPath();\n\n      let from = this.getWorldCoordinates(pipe.start.x, pipe.start.y);\n      let to = this.getWorldCoordinates(pipe.end.x, pipe.end.y);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      console.log(\"pipe.color\", pipe.color);\n\n      ctx.strokeStyle = pipe.color;\n      ctx.lineWidth = pipe.width;\n\n      ctx.stroke();\n      ctx.restore();\n    });\n  }\n\n  //TODO: apply scale transformation here\n  getWorldCoordinates(x: number, y: number): IVec {\n    let _this = this;\n\n    let translate = function (vec: IVec): IVec {\n      return {\n        x: vec.x + _this.model.offset.x,\n        y: vec.y + _this.model.offset.y,\n      };\n    }.bind(this);\n\n    let scale = function (vec: IVec): IVec {\n      return {\n        x: vec.x * _this.model.scale.amount,\n        y: vec.y * _this.model.scale.amount,\n      };\n    };\n\n    let t = { x, y };\n    t = scale(t);\n    // t = rotation(t); TODO order is scaling rotation translation\n    t = translate(t);\n\n    return t;\n  }\n\n  //x: (x + this.model.offset.x) * this.model.scale.amount * this.model.scale.coord.x,\n  //       y: (y + this.model.offset.y)  * this.model.scale.amount,\n  // getLocalCoordinates(x: number, y: number) {\n  //   return {\n  //     x: (x + this.model.offset.x) * this.model.scale.amount * this.model.scale.coord ,\n  //     y: (y + this.model.offset.y)  * this.model.scale.amount,\n  //   };\n  // }\n\n  initCanvasContainer(): void {\n    if (!this.container) return;\n\n    this.container.style.height = \"600px\";\n    this.container.style.width = \"900px\";\n    this.container.height = 600;\n    this.container.width = 900;\n    this.container.style.border = \"1px solid black\";\n\n    this.model.canvasSize = {\n      y: 600,\n      x: 900,\n    };\n  }\n}\n\nexport default Canvas;\n","import CanvasModel from \"../models/canvas.model\";\n\nclass Mode {\n  model: CanvasModel;\n  container: HTMLElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#mode\");\n  }\n}\n\nexport default Mode;\n","import CanvasModel from \"../models/canvas.model\";\n\nclass Stats {\n  model: CanvasModel;\n  container: HTMLElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#stats\");\n    this.init();\n  }\n\n  init() {\n    this.initContainer();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div style=\"display: flex; flex-direction: column\">\n        <div>x - ${Math.round(this.model.offset.x)} \n        / y - ${Math.round(this.model.offset.y)}</div>\n        \n        <div>x - ${Math.round(this.model.mouse?.x ?? 0)} \n        / y - ${Math.round(this.model.mouse?.y ?? 0)}</div>\n        \n        <div>scale - ${this.model.scale.amount}</div>\n        <div>width - ${this.model.canvasSize?.x} / height - ${\n      this.model.canvasSize?.y\n    } / </div>\n        <div>ratio x ${this.model.mouseCanvasRatio?.x} / y ${\n      this.model.mouseCanvasRatio?.y\n    }</div>\n        <div>mode is ${this.model.actionMode}</div>\n      </div>\n    `;\n  }\n\n  initContainer(): void {\n    if (!this.container) return;\n\n    this.container.style.height = \"150px\";\n    this.container.style.width = \"200px\";\n    this.container.style.border = \"1px solid black\";\n    this.container.style.marginLeft = \"10px\";\n  }\n}\n\nexport default Stats;\n","import {default as _2DController} from \"./2d\";\n\nclass App {\n  _2d: _2DController = new _2DController()\n\n\n  run() {}\n}\n\nexport default App\n","import App from './app';\n\nconst app = new App();\n\napp.run();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvMmQvY29udHJvbGxlcnMvY2FudmFzLmNvbnRyb2xsZXIudHMiLCJhcHAvMmQvY29udHJvbGxlcnMvbW9kZS5jb250cm9sbGVyLnRzIiwiYXBwLzJkL2luZGV4LnRzIiwiYXBwLzJkL21vZGVscy9hcmNoaXRlY3R1cmUvd2FsbC5tb2RlbC50cyIsImFwcC8yZC9tb2RlbHMvY2FudmFzLm1vZGVsLnRzIiwiYXBwLzJkL21vZGVscy9nZW9tZXRyeS9saW5lLm1vZGVsLnRzIiwiYXBwLzJkL21vZGVscy9oZWF0aW5nL3BpcGUubW9kZWwudHMiLCJhcHAvMmQvdmlld3MvY2FudmFzLnZpZXcudHMiLCJhcHAvMmQvdmlld3MvbW9kZS52aWV3LnRzIiwiYXBwLzJkL3ZpZXdzL3N0YXRzLnZpZXcudHMiLCJhcHAvYXBwLnRzIiwiYXBwL21haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxJQUFBLGdCQUFBLGdCQUFBLFFBQUEsc0JBQUEsQ0FBQSxDQUFBO0FBQ0EsSUFBQSxpQkFBQSxnQkFBQSxRQUFBLHdCQUFBLENBQUEsQ0FBQTtBQUNBLElBQUEsZUFBQSxnQkFBQSxRQUFBLHFCQUFBLENBQUEsQ0FBQTtBQUdBLElBQUEsZUFBQSxnQkFBQSxRQUFBLCtCQUFBLENBQUEsQ0FBQTtBQUVBLElBQUEsU0FBQSxhQUFBLFlBQUE7QUFLRSxhQUFBLE1BQUEsR0FBQTtBQUNFLGFBQUssS0FBTCxHQUFhLElBQUksZUFBQSxPQUFKLEVBQWI7QUFDQSxhQUFLLElBQUwsR0FBWSxJQUFJLGNBQUEsT0FBSixDQUFlLEtBQUssS0FBcEIsQ0FBWjtBQUNBLGFBQUssS0FBTCxHQUFhLElBQUksYUFBQSxPQUFKLENBQWMsS0FBSyxLQUFuQixDQUFiO0FBRUEsWUFBSSxLQUFLLElBQUwsQ0FBVSxTQUFkLEVBQXlCO0FBQ3ZCLGlCQUFLLElBQUwsQ0FBVSxTQUFWLENBQW9C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QVFGLFdBQUEsS0FBQTtBQUFDLENBN0NELEVBQUE7QUErQ0EsUUFBQSxPQUFBLEdBQWUsS0FBZjs7Ozs7Ozs7O0FDakRBLElBQUEsUUFBQSxnQkFBQSxRQUFBLE1BQUEsQ0FBQSxDQUFBO0FBRUEsSUFBQSxNQUFBLGFBQUEsWUFBQTtBQUFBLGFBQUEsR0FBQSxHQUFBO0FBQ0UsYUFBQSxHQUFBLEdBQXFCLElBQUksTUFBQSxPQUFKLEVBQXJCO0FBSUQ7QUFEQyxRQUFBLFNBQUEsQ0FBQSxHQUFBLEdBQUEsWUFBQSxDQUFRLENBQVI7QUFDRixXQUFBLEdBQUE7QUFBQyxDQUxELEVBQUE7QUFPQSxRQUFBLE9BQUEsR0FBZSxHQUFmOzs7Ozs7Ozs7QUNUQSxJQUFBLFFBQUEsZ0JBQUEsUUFBQSxPQUFBLENBQUEsQ0FBQTtBQUVBLElBQU0sTUFBTSxJQUFJLE1BQUEsT0FBSixFQUFaO0FBRUEsSUFBSSxHQUFKIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IENhbnZhc1ZpZXcgZnJvbSBcIi4uL3ZpZXdzL2NhbnZhcy52aWV3XCI7XG5pbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcbmltcG9ydCBTdGF0c1ZpZXcgZnJvbSBcIi4uL3ZpZXdzL3N0YXRzLnZpZXdcIjtcbmltcG9ydCBXYWxsIGZyb20gXCIuLi9tb2RlbHMvYXJjaGl0ZWN0dXJlL3dhbGwubW9kZWxcIjtcbmltcG9ydCBQaXBlIGZyb20gXCIuLi9tb2RlbHMvaGVhdGluZy9waXBlLm1vZGVsXCI7XG5pbXBvcnQgTGluZSBmcm9tIFwiLi4vbW9kZWxzL2dlb21ldHJ5L2xpbmUubW9kZWxcIjtcblxuY2xhc3MgQ2FudmFzIHtcbiAgdmlldzogQ2FudmFzVmlldztcbiAgc3RhdHM6IFN0YXRzVmlldztcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubW9kZWwgPSBuZXcgQ2FudmFzTW9kZWwoKTtcbiAgICB0aGlzLnZpZXcgPSBuZXcgQ2FudmFzVmlldyh0aGlzLm1vZGVsKTtcbiAgICB0aGlzLnN0YXRzID0gbmV3IFN0YXRzVmlldyh0aGlzLm1vZGVsKTtcblxuICAgIGlmICh0aGlzLnZpZXcuY29udGFpbmVyKSB7XG4gICAgICB0aGlzLnZpZXcuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2Vtb3ZlXCIsXG4gICAgICAgIHRoaXMubW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgICB0aGlzLnZpZXcuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICAgIHRoaXMubW91c2VEb3duLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgICB0aGlzLnZpZXcuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMubW91c2VVcC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMudmlldy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHRoaXMubW91c2VXaGVlbC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICBtb3VzZVdoZWVsKGU6IFdoZWVsRXZlbnQpIHtcbiAgICB0aGlzLnN0YXRzLnJlbmRlcigpO1xuICAgIHRoaXMudmlldy5kcmF3KCk7XG4gIH1cblxuICBtb3VzZURvd24oZTogRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsLmNsaWNrZWQgPSB0cnVlO1xuXG4gICAgaWYgKCF0aGlzLm1vZGVsLm1vdXNlKSByZXR1cm47XG5cbiAgICBpZiAoIXRoaXMubW9kZWwuYWN0aW9uT2JqZWN0KSB7XG4gICAgICBsZXQgX21vdXNlID0geyB4OiB0aGlzLm1vZGVsLm1vdXNlLngsIHk6IHRoaXMubW9kZWwubW91c2UueSB9O1xuXG4gICAgICBpZiAodGhpcy5tb2RlbC5jb25maWcubmV0LmJpbmQpIHtcbiAgICAgICAgX21vdXNlLnggPVxuICAgICAgICAgIE1hdGgucm91bmQoX21vdXNlLnggLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICAgIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwO1xuICAgICAgICBfbW91c2UueSA9XG4gICAgICAgICAgTWF0aC5yb3VuZChfbW91c2UueSAvIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwKSAqXG4gICAgICAgICAgdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXA7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodGhpcy5tb2RlbC5hY3Rpb25Nb2RlKSB7XG4gICAgICAgIGNhc2UgXCJ3YWxsXCI6XG4gICAgICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3QgPSB0aGlzLm1vZGVsLmFkZFdhbGwoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IF9tb3VzZS54LFxuICAgICAgICAgICAgICB5OiBfbW91c2UueSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IF9tb3VzZS54LFxuICAgICAgICAgICAgICB5OiBfbW91c2UueSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicGlwZVwiOlxuICAgICAgICAgIHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0ID0gdGhpcy5tb2RlbC5hZGRQaXBlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB4OiBfbW91c2UueCxcbiAgICAgICAgICAgICAgeTogX21vdXNlLnksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB4OiBfbW91c2UueCxcbiAgICAgICAgICAgICAgeTogX21vdXNlLnksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3QgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdHMucmVuZGVyKCk7XG4gICAgdGhpcy52aWV3LmRyYXcoKTtcbiAgfVxuXG4gIG1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm1vZGVsLm1vdXNlKSB7XG4gICAgICB0aGlzLm1vZGVsLm1vdXNlID0ge1xuICAgICAgICB4OiBlLm9mZnNldFgsXG4gICAgICAgIHk6IGUub2Zmc2V0WSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW9kZWwubW91c2UueCA9IGUub2Zmc2V0WDtcbiAgICAgIHRoaXMubW9kZWwubW91c2UueSA9IGUub2Zmc2V0WTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RlbC5hY3Rpb25PYmplY3QpIHtcbiAgICAgIGlmICh0aGlzLm1vZGVsLmFjdGlvbk9iamVjdCBpbnN0YW5jZW9mIExpbmUpIHtcbiAgICAgICAgbGV0IF9tb3VzZSA9IHsgeDogdGhpcy5tb2RlbC5tb3VzZS54LCB5OiB0aGlzLm1vZGVsLm1vdXNlLnkgfTtcblxuICAgICAgICBpZiAodGhpcy5tb2RlbC5jb25maWcubmV0LmJpbmQpIHtcbiAgICAgICAgICBfbW91c2UueCA9XG4gICAgICAgICAgICBNYXRoLnJvdW5kKF9tb3VzZS54IC8gdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXApICpcbiAgICAgICAgICAgIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwO1xuICAgICAgICAgIF9tb3VzZS55ID1cbiAgICAgICAgICAgIE1hdGgucm91bmQoX21vdXNlLnkgLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICAgICAgdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3QuZW5kLnggPSBfbW91c2UueDtcbiAgICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3QuZW5kLnkgPSBfbW91c2UueTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRzLnJlbmRlcigpO1xuICAgIHRoaXMudmlldy5kcmF3KCk7XG4gIH1cblxuICBtb3VzZVVwKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5tb2RlbC5jbGlja2VkID0gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzO1xuIiwiaW1wb3J0IENhbnZhc1ZpZXcgZnJvbSBcIi4uL3ZpZXdzL2NhbnZhcy52aWV3XCI7XG5pbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcbmltcG9ydCBTdGF0c1ZpZXcgZnJvbSBcIi4uL3ZpZXdzL3N0YXRzLnZpZXdcIjtcbmltcG9ydCBNb2RlVmlldyBmcm9tIFwiLi4vdmlld3MvbW9kZS52aWV3XCI7XG5cbmNsYXNzIE1vZGUge1xuICB2aWV3OiBNb2RlVmlldztcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBDYW52YXNNb2RlbCkge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLnZpZXcgPSBuZXcgTW9kZVZpZXcodGhpcy5tb2RlbCk7XG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLnZpZXcpO1xuXG4gICAgaWYgKHRoaXMudmlldy5jb250YWluZXIpIHtcbiAgICAgIHRoaXMudmlldy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMubW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIG1vdXNlRG93bihlOiBFdmVudCkge1xuICAgIGxldCBjVCA9IGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgbGV0IHZhbHVlID0gY1QudmFsdWU7XG5cbiAgICBpZiAodmFsdWUgPT09IFwiZGVmYXVsdFwiIHx8IHZhbHVlID09PSBcIndhbGxcIiB8fCB2YWx1ZSA9PT0gXCJwaXBlXCIpIHtcbiAgICAgIHRoaXMubW9kZWwuYWN0aW9uTW9kZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlO1xuIiwiaW1wb3J0IENhbnZhc0NvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvY2FudmFzLmNvbnRyb2xsZXJcIjtcbmltcG9ydCBNb2RlQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9tb2RlLmNvbnRyb2xsZXJcIjtcbmltcG9ydCBTdGF0c1ZpZXcgZnJvbSBcIi4vdmlld3Mvc3RhdHMudmlld1wiO1xuXG5jbGFzcyBDb250cm9sbGVyIHtcbiAgY2FudmFzOiBDYW52YXNDb250cm9sbGVyID0gbmV3IENhbnZhc0NvbnRyb2xsZXIoKTtcblxuICBtb2RlOiBNb2RlQ29udHJvbGxlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1vZGUgPSBuZXcgTW9kZUNvbnRyb2xsZXIodGhpcy5jYW52YXMubW9kZWwpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgeyBJVmVjIH0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBMaW5lIGZyb20gXCIuLi9nZW9tZXRyeS9saW5lLm1vZGVsXCI7XG5cbmNsYXNzIFdhbGwgZXh0ZW5kcyBMaW5lIHtcbiAgY29uc3RydWN0b3Ioc3RhcnQ6IElWZWMsIGVuZDogSVZlYykge1xuICAgIHN1cGVyKHN0YXJ0LCBlbmQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdhbGw7XG4iLCJpbXBvcnQgeyBJVmVjIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBXYWxsIGZyb20gXCIuL2FyY2hpdGVjdHVyZS93YWxsLm1vZGVsXCI7XG5pbXBvcnQgUGlwZSBmcm9tIFwiLi9oZWF0aW5nL3BpcGUubW9kZWxcIjtcblxuY2xhc3MgQ2FudmFzIHtcbiAgcHJpdmF0ZSBfd2FsbHM6IEFycmF5PFdhbGw+ID0gW107XG4gIHByaXZhdGUgX3BpcGVzOiBBcnJheTxQaXBlPiA9IFtdO1xuXG4gIGFjdGlvbk1vZGU6IFwiZGVmYXVsdFwiIHwgXCJ3YWxsXCIgfCBcInBpcGVcIiA9IFwicGlwZVwiO1xuICBhY3Rpb25PYmplY3Q6IFdhbGwgfCBQaXBlIHwgbnVsbCA9IG51bGw7XG5cbiAgbW91c2U6IElWZWMgfCBudWxsID0gbnVsbDtcbiAgY2FudmFzU2l6ZTogSVZlYyB8IG51bGwgPSBudWxsO1xuICBtb3VzZUNhbnZhc1JhdGlvOiBJVmVjIHwgbnVsbCA9IG51bGw7XG4gIHNjYWxlOiB7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgY29vcmQ6IElWZWMgfCBudWxsO1xuICAgIGxpbWl0UmVhY2hlZDogYm9vbGVhbjtcbiAgfSA9IHtcbiAgICBhbW91bnQ6IDEsXG4gICAgY29vcmQ6IG51bGwsXG4gICAgbGltaXRSZWFjaGVkOiBmYWxzZSxcbiAgfTtcbiAgY2xpY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlib2FyZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIG9mZnNldDogSVZlYyA9IHsgeDogMCwgeTogMCB9O1xuICBjb25maWc6IElDb25maWcgPSB7XG4gICAgYXhpczoge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICB9LFxuICAgIG5ldDoge1xuICAgICAgYmluZDogdHJ1ZSxcbiAgICAgIHNob3c6IHRydWUsXG4gICAgICBzdGVwOiAyMCxcbiAgICB9LFxuICB9O1xuXG4gIGdldCB3YWxscygpOiBBcnJheTxXYWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuX3dhbGxzO1xuICB9XG5cbiAgc2V0IHdhbGxzKHZhbHVlOiBBcnJheTxXYWxsPikge1xuICAgIHRoaXMuX3dhbGxzID0gdmFsdWU7XG4gIH1cblxuICBnZXQgcGlwZXMoKTogQXJyYXk8UGlwZT4ge1xuICAgIHJldHVybiB0aGlzLl9waXBlcztcbiAgfVxuXG4gIHNldCBwaXBlcyh2YWx1ZTogQXJyYXk8UGlwZT4pIHtcbiAgICB0aGlzLl9waXBlcyA9IHZhbHVlO1xuICB9XG5cbiAgYWRkV2FsbChzdGFydDogSVZlYywgZW5kOiBJVmVjKSB7XG4gICAgbGV0IHdhbGwgPSBuZXcgV2FsbChzdGFydCwgZW5kKTtcblxuICAgIHdhbGwuY29sb3IgPSBcImJsYWNrXCI7XG4gICAgd2FsbC53aWR0aCA9IDU7XG5cbiAgICB0aGlzLndhbGxzLnB1c2god2FsbCk7XG4gICAgdGhpcy53YWxscyA9IHRoaXMud2FsbHM7XG5cbiAgICByZXR1cm4gd2FsbDtcbiAgfVxuXG4gIGFkZFBpcGUoc3RhcnQ6IElWZWMsIGVuZDogSVZlYykge1xuICAgIGxldCBwaXBlID0gbmV3IFBpcGUoc3RhcnQsIGVuZCk7XG5cbiAgICBwaXBlLmNvbG9yID0gXCJyZWRcIjtcbiAgICBwaXBlLndpZHRoID0gMjtcblxuICAgIHRoaXMucGlwZXMucHVzaChwaXBlKTtcbiAgICB0aGlzLnBpcGVzID0gdGhpcy5waXBlcztcblxuICAgIHJldHVybiBwaXBlO1xuICB9XG59XG5cbmludGVyZmFjZSBJQ29uZmlnIHtcbiAgYXhpczoge1xuICAgIHNob3c6IGJvb2xlYW47XG4gIH07XG4gIG5ldDoge1xuICAgIGJpbmQ6IGJvb2xlYW47XG4gICAgc2hvdzogYm9vbGVhbjtcbiAgICBzdGVwOiAxNSB8IDIwIHwgNTA7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhcztcbiIsImltcG9ydCB7IElWZWMgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvdmVjdFwiO1xuXG5jbGFzcyBMaW5lIHtcbiAgdGhpY2tuZXNzOiBudW1iZXIgPSAxO1xuICBzdGFydDogSVZlYztcbiAgZW5kOiBJVmVjO1xuXG4gIGNvbG9yOiBzdHJpbmcgPSBcIiNmZmZcIjtcbiAgd2lkdGg6IG51bWJlciA9IDE7XG5cbiAgY29uc3RydWN0b3Ioc3RhcnQ6IElWZWMsIGVuZDogSVZlYykge1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICB0aGlzLmVuZCA9IGVuZDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5lO1xuIiwiaW1wb3J0IHsgSVZlYyB9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5pbXBvcnQgTGluZSBmcm9tIFwiLi4vZ2VvbWV0cnkvbGluZS5tb2RlbFwiO1xuXG5jbGFzcyBQaXBlIGV4dGVuZHMgTGluZSB7XG4gIGNvbnN0cnVjdG9yKHN0YXJ0OiBJVmVjLCBlbmQ6IElWZWMpIHtcbiAgICBzdXBlcihzdGFydCwgZW5kKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQaXBlO1xuIiwiaW1wb3J0IHsgSVZlYyB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5pbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcblxuY2xhc3MgQ2FudmFzIHtcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuICBjb250YWluZXI6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihtb2RlbDogQ2FudmFzTW9kZWwpIHtcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXRvclwiKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5pbml0Q2FudmFzQ29udGFpbmVyKCk7XG4gIH1cblxuICBkcmF3KCkge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLmRyYXdOZXQoKTtcbiAgICAvLyB0aGlzLmRyYXdOZXQxKCk7XG4gICAgLy8gdGhpcy5kcmF3QXhpcygpO1xuICAgIHRoaXMuZHJhd01vdXNlKCk7XG4gICAgdGhpcy5kcmF3V2FsbHMoKTtcbiAgICB0aGlzLmRyYXdQaXBlcygpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXI/LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmICghY3R4IHx8ICF0aGlzLm1vZGVsLm1vdXNlIHx8ICF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNvbnRhaW5lci53aWR0aCwgdGhpcy5jb250YWluZXIuaGVpZ2h0KTtcbiAgfVxuXG4gIGRyYXdNb3VzZSgpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lcj8uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHggfHwgIXRoaXMubW9kZWwubW91c2UpIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcbiAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICBjdHguYXJjKHRoaXMubW9kZWwubW91c2UueCwgdGhpcy5tb2RlbC5tb3VzZS55LCAxLCAwLCAyICogTWF0aC5QSSk7XG5cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhd05ldCgpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lcj8uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHggfHwgIXRoaXMubW9kZWwubW91c2UgfHwgIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc2hvdykgcmV0dXJuO1xuXG4gICAgY3R4LnNhdmUoKTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubGluZVdpZHRoID0gMTtcblxuICAgIGxldCBzdGVwID0gdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXAgKiB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudDtcbiAgICBsZXQgaCA9IHRoaXMuY29udGFpbmVyLmhlaWdodDtcbiAgICBsZXQgdyA9IHRoaXMuY29udGFpbmVyLndpZHRoO1xuICAgIGxldCBuZXRPZmZzZXQ6IElWZWMgPSB7XG4gICAgICB4OiB0aGlzLm1vZGVsLm9mZnNldC54ICUgc3RlcCxcbiAgICAgIHk6IHRoaXMubW9kZWwub2Zmc2V0LnkgJSBzdGVwLFxuICAgIH07XG5cbiAgICAvL3hcbiAgICBsZXQgaVYgPSAwO1xuICAgIGxldCBtYXhWID0gdyAvIHN0ZXA7XG4gICAgd2hpbGUgKGlWIDw9IG1heFYpIHtcbiAgICAgIGxldCBmcm9tOiBJVmVjID0geyB4OiBzdGVwICogaVYgKyBuZXRPZmZzZXQueCwgeTogMCB9O1xuICAgICAgbGV0IHRvOiBJVmVjID0geyB4OiBzdGVwICogaVYgKyBuZXRPZmZzZXQueCwgeTogaCB9O1xuXG4gICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG4gICAgICBpVisrO1xuICAgIH1cblxuICAgIC8veVxuICAgIGxldCBpSCA9IDA7XG4gICAgbGV0IG1heEggPSBoIC8gc3RlcDtcbiAgICB3aGlsZSAoaUggPD0gbWF4SCkge1xuICAgICAgbGV0IGZyb206IElWZWMgPSB7IHg6IDAsIHk6IHN0ZXAgKiBpSCArIG5ldE9mZnNldC55IH07XG4gICAgICBsZXQgdG86IElWZWMgPSB7IHg6IHcsIHk6IHN0ZXAgKiBpSCArIG5ldE9mZnNldC55IH07XG5cbiAgICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xuICAgICAgY3R4LmxpbmVUbyh0by54LCB0by55KTtcblxuICAgICAgaUgrKztcbiAgICB9XG5cbiAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjI7XG5cbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIGRyYXdOZXQxKCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGFpbmVyPy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBpZiAoIWN0eCB8fCAhdGhpcy5tb2RlbC5tb3VzZSB8fCAhdGhpcy5jb250YWluZXIpIHJldHVybjtcbiAgICBpZiAoIXRoaXMubW9kZWwuY29uZmlnLm5ldC5zaG93KSByZXR1cm47XG5cbiAgICBjdHguc2F2ZSgpO1xuXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuXG4gICAgLy8gbGV0IHN0ZXAgPSB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50O1xuICAgIGxldCBzdGVwID0gdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXA7XG4gICAgbGV0IGggPSB0aGlzLmNvbnRhaW5lci5oZWlnaHQ7XG4gICAgbGV0IHcgPSB0aGlzLmNvbnRhaW5lci53aWR0aDtcblxuICAgIC8veFxuICAgIGxldCBpViA9IDA7XG4gICAgbGV0IG1heFYgPSB3IC8gc3RlcDtcbiAgICB3aGlsZSAoaVYgPD0gbWF4Vikge1xuICAgICAgbGV0IGZyb206IElWZWMgPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoc3RlcCAqIGlWLCAwKTtcbiAgICAgIGxldCB0bzogSVZlYyA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcyhzdGVwICogaVYsIGgpO1xuXG4gICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG4gICAgICBpVisrO1xuICAgIH1cblxuICAgIC8veVxuICAgIGxldCBpSCA9IDA7XG4gICAgbGV0IG1heEggPSBoIC8gc3RlcDtcbiAgICB3aGlsZSAoaUggPD0gbWF4SCkge1xuICAgICAgbGV0IGZyb206IElWZWMgPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoMCwgc3RlcCAqIGlIKTtcbiAgICAgIGxldCB0bzogSVZlYyA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcyh3LCBzdGVwICogaUgpO1xuXG4gICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG5cbiAgICAgIGlIKys7XG4gICAgfVxuXG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBkcmF3QXhpcygpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lcj8uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHggfHwgIXRoaXMubW9kZWwubW91c2UgfHwgIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLm1vZGVsLmNvbmZpZy5heGlzLnNob3cpIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgbGV0IGggPSB0aGlzLmNvbnRhaW5lci5oZWlnaHQ7XG4gICAgbGV0IHcgPSB0aGlzLmNvbnRhaW5lci53aWR0aDtcblxuICAgIGxldCB4X0Zyb20gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoMCwgMCk7XG4gICAgbGV0IHhfVG8gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXModywgMCk7XG4gICAgbGV0IHlfRnJvbSA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcygwLCAwKTtcbiAgICBsZXQgeV9UbyA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcygwLCBoKTtcblxuICAgIGN0eC5tb3ZlVG8oMCwgeF9Gcm9tLnkpO1xuICAgIGN0eC5saW5lVG8odywgeF9Uby55KTtcblxuICAgIGN0eC5tb3ZlVG8oeV9Gcm9tLngsIDApO1xuICAgIGN0eC5saW5lVG8oeV9Uby54LCBoKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xuXG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBkcmF3V2FsbHMoKSB7XG4gICAgbGV0IHdhbGxzID0gdGhpcy5tb2RlbC53YWxscztcblxuICAgIHdhbGxzPy5tYXAoKHdhbGwpID0+IHtcbiAgICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXIuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICBpZiAoIWN0eCkgcmV0dXJuO1xuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICBsZXQgZnJvbSA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcyh3YWxsLnN0YXJ0LngsIHdhbGwuc3RhcnQueSk7XG4gICAgICBsZXQgdG8gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMod2FsbC5lbmQueCwgd2FsbC5lbmQueSk7XG5cbiAgICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xuICAgICAgY3R4LmxpbmVUbyh0by54LCB0by55KTtcblxuICAgICAgY29uc29sZS5sb2coXCJ3YWxsLmNvbG9yXCIsIHdhbGwuY29sb3IpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gd2FsbC5jb2xvcjtcbiAgICAgIGN0eC5saW5lV2lkdGggPSB3YWxsLndpZHRoO1xuXG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZHJhd1BpcGVzKCkge1xuICAgIGxldCBwaXBlcyA9IHRoaXMubW9kZWwucGlwZXM7XG5cbiAgICBwaXBlcz8ubWFwKChwaXBlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGFpbmVyLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgbGV0IGZyb20gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMocGlwZS5zdGFydC54LCBwaXBlLnN0YXJ0LnkpO1xuICAgICAgbGV0IHRvID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHBpcGUuZW5kLngsIHBpcGUuZW5kLnkpO1xuXG4gICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwicGlwZS5jb2xvclwiLCBwaXBlLmNvbG9yKTtcblxuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gcGlwZS5jb2xvcjtcbiAgICAgIGN0eC5saW5lV2lkdGggPSBwaXBlLndpZHRoO1xuXG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLy9UT0RPOiBhcHBseSBzY2FsZSB0cmFuc2Zvcm1hdGlvbiBoZXJlXG4gIGdldFdvcmxkQ29vcmRpbmF0ZXMoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBJVmVjIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh2ZWM6IElWZWMpOiBJVmVjIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHZlYy54ICsgX3RoaXMubW9kZWwub2Zmc2V0LngsXG4gICAgICAgIHk6IHZlYy55ICsgX3RoaXMubW9kZWwub2Zmc2V0LnksXG4gICAgICB9O1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIGxldCBzY2FsZSA9IGZ1bmN0aW9uICh2ZWM6IElWZWMpOiBJVmVjIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHZlYy54ICogX3RoaXMubW9kZWwuc2NhbGUuYW1vdW50LFxuICAgICAgICB5OiB2ZWMueSAqIF90aGlzLm1vZGVsLnNjYWxlLmFtb3VudCxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGxldCB0ID0geyB4LCB5IH07XG4gICAgdCA9IHNjYWxlKHQpO1xuICAgIC8vIHQgPSByb3RhdGlvbih0KTsgVE9ETyBvcmRlciBpcyBzY2FsaW5nIHJvdGF0aW9uIHRyYW5zbGF0aW9uXG4gICAgdCA9IHRyYW5zbGF0ZSh0KTtcblxuICAgIHJldHVybiB0O1xuICB9XG5cbiAgLy94OiAoeCArIHRoaXMubW9kZWwub2Zmc2V0LngpICogdGhpcy5tb2RlbC5zY2FsZS5hbW91bnQgKiB0aGlzLm1vZGVsLnNjYWxlLmNvb3JkLngsXG4gIC8vICAgICAgIHk6ICh5ICsgdGhpcy5tb2RlbC5vZmZzZXQueSkgICogdGhpcy5tb2RlbC5zY2FsZS5hbW91bnQsXG4gIC8vIGdldExvY2FsQ29vcmRpbmF0ZXMoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgLy8gICByZXR1cm4ge1xuICAvLyAgICAgeDogKHggKyB0aGlzLm1vZGVsLm9mZnNldC54KSAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50ICogdGhpcy5tb2RlbC5zY2FsZS5jb29yZCAsXG4gIC8vICAgICB5OiAoeSArIHRoaXMubW9kZWwub2Zmc2V0LnkpICAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50LFxuICAvLyAgIH07XG4gIC8vIH1cblxuICBpbml0Q2FudmFzQ29udGFpbmVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiNjAwcHhcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IFwiOTAwcHhcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5oZWlnaHQgPSA2MDA7XG4gICAgdGhpcy5jb250YWluZXIud2lkdGggPSA5MDA7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIjtcblxuICAgIHRoaXMubW9kZWwuY2FudmFzU2l6ZSA9IHtcbiAgICAgIHk6IDYwMCxcbiAgICAgIHg6IDkwMCxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhcztcbiIsImltcG9ydCBDYW52YXNNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2NhbnZhcy5tb2RlbFwiO1xuXG5jbGFzcyBNb2RlIHtcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihtb2RlbDogQ2FudmFzTW9kZWwpIHtcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGVcIik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZTtcbiIsImltcG9ydCBDYW52YXNNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2NhbnZhcy5tb2RlbFwiO1xuXG5jbGFzcyBTdGF0cyB7XG4gIG1vZGVsOiBDYW52YXNNb2RlbDtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IENhbnZhc01vZGVsKSB7XG4gICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGF0c1wiKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5pbml0Q29udGFpbmVyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW5cIj5cbiAgICAgICAgPGRpdj54IC0gJHtNYXRoLnJvdW5kKHRoaXMubW9kZWwub2Zmc2V0LngpfSBcbiAgICAgICAgLyB5IC0gJHtNYXRoLnJvdW5kKHRoaXMubW9kZWwub2Zmc2V0LnkpfTwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdj54IC0gJHtNYXRoLnJvdW5kKHRoaXMubW9kZWwubW91c2U/LnggPz8gMCl9IFxuICAgICAgICAvIHkgLSAke01hdGgucm91bmQodGhpcy5tb2RlbC5tb3VzZT8ueSA/PyAwKX08L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXY+c2NhbGUgLSAke3RoaXMubW9kZWwuc2NhbGUuYW1vdW50fTwvZGl2PlxuICAgICAgICA8ZGl2PndpZHRoIC0gJHt0aGlzLm1vZGVsLmNhbnZhc1NpemU/Lnh9IC8gaGVpZ2h0IC0gJHtcbiAgICAgIHRoaXMubW9kZWwuY2FudmFzU2l6ZT8ueVxuICAgIH0gLyA8L2Rpdj5cbiAgICAgICAgPGRpdj5yYXRpbyB4ICR7dGhpcy5tb2RlbC5tb3VzZUNhbnZhc1JhdGlvPy54fSAvIHkgJHtcbiAgICAgIHRoaXMubW9kZWwubW91c2VDYW52YXNSYXRpbz8ueVxuICAgIH08L2Rpdj5cbiAgICAgICAgPGRpdj5tb2RlIGlzICR7dGhpcy5tb2RlbC5hY3Rpb25Nb2RlfTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIGluaXRDb250YWluZXIoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxNTBweFwiO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIyMDBweFwiO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUubWFyZ2luTGVmdCA9IFwiMTBweFwiO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0YXRzO1xuIiwiaW1wb3J0IHtkZWZhdWx0IGFzIF8yRENvbnRyb2xsZXJ9IGZyb20gXCIuLzJkXCI7XG5cbmNsYXNzIEFwcCB7XG4gIF8yZDogXzJEQ29udHJvbGxlciA9IG5ldyBfMkRDb250cm9sbGVyKClcblxuXG4gIHJ1bigpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcFxuIiwiaW1wb3J0IEFwcCBmcm9tICcuL2FwcCc7XG5cbmNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcblxuYXBwLnJ1bigpOyJdfQ=="}