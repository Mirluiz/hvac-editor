{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/2d/controllers/canvas.controller.ts","app/2d/controllers/mode.controller.ts","app/2d/index.ts","app/2d/models/architecture/wall.model.ts","app/2d/models/canvas.model.ts","app/2d/models/geometry/arc.model.ts","app/2d/models/geometry/line.model.ts","app/2d/models/heating/pipe.model.ts","app/2d/models/heating/valve.model.ts","app/2d/models/main.model.ts","app/2d/views/canvas.view.ts","app/2d/views/mode.view.ts","app/2d/views/stats.view.ts","app/app.ts","app/geometry/vect.ts","app/main.ts","app/utils.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import CanvasView from \"../views/canvas.view\";\nimport CanvasModel from \"../models/canvas.model\";\nimport StatsView from \"../views/stats.view\";\nimport Wall from \"../models/architecture/wall.model\";\nimport Pipe from \"../models/heating/pipe.model\";\nimport Line from \"../models/geometry/line.model\";\nimport Valve from \"../models/heating/valve.model\";\nimport { Vector } from \"../../geometry/vect\";\nimport PipeModel from \"../models/heating/pipe.model\";\n\nclass Canvas {\n  view: CanvasView;\n  stats: StatsView;\n  model: CanvasModel;\n\n  constructor() {\n    this.model = new CanvasModel();\n    this.view = new CanvasView(this.model);\n    this.stats = new StatsView(this.model);\n\n    if (this.view.container) {\n      this.view.container.addEventListener(\n        \"mousemove\",\n        this.mouseMove.bind(this)\n      );\n      this.view.container.addEventListener(\n        \"mousedown\",\n        this.mouseDown.bind(this)\n      );\n      this.view.container.addEventListener(\"mouseup\", this.mouseUp.bind(this));\n      this.view.container.addEventListener(\"wheel\", this.mouseWheel.bind(this));\n    }\n  }\n\n  mouseWheel(e: WheelEvent) {\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseDown(e: Event): void {\n    this.model.clicked = true;\n\n    if (!this.model.mouse) return;\n\n    let _mouse = new Vector(this.model.mouse.x, this.model.mouse.y);\n\n    if (this.model.config.net.bind) {\n      _mouse.x =\n        Math.round(_mouse.x / this.model.config.net.step) *\n        this.model.config.net.step;\n      _mouse.y =\n        Math.round(_mouse.y / this.model.config.net.step) *\n        this.model.config.net.step;\n    }\n\n    if (!this.model.actionObject) {\n      switch (this.model.actionMode) {\n        case \"wall\":\n          this.model.actionObject = this.model.addWall(\n            new Vector(_mouse.x, _mouse.y),\n            new Vector(_mouse.x, _mouse.y)\n          );\n          break;\n        case \"pipe\":\n          let p = new Pipe(\n            new Vector(_mouse.x, _mouse.y),\n            new Vector(_mouse.x, _mouse.y)\n          );\n          p.color = \"red\";\n          p.width = 5;\n\n          this.model.actionObject = p;\n          break;\n      }\n    } else {\n      switch (this.model.actionMode) {\n        case \"wall\":\n          this.model.addWall(\n            this.model.actionObject.start,\n            this.model.actionObject.end\n          );\n          break;\n        case \"pipe\":\n          this.model.addPipe(\n            this.model.actionObject.start,\n            this.model.actionObject.end\n          );\n          break;\n      }\n\n      this.model.actionObject = null;\n\n      let p = new Pipe(\n        new Vector(_mouse.x, _mouse.y),\n        new Vector(_mouse.x, _mouse.y)\n      );\n      p.color = \"red\";\n      p.width = 5;\n\n      this.model.actionObject = p;\n    }\n\n    if (!this.model.placingObject) {\n      if (this.model.config.net.bind) {\n        _mouse.x =\n          Math.round(_mouse.x / this.model.config.net.step) *\n          this.model.config.net.step;\n        _mouse.y =\n          Math.round(_mouse.y / this.model.config.net.step) *\n          this.model.config.net.step;\n      }\n\n      switch (this.model.actionMode) {\n        case \"valve\":\n          let v = new Valve(new Vector(_mouse.x, _mouse.y));\n          this.model.placingObject = v;\n          break;\n      }\n    } else {\n      switch (this.model.actionMode) {\n        case \"valve\":\n          this.model.addValve(this.model.placingObject.center);\n          break;\n      }\n\n      this.model.actionObject = null;\n    }\n\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseMove(e: MouseEvent): void {\n    if (!this.model.mouse) {\n      this.model.mouse = {\n        x: e.offsetX,\n        y: e.offsetY,\n      };\n    } else {\n      this.model.mouse.x = e.offsetX;\n      this.model.mouse.y = e.offsetY;\n    }\n\n    if (this.model.actionObject) {\n      if (this.model.actionObject instanceof Pipe) {\n        let _mouse = new Vector(this.model.mouse.x, this.model.mouse.y);\n\n        if (this.model.config.net.bind) {\n          _mouse.x =\n            Math.round(_mouse.x / this.model.config.net.step) *\n            this.model.config.net.step;\n          _mouse.y =\n            Math.round(_mouse.y / this.model.config.net.step) *\n            this.model.config.net.step;\n        }\n        this.model.actionObject.end.x = _mouse.x;\n        this.model.actionObject.end.y = _mouse.y;\n\n        // this.model.actionObject.getNearestCoordinateOnPipe(\n        //   new Vector(this.model.mouse.x, this.model.mouse.y),\n        //   this.model.pipes[0]\n        // );\n      }\n    }\n\n    if (this.model.placingObject) {\n      if (this.model.placingObject instanceof Valve) {\n        let _mouse = new Vector(this.model.mouse.x, this.model.mouse.y);\n\n        if (this.model.config.net.bind) {\n          _mouse.x =\n            Math.round(_mouse.x / this.model.config.net.step) *\n            this.model.config.net.step;\n          _mouse.y =\n            Math.round(_mouse.y / this.model.config.net.step) *\n            this.model.config.net.step;\n        }\n        this.model.placingObject.center.x = _mouse.x;\n        this.model.placingObject.center.y = _mouse.y;\n      }\n    }\n\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseUp(e: Event) {\n    this.model.clicked = false;\n  }\n}\n\nexport default Canvas;\n","import CanvasView from \"../views/canvas.view\";\nimport CanvasModel from \"../models/canvas.model\";\nimport StatsView from \"../views/stats.view\";\nimport ModeView from \"../views/mode.view\";\n\nclass Mode {\n  view: ModeView;\n  model: CanvasModel;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.view = new ModeView(this.model);\n\n    console.log(this.view);\n\n    if (this.view.container) {\n      this.view.container.addEventListener(\"click\", this.mouseDown.bind(this));\n    }\n  }\n\n  mouseDown(e: Event) {\n    let cT = e.target as HTMLInputElement;\n    let value = cT.value;\n\n    if (\n      value === \"default\" ||\n      value === \"wall\" ||\n      value === \"pipe\" ||\n      value === \"valve\"\n    ) {\n      this.model.actionMode = value;\n    }\n  }\n}\n\nexport default Mode;\n","import CanvasController from \"./controllers/canvas.controller\";\nimport ModeController from \"./controllers/mode.controller\";\nimport StatsView from \"./views/stats.view\";\n\nclass Controller {\n  canvas: CanvasController = new CanvasController();\n\n  mode: ModeController;\n\n  constructor() {\n    this.mode = new ModeController(this.canvas.model);\n  }\n}\n\nexport default Controller;\n","import { IVec } from \"../../../geometry/vect\";\nimport Line from \"../geometry/line.model\";\n\nclass Wall extends Line {\n  constructor(start: IVec, end: IVec) {\n    super(start, end);\n  }\n}\n\nexport default Wall;\n","import { ICoord, IVec, Vector } from \"../../geometry/vect\";\nimport Wall from \"./architecture/wall.model\";\nimport Pipe from \"./heating/pipe.model\";\nimport Valve from \"./heating/valve.model\";\n\nclass Canvas {\n  private _walls: Array<Wall> = [];\n  private _pipes: Array<Pipe> = [];\n  private _valves: Array<Valve> = [];\n\n  actionMode: \"default\" | \"wall\" | \"pipe\" | \"valve\" = \"pipe\";\n  actionObject: Wall | Pipe | null = null;\n  placingObject: Valve | null = null;\n\n  nearestObject: IVec | null = null;\n\n  mouse: ICoord | null = null;\n  canvasSize: ICoord | null = null;\n  mouseCanvasRatio: ICoord | null = null;\n  scale: {\n    amount: number;\n    coord: ICoord | null;\n    limitReached: boolean;\n  } = {\n    amount: 1,\n    coord: null,\n    limitReached: false,\n  };\n  clicked: boolean = false;\n  keyboard: string | null = null;\n  offset: ICoord = { x: 0, y: 0 };\n  config: IConfig = {\n    axis: {\n      show: true,\n    },\n    net: {\n      bind: true,\n      show: true,\n      step: 20,\n    },\n  };\n\n  get walls(): Array<Wall> {\n    return this._walls;\n  }\n\n  set walls(value: Array<Wall>) {\n    this._walls = value;\n  }\n\n  get pipes(): Array<Pipe> {\n    return this._pipes;\n  }\n\n  set pipes(value: Array<Pipe>) {\n    this._pipes = value;\n  }\n\n  get valves(): Array<Valve> {\n    return this._valves;\n  }\n\n  set valves(value: Array<Valve>) {\n    this._valves = value;\n  }\n\n  addWall(start: IVec, end: IVec) {\n    let wall = new Wall(start, end);\n\n    wall.color = \"black\";\n    wall.width = 5;\n\n    this.walls.push(wall);\n    this.walls = this.walls;\n\n    return wall;\n  }\n\n  addPipe(start: IVec, end: IVec) {\n    let pipe = new Pipe(start, end);\n\n    pipe.color = \"red\";\n    pipe.width = 5;\n\n    this.pipes.push(pipe);\n    this.pipes = this.pipes;\n\n    return pipe;\n  }\n\n  addValve(center: IVec) {\n    let valve = new Valve(center);\n\n    valve.color = \"red\";\n    valve.width = 2;\n\n    this.valves.push(valve);\n    this.valves = this.valves;\n\n    return valve;\n  }\n}\n\ninterface IConfig {\n  axis: {\n    show: boolean;\n  };\n  net: {\n    bind: boolean;\n    show: boolean;\n    step: 15 | 20 | 50;\n  };\n}\n\nexport default Canvas;\n","import { IVec } from \"../../../geometry/vect\";\nimport Main from \"../main.model\";\n\nclass Arc extends Main {\n  radius: number = 5;\n  center: IVec;\n\n  color: string = \"#fff\";\n  width: number = 1;\n\n  constructor(center: IVec) {\n    super();\n\n    this.center = center;\n  }\n}\n\nexport default Arc;\n","import { IVec } from \"../../../geometry/vect\";\nimport Main from \"../main.model\";\n\nclass Line extends Main {\n  thickness: number = 1;\n  start: IVec;\n  end: IVec;\n\n  color: string = \"#000\";\n  width: number = 1;\n\n  constructor(start: IVec, end: IVec) {\n    super();\n\n    this.start = start;\n    this.end = end;\n  }\n}\n\nexport default Line;\n","import { ICoord, IVec, Vector } from \"../../../geometry/vect\";\nimport Line from \"../geometry/line.model\";\n\nclass Pipe extends Line {\n  constructor(start: IVec, end: IVec) {\n    super(start, end);\n  }\n\n  getNearestPipe(pipes: Array<Pipe>) {\n    let pipe = pipes.find((pipe) => {\n      if (pipe._id === this._id) return;\n\n      let start = pipe.start.distanceTo(this.end);\n      let end = pipe.end.distanceTo(this.end);\n\n      return (start && start < 30) || (end && end < 30);\n    });\n\n    return pipe;\n  }\n\n  getNearestCoordinateOnPipe(coord: IVec, pipe: Pipe) {\n    let _coord = coord.sub(pipe.start);\n  }\n}\n\nexport default Pipe;\n","import { IVec } from \"../../../geometry/vect\";\nimport Line from \"../geometry/line.model\";\nimport Arc from \"../geometry/arc.model\";\n\nclass Valve extends Arc {\n  constructor(center: IVec) {\n    super(center);\n  }\n}\n\nexport default Valve;\n","import { uuid } from \"../../utils\";\n\nclass Main {\n  _id: string;\n\n  constructor() {\n    this._id = uuid();\n  }\n}\n\nexport default Main;\n","import { IVec, Vector } from \"../../geometry/vect\";\nimport CanvasModel from \"../models/canvas.model\";\nimport Valve from \"../models/heating/valve.model\";\nimport Line from \"../models/geometry/line.model\";\nimport Pipe from \"../models/heating/pipe.model\";\n\nclass Canvas {\n  model: CanvasModel;\n  container: HTMLCanvasElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#editor\");\n    this.init();\n  }\n\n  init() {\n    this.initCanvasContainer();\n  }\n\n  draw() {\n    this.clear();\n    this.drawNet();\n    this.drawMouse();\n    this.drawWalls();\n    this.drawPipes();\n    this.drawValves();\n    this.drawTempObjects();\n    this.drawNearestObject();\n  }\n\n  clear() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n\n    ctx.clearRect(0, 0, this.container.width, this.container.height);\n  }\n\n  drawMouse() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 2;\n    ctx.arc(this.model.mouse.x, this.model.mouse.y, 1, 0, 2 * Math.PI);\n\n    ctx.restore();\n  }\n\n  drawNet() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.net.show) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n\n    let step = this.model.config.net.step * this.model.scale.amount;\n    let h = this.container.height;\n    let w = this.container.width;\n    let netOffset: IVec = new Vector(\n      this.model.offset.x % step,\n      this.model.offset.y % step\n    );\n\n    //x\n    let iV = 0;\n    let maxV = w / step;\n    while (iV <= maxV) {\n      let from: IVec = new Vector(step * iV + netOffset.x, 0);\n      let to: IVec = new Vector(step * iV + netOffset.x, h);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n      iV++;\n    }\n\n    //y\n    let iH = 0;\n    let maxH = h / step;\n    while (iH <= maxH) {\n      let from: IVec = new Vector(0, step * iH + netOffset.y);\n      let to: IVec = new Vector(w, step * iH + netOffset.y);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      iH++;\n    }\n\n    ctx.globalAlpha = 0.2;\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawNet1() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.net.show) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n\n    // let step = this.model.config.net.step * this.model.scale.amount;\n    let step = this.model.config.net.step;\n    let h = this.container.height;\n    let w = this.container.width;\n\n    //x\n    let iV = 0;\n    let maxV = w / step;\n    while (iV <= maxV) {\n      let from: IVec = this.getWorldCoordinates(step * iV, 0);\n      let to: IVec = this.getWorldCoordinates(step * iV, h);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n      iV++;\n    }\n\n    //y\n    let iH = 0;\n    let maxH = h / step;\n    while (iH <= maxH) {\n      let from: IVec = this.getWorldCoordinates(0, step * iH);\n      let to: IVec = this.getWorldCoordinates(w, step * iH);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      iH++;\n    }\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawAxis() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.axis.show) return;\n\n    ctx.save();\n    ctx.beginPath();\n\n    let h = this.container.height;\n    let w = this.container.width;\n\n    let x_From = this.getWorldCoordinates(0, 0);\n    let x_To = this.getWorldCoordinates(w, 0);\n    let y_From = this.getWorldCoordinates(0, 0);\n    let y_To = this.getWorldCoordinates(0, h);\n\n    ctx.moveTo(0, x_From.y);\n    ctx.lineTo(w, x_To.y);\n\n    ctx.moveTo(y_From.x, 0);\n    ctx.lineTo(y_To.x, h);\n    ctx.strokeStyle = \"red\";\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawWalls() {\n    let walls = this.model.walls;\n\n    walls?.map((wall) => {\n      if (!this.container) return;\n\n      const ctx = this.container.getContext(\"2d\");\n\n      if (!ctx) return;\n\n      ctx.save();\n      ctx.beginPath();\n\n      let from = this.getWorldCoordinates(wall.start.x, wall.start.y);\n      let to = this.getWorldCoordinates(wall.end.x, wall.end.y);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      console.log(\"wall.color\", wall.color);\n      ctx.strokeStyle = wall.color;\n      ctx.lineWidth = wall.width;\n\n      ctx.stroke();\n      ctx.restore();\n    });\n  }\n\n  drawPipes() {\n    let pipes = this.model.pipes;\n\n    pipes?.map((pipe) => {\n      this.drawLine(pipe);\n    });\n  }\n\n  drawLine(line: Line) {\n    if (!this.container) return;\n\n    const ctx = this.container.getContext(\"2d\");\n\n    if (!ctx) return;\n\n    ctx.save();\n    ctx.beginPath();\n\n    let from = this.getWorldCoordinates(line.start.x, line.start.y);\n    let to = this.getWorldCoordinates(line.end.x, line.end.y);\n\n    ctx.moveTo(from.x, from.y);\n    ctx.lineTo(to.x, to.y);\n\n    ctx.strokeStyle = line.color;\n    ctx.lineWidth = line.width;\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawValves() {\n    let valves = this.model.valves;\n\n    valves?.map((valve) => {\n      this.drawValve(valve);\n    });\n  }\n\n  drawValve(valve: Valve) {\n    if (!this.container) return;\n\n    const ctx = this.container.getContext(\"2d\");\n\n    if (!ctx) return;\n\n    ctx.save();\n    ctx.beginPath();\n\n    let c = this.getWorldCoordinates(valve.center.x, valve.center.y);\n\n    ctx.arc(c.x, c.y, valve.radius, 0, 2 * Math.PI);\n\n    ctx.fillStyle = \"black\";\n\n    ctx.fill();\n    ctx.restore();\n  }\n\n  drawTempObjects() {\n    if (this.model.placingObject instanceof Valve) {\n      this.drawValve(this.model.placingObject);\n    }\n\n    if (this.model.actionObject instanceof Pipe) {\n      this.drawLine(this.model.actionObject);\n    }\n  }\n\n  drawNearestObject() {\n    if (this.model.actionObject instanceof Pipe) {\n      if (this.model.nearestObject) {\n        let line = new Line(\n          this.model.actionObject.end,\n          this.model.nearestObject\n        );\n\n        line.color = \"green\";\n\n        this.drawLine(line);\n      }\n    }\n  }\n\n  //TODO: apply scale transformation here\n  getWorldCoordinates(x: number, y: number): IVec {\n    let _this = this;\n\n    let scale = function (vec: IVec): Vector {\n      return new Vector(\n        vec.x * _this.model.scale.amount,\n        vec.y * _this.model.scale.amount\n      );\n    };\n\n    let translate = function (vec: IVec): Vector {\n      return new Vector(\n        vec.x + _this.model.offset.x,\n        vec.y + _this.model.offset.y\n      );\n    }.bind(this);\n\n    let t = new Vector(x, y);\n    t = scale(t);\n    // t = rotation(t); TODO order is scaling rotation translation\n    t = translate(t);\n\n    return t;\n  }\n\n  //x: (x + this.model.offset.x) * this.model.scale.amount * this.model.scale.coord.x,\n  //       y: (y + this.model.offset.y)  * this.model.scale.amount,\n  // getLocalCoordinates(x: number, y: number) {\n  //   return {\n  //     x: (x + this.model.offset.x) * this.model.scale.amount * this.model.scale.coord ,\n  //     y: (y + this.model.offset.y)  * this.model.scale.amount,\n  //   };\n  // }\n\n  initCanvasContainer(): void {\n    if (!this.container) return;\n\n    this.container.style.height = \"600px\";\n    this.container.style.width = \"900px\";\n    this.container.height = 600;\n    this.container.width = 900;\n    this.container.style.border = \"1px solid black\";\n\n    this.model.canvasSize = {\n      y: 600,\n      x: 900,\n    };\n  }\n}\n\nexport default Canvas;\n","import CanvasModel from \"../models/canvas.model\";\n\nclass Mode {\n  model: CanvasModel;\n  container: HTMLElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#mode\");\n  }\n}\n\nexport default Mode;\n","import CanvasModel from \"../models/canvas.model\";\n\nclass Stats {\n  model: CanvasModel;\n  container: HTMLElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#stats\");\n    this.init();\n  }\n\n  init() {\n    this.initContainer();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div style=\"display: flex; flex-direction: column\">\n        <div>x - ${Math.round(this.model.offset.x)} \n        / y - ${Math.round(this.model.offset.y)}</div>\n        \n        <div>x - ${Math.round(this.model.mouse?.x ?? 0)} \n        / y - ${Math.round(this.model.mouse?.y ?? 0)}</div>\n        \n        <div>scale - ${this.model.scale.amount}</div>\n        <div>width - ${this.model.canvasSize?.x} / height - ${\n      this.model.canvasSize?.y\n    } / </div>\n        <div>ratio x ${this.model.mouseCanvasRatio?.x} / y ${\n      this.model.mouseCanvasRatio?.y\n    }</div>\n        <div>mode is ${this.model.actionMode}</div>\n      </div>\n    `;\n  }\n\n  initContainer(): void {\n    if (!this.container) return;\n\n    this.container.style.height = \"150px\";\n    this.container.style.width = \"200px\";\n    this.container.style.border = \"1px solid black\";\n    this.container.style.marginLeft = \"10px\";\n  }\n}\n\nexport default Stats;\n","import { default as _2DController } from \"./2d\";\n\ndeclare global {\n  interface Window {\n    app: App;\n  }\n}\n\nclass App {\n  _2d: _2DController = new _2DController();\n\n  run() {\n    window.app = this;\n  }\n}\n\nexport default App;\n","import Line from \"../2d/models/geometry/line.model\";\n\nexport class Vector implements IVec {\n  x: number;\n  y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  distanceTo(v: IVec) {\n    let _v = new Vector(this.x - v.x, this.y - v.y);\n    return _v.length;\n  }\n\n  distanceToLine(l: Line) {\n    return 1;\n  }\n\n  get length() {\n    return Math.sqrt(this.x ** 2 + this.y ** 2);\n  }\n\n  projection() {\n    return new Vector(this.x, this.y);\n  }\n\n  sub(v: IVec) {\n    return new Vector(this.x - v.x, this.y - v.y);\n  }\n\n  angle(v: IVec) {\n    return Math.acos((this.x * v.x + this.y * v.y) / (this.length * v.length));\n  }\n\n  // dot(a: IVec): number {\n  //   return a.x * this.x + a.y * this.y;\n  // }\n  //\n  // cross(a: IVec): number {\n  //   return 1;\n  // }\n}\n\nexport interface IVec extends ICoord {\n  length: number;\n  distanceTo: (v: IVec) => number;\n  sub: (v: IVec) => IVec;\n  distanceToLine: (l: Line) => number;\n  angle: (v: IVec) => number;\n}\n\nexport interface ICoord {\n  x: number;\n  y: number;\n}\n","import App from './app';\n\nconst app = new App();\n\napp.run();","export const uuid = (): string => {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvMmQvY29udHJvbGxlcnMvY2FudmFzLmNvbnRyb2xsZXIudHMiLCJhcHAvMmQvY29udHJvbGxlcnMvbW9kZS5jb250cm9sbGVyLnRzIiwiYXBwLzJkL2luZGV4LnRzIiwiYXBwLzJkL21vZGVscy9hcmNoaXRlY3R1cmUvd2FsbC5tb2RlbC50cyIsImFwcC8yZC9tb2RlbHMvY2FudmFzLm1vZGVsLnRzIiwiYXBwLzJkL21vZGVscy9nZW9tZXRyeS9hcmMubW9kZWwudHMiLCJhcHAvMmQvbW9kZWxzL2dlb21ldHJ5L2xpbmUubW9kZWwudHMiLCJhcHAvMmQvbW9kZWxzL2hlYXRpbmcvcGlwZS5tb2RlbC50cyIsImFwcC8yZC9tb2RlbHMvaGVhdGluZy92YWx2ZS5tb2RlbC50cyIsImFwcC8yZC9tb2RlbHMvbWFpbi5tb2RlbC50cyIsImFwcC8yZC92aWV3cy9jYW52YXMudmlldy50cyIsImFwcC8yZC92aWV3cy9tb2RlLnZpZXcudHMiLCJhcHAvMmQvdmlld3Mvc3RhdHMudmlldy50cyIsImFwcC9hcHAudHMiLCJhcHAvZ2VvbWV0cnkvdmVjdC50cyIsImFwcC9tYWluLnRzIiwiYXBwL3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDQUEsSUFBQSxnQkFBQSxnQkFBQSxRQUFBLHNCQUFBLENBQUEsQ0FBQTtBQUNBLElBQUEsaUJBQUEsZ0JBQUEsUUFBQSx3QkFBQSxDQUFBLENBQUE7QUFDQSxJQUFBLGVBQUEsZ0JBQUEsUUFBQSxxQkFBQSxDQUFBLENBQUE7QUFFQSxJQUFBLGVBQUEsZ0JBQUEsUUFBQSw4QkFBQSxDQUFBLENBQUE7QUFFQSxJQUFBLGdCQUFBLGdCQUFBLFFBQUEsK0JBQUEsQ0FBQSxDQUFBO0FBQ0EsSUFBQSxTQUFBLFFBQUEscUJBQUEsQ0FBQTtBQUdBLElBQUEsU0FBQSxhQUFBLFlBQUE7QUFLRSxhQUFBLE1BQUEsR0FBQTtB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QUE7Ozs7Ozs7OztBQ0ZiLElBQUEsUUFBQSxnQkFBQSxRQUFBLE9BQUEsQ0FBQSxDQUFBO0FBRUEsSUFBTSxNQUFNLElBQUksTUFBQSxPQUFKLEVBQVo7QUFFQSxJQUFJLEdBQUo7Ozs7Ozs7QUNKTyxJQUFNLE9BQU8sU0FBUCxJQUFPLEdBQUE7QUFDbEIsV0FBTyx1Q0FBdUMsT0FBdkMsQ0FBK0MsT0FBL0MsRUFBd0QsVUFBVSxDQUFWLEVBQVc7QUFDeEUsWUFBSSxJQUFLLEtBQUssTUFBTCxLQUFnQixFQUFqQixHQUF1QixDQUEvQjtBQUFBLFlBQ0UsSUFBSSxLQUFLLEdBQUwsR0FBVyxDQUFYLEdBQWdCLElBQUksR0FBTCxHQUFZLEdBRGpDO0FBRUEsZUFBTyxFQUFFLFFBQUYsQ0FBVyxFQUFYLENBQVA7QUFDRCxLQUpNLENBQVA7QUFLRCxDQU5NO0FBQU0sUUFBQSxJQUFBLEdBQUksSUFBSiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCBDYW52YXNWaWV3IGZyb20gXCIuLi92aWV3cy9jYW52YXMudmlld1wiO1xuaW1wb3J0IENhbnZhc01vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FudmFzLm1vZGVsXCI7XG5pbXBvcnQgU3RhdHNWaWV3IGZyb20gXCIuLi92aWV3cy9zdGF0cy52aWV3XCI7XG5pbXBvcnQgV2FsbCBmcm9tIFwiLi4vbW9kZWxzL2FyY2hpdGVjdHVyZS93YWxsLm1vZGVsXCI7XG5pbXBvcnQgUGlwZSBmcm9tIFwiLi4vbW9kZWxzL2hlYXRpbmcvcGlwZS5tb2RlbFwiO1xuaW1wb3J0IExpbmUgZnJvbSBcIi4uL21vZGVscy9nZW9tZXRyeS9saW5lLm1vZGVsXCI7XG5pbXBvcnQgVmFsdmUgZnJvbSBcIi4uL21vZGVscy9oZWF0aW5nL3ZhbHZlLm1vZGVsXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvdmVjdFwiO1xuaW1wb3J0IFBpcGVNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2hlYXRpbmcvcGlwZS5tb2RlbFwiO1xuXG5jbGFzcyBDYW52YXMge1xuICB2aWV3OiBDYW52YXNWaWV3O1xuICBzdGF0czogU3RhdHNWaWV3O1xuICBtb2RlbDogQ2FudmFzTW9kZWw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tb2RlbCA9IG5ldyBDYW52YXNNb2RlbCgpO1xuICAgIHRoaXMudmlldyA9IG5ldyBDYW52YXNWaWV3KHRoaXMubW9kZWwpO1xuICAgIHRoaXMuc3RhdHMgPSBuZXcgU3RhdHNWaWV3KHRoaXMubW9kZWwpO1xuXG4gICAgaWYgKHRoaXMudmlldy5jb250YWluZXIpIHtcbiAgICAgIHRoaXMudmlldy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZW1vdmVcIixcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICAgIHRoaXMudmlldy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWRvd25cIixcbiAgICAgICAgdGhpcy5tb3VzZURvd24uYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICAgIHRoaXMudmlldy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy52aWV3LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5tb3VzZVdoZWVsLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIG1vdXNlV2hlZWwoZTogV2hlZWxFdmVudCkge1xuICAgIHRoaXMuc3RhdHMucmVuZGVyKCk7XG4gICAgdGhpcy52aWV3LmRyYXcoKTtcbiAgfVxuXG4gIG1vdXNlRG93bihlOiBFdmVudCk6IHZvaWQge1xuICAgIHRoaXMubW9kZWwuY2xpY2tlZCA9IHRydWU7XG5cbiAgICBpZiAoIXRoaXMubW9kZWwubW91c2UpIHJldHVybjtcblxuICAgIGxldCBfbW91c2UgPSBuZXcgVmVjdG9yKHRoaXMubW9kZWwubW91c2UueCwgdGhpcy5tb2RlbC5tb3VzZS55KTtcblxuICAgIGlmICh0aGlzLm1vZGVsLmNvbmZpZy5uZXQuYmluZCkge1xuICAgICAgX21vdXNlLnggPVxuICAgICAgICBNYXRoLnJvdW5kKF9tb3VzZS54IC8gdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXApICpcbiAgICAgICAgdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXA7XG4gICAgICBfbW91c2UueSA9XG4gICAgICAgIE1hdGgucm91bmQoX21vdXNlLnkgLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubW9kZWwuYWN0aW9uT2JqZWN0KSB7XG4gICAgICBzd2l0Y2ggKHRoaXMubW9kZWwuYWN0aW9uTW9kZSkge1xuICAgICAgICBjYXNlIFwid2FsbFwiOlxuICAgICAgICAgIHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0ID0gdGhpcy5tb2RlbC5hZGRXYWxsKFxuICAgICAgICAgICAgbmV3IFZlY3RvcihfbW91c2UueCwgX21vdXNlLnkpLFxuICAgICAgICAgICAgbmV3IFZlY3RvcihfbW91c2UueCwgX21vdXNlLnkpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBpcGVcIjpcbiAgICAgICAgICBsZXQgcCA9IG5ldyBQaXBlKFxuICAgICAgICAgICAgbmV3IFZlY3RvcihfbW91c2UueCwgX21vdXNlLnkpLFxuICAgICAgICAgICAgbmV3IFZlY3RvcihfbW91c2UueCwgX21vdXNlLnkpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwLmNvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgICBwLndpZHRoID0gNTtcblxuICAgICAgICAgIHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0ID0gcDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICh0aGlzLm1vZGVsLmFjdGlvbk1vZGUpIHtcbiAgICAgICAgY2FzZSBcIndhbGxcIjpcbiAgICAgICAgICB0aGlzLm1vZGVsLmFkZFdhbGwoXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdC5zdGFydCxcbiAgICAgICAgICAgIHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0LmVuZFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwaXBlXCI6XG4gICAgICAgICAgdGhpcy5tb2RlbC5hZGRQaXBlKFxuICAgICAgICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3Quc3RhcnQsXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdC5lbmRcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdCA9IG51bGw7XG5cbiAgICAgIGxldCBwID0gbmV3IFBpcGUoXG4gICAgICAgIG5ldyBWZWN0b3IoX21vdXNlLngsIF9tb3VzZS55KSxcbiAgICAgICAgbmV3IFZlY3RvcihfbW91c2UueCwgX21vdXNlLnkpXG4gICAgICApO1xuICAgICAgcC5jb2xvciA9IFwicmVkXCI7XG4gICAgICBwLndpZHRoID0gNTtcblxuICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3QgPSBwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tb2RlbC5wbGFjaW5nT2JqZWN0KSB7XG4gICAgICBpZiAodGhpcy5tb2RlbC5jb25maWcubmV0LmJpbmQpIHtcbiAgICAgICAgX21vdXNlLnggPVxuICAgICAgICAgIE1hdGgucm91bmQoX21vdXNlLnggLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICAgIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwO1xuICAgICAgICBfbW91c2UueSA9XG4gICAgICAgICAgTWF0aC5yb3VuZChfbW91c2UueSAvIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwKSAqXG4gICAgICAgICAgdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXA7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodGhpcy5tb2RlbC5hY3Rpb25Nb2RlKSB7XG4gICAgICAgIGNhc2UgXCJ2YWx2ZVwiOlxuICAgICAgICAgIGxldCB2ID0gbmV3IFZhbHZlKG5ldyBWZWN0b3IoX21vdXNlLngsIF9tb3VzZS55KSk7XG4gICAgICAgICAgdGhpcy5tb2RlbC5wbGFjaW5nT2JqZWN0ID0gdjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICh0aGlzLm1vZGVsLmFjdGlvbk1vZGUpIHtcbiAgICAgICAgY2FzZSBcInZhbHZlXCI6XG4gICAgICAgICAgdGhpcy5tb2RlbC5hZGRWYWx2ZSh0aGlzLm1vZGVsLnBsYWNpbmdPYmplY3QuY2VudGVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3QgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdHMucmVuZGVyKCk7XG4gICAgdGhpcy52aWV3LmRyYXcoKTtcbiAgfVxuXG4gIG1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm1vZGVsLm1vdXNlKSB7XG4gICAgICB0aGlzLm1vZGVsLm1vdXNlID0ge1xuICAgICAgICB4OiBlLm9mZnNldFgsXG4gICAgICAgIHk6IGUub2Zmc2V0WSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW9kZWwubW91c2UueCA9IGUub2Zmc2V0WDtcbiAgICAgIHRoaXMubW9kZWwubW91c2UueSA9IGUub2Zmc2V0WTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RlbC5hY3Rpb25PYmplY3QpIHtcbiAgICAgIGlmICh0aGlzLm1vZGVsLmFjdGlvbk9iamVjdCBpbnN0YW5jZW9mIFBpcGUpIHtcbiAgICAgICAgbGV0IF9tb3VzZSA9IG5ldyBWZWN0b3IodGhpcy5tb2RlbC5tb3VzZS54LCB0aGlzLm1vZGVsLm1vdXNlLnkpO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmNvbmZpZy5uZXQuYmluZCkge1xuICAgICAgICAgIF9tb3VzZS54ID1cbiAgICAgICAgICAgIE1hdGgucm91bmQoX21vdXNlLnggLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICAgICAgdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXA7XG4gICAgICAgICAgX21vdXNlLnkgPVxuICAgICAgICAgICAgTWF0aC5yb3VuZChfbW91c2UueSAvIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwKSAqXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdC5lbmQueCA9IF9tb3VzZS54O1xuICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdC5lbmQueSA9IF9tb3VzZS55O1xuXG4gICAgICAgIC8vIHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0LmdldE5lYXJlc3RDb29yZGluYXRlT25QaXBlKFxuICAgICAgICAvLyAgIG5ldyBWZWN0b3IodGhpcy5tb2RlbC5tb3VzZS54LCB0aGlzLm1vZGVsLm1vdXNlLnkpLFxuICAgICAgICAvLyAgIHRoaXMubW9kZWwucGlwZXNbMF1cbiAgICAgICAgLy8gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RlbC5wbGFjaW5nT2JqZWN0KSB7XG4gICAgICBpZiAodGhpcy5tb2RlbC5wbGFjaW5nT2JqZWN0IGluc3RhbmNlb2YgVmFsdmUpIHtcbiAgICAgICAgbGV0IF9tb3VzZSA9IG5ldyBWZWN0b3IodGhpcy5tb2RlbC5tb3VzZS54LCB0aGlzLm1vZGVsLm1vdXNlLnkpO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmNvbmZpZy5uZXQuYmluZCkge1xuICAgICAgICAgIF9tb3VzZS54ID1cbiAgICAgICAgICAgIE1hdGgucm91bmQoX21vdXNlLnggLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICAgICAgdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXA7XG4gICAgICAgICAgX21vdXNlLnkgPVxuICAgICAgICAgICAgTWF0aC5yb3VuZChfbW91c2UueSAvIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwKSAqXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsLnBsYWNpbmdPYmplY3QuY2VudGVyLnggPSBfbW91c2UueDtcbiAgICAgICAgdGhpcy5tb2RlbC5wbGFjaW5nT2JqZWN0LmNlbnRlci55ID0gX21vdXNlLnk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0cy5yZW5kZXIoKTtcbiAgICB0aGlzLnZpZXcuZHJhdygpO1xuICB9XG5cbiAgbW91c2VVcChlOiBFdmVudCkge1xuICAgIHRoaXMubW9kZWwuY2xpY2tlZCA9IGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhcztcbiIsImltcG9ydCBDYW52YXNWaWV3IGZyb20gXCIuLi92aWV3cy9jYW52YXMudmlld1wiO1xuaW1wb3J0IENhbnZhc01vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FudmFzLm1vZGVsXCI7XG5pbXBvcnQgU3RhdHNWaWV3IGZyb20gXCIuLi92aWV3cy9zdGF0cy52aWV3XCI7XG5pbXBvcnQgTW9kZVZpZXcgZnJvbSBcIi4uL3ZpZXdzL21vZGUudmlld1wiO1xuXG5jbGFzcyBNb2RlIHtcbiAgdmlldzogTW9kZVZpZXc7XG4gIG1vZGVsOiBDYW52YXNNb2RlbDtcblxuICBjb25zdHJ1Y3Rvcihtb2RlbDogQ2FudmFzTW9kZWwpIHtcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgdGhpcy52aWV3ID0gbmV3IE1vZGVWaWV3KHRoaXMubW9kZWwpO1xuXG4gICAgY29uc29sZS5sb2codGhpcy52aWV3KTtcblxuICAgIGlmICh0aGlzLnZpZXcuY29udGFpbmVyKSB7XG4gICAgICB0aGlzLnZpZXcuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1vdXNlRG93bi5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICBtb3VzZURvd24oZTogRXZlbnQpIHtcbiAgICBsZXQgY1QgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGxldCB2YWx1ZSA9IGNULnZhbHVlO1xuXG4gICAgaWYgKFxuICAgICAgdmFsdWUgPT09IFwiZGVmYXVsdFwiIHx8XG4gICAgICB2YWx1ZSA9PT0gXCJ3YWxsXCIgfHxcbiAgICAgIHZhbHVlID09PSBcInBpcGVcIiB8fFxuICAgICAgdmFsdWUgPT09IFwidmFsdmVcIlxuICAgICkge1xuICAgICAgdGhpcy5tb2RlbC5hY3Rpb25Nb2RlID0gdmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGU7XG4iLCJpbXBvcnQgQ2FudmFzQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVycy9jYW52YXMuY29udHJvbGxlclwiO1xuaW1wb3J0IE1vZGVDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJzL21vZGUuY29udHJvbGxlclwiO1xuaW1wb3J0IFN0YXRzVmlldyBmcm9tIFwiLi92aWV3cy9zdGF0cy52aWV3XCI7XG5cbmNsYXNzIENvbnRyb2xsZXIge1xuICBjYW52YXM6IENhbnZhc0NvbnRyb2xsZXIgPSBuZXcgQ2FudmFzQ29udHJvbGxlcigpO1xuXG4gIG1vZGU6IE1vZGVDb250cm9sbGVyO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubW9kZSA9IG5ldyBNb2RlQ29udHJvbGxlcih0aGlzLmNhbnZhcy5tb2RlbCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsImltcG9ydCB7IElWZWMgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvdmVjdFwiO1xuaW1wb3J0IExpbmUgZnJvbSBcIi4uL2dlb21ldHJ5L2xpbmUubW9kZWxcIjtcblxuY2xhc3MgV2FsbCBleHRlbmRzIExpbmUge1xuICBjb25zdHJ1Y3RvcihzdGFydDogSVZlYywgZW5kOiBJVmVjKSB7XG4gICAgc3VwZXIoc3RhcnQsIGVuZCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2FsbDtcbiIsImltcG9ydCB7IElDb29yZCwgSVZlYywgVmVjdG9yIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBXYWxsIGZyb20gXCIuL2FyY2hpdGVjdHVyZS93YWxsLm1vZGVsXCI7XG5pbXBvcnQgUGlwZSBmcm9tIFwiLi9oZWF0aW5nL3BpcGUubW9kZWxcIjtcbmltcG9ydCBWYWx2ZSBmcm9tIFwiLi9oZWF0aW5nL3ZhbHZlLm1vZGVsXCI7XG5cbmNsYXNzIENhbnZhcyB7XG4gIHByaXZhdGUgX3dhbGxzOiBBcnJheTxXYWxsPiA9IFtdO1xuICBwcml2YXRlIF9waXBlczogQXJyYXk8UGlwZT4gPSBbXTtcbiAgcHJpdmF0ZSBfdmFsdmVzOiBBcnJheTxWYWx2ZT4gPSBbXTtcblxuICBhY3Rpb25Nb2RlOiBcImRlZmF1bHRcIiB8IFwid2FsbFwiIHwgXCJwaXBlXCIgfCBcInZhbHZlXCIgPSBcInBpcGVcIjtcbiAgYWN0aW9uT2JqZWN0OiBXYWxsIHwgUGlwZSB8IG51bGwgPSBudWxsO1xuICBwbGFjaW5nT2JqZWN0OiBWYWx2ZSB8IG51bGwgPSBudWxsO1xuXG4gIG5lYXJlc3RPYmplY3Q6IElWZWMgfCBudWxsID0gbnVsbDtcblxuICBtb3VzZTogSUNvb3JkIHwgbnVsbCA9IG51bGw7XG4gIGNhbnZhc1NpemU6IElDb29yZCB8IG51bGwgPSBudWxsO1xuICBtb3VzZUNhbnZhc1JhdGlvOiBJQ29vcmQgfCBudWxsID0gbnVsbDtcbiAgc2NhbGU6IHtcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBjb29yZDogSUNvb3JkIHwgbnVsbDtcbiAgICBsaW1pdFJlYWNoZWQ6IGJvb2xlYW47XG4gIH0gPSB7XG4gICAgYW1vdW50OiAxLFxuICAgIGNvb3JkOiBudWxsLFxuICAgIGxpbWl0UmVhY2hlZDogZmFsc2UsXG4gIH07XG4gIGNsaWNrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAga2V5Ym9hcmQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBvZmZzZXQ6IElDb29yZCA9IHsgeDogMCwgeTogMCB9O1xuICBjb25maWc6IElDb25maWcgPSB7XG4gICAgYXhpczoge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICB9LFxuICAgIG5ldDoge1xuICAgICAgYmluZDogdHJ1ZSxcbiAgICAgIHNob3c6IHRydWUsXG4gICAgICBzdGVwOiAyMCxcbiAgICB9LFxuICB9O1xuXG4gIGdldCB3YWxscygpOiBBcnJheTxXYWxsPiB7XG4gICAgcmV0dXJuIHRoaXMuX3dhbGxzO1xuICB9XG5cbiAgc2V0IHdhbGxzKHZhbHVlOiBBcnJheTxXYWxsPikge1xuICAgIHRoaXMuX3dhbGxzID0gdmFsdWU7XG4gIH1cblxuICBnZXQgcGlwZXMoKTogQXJyYXk8UGlwZT4ge1xuICAgIHJldHVybiB0aGlzLl9waXBlcztcbiAgfVxuXG4gIHNldCBwaXBlcyh2YWx1ZTogQXJyYXk8UGlwZT4pIHtcbiAgICB0aGlzLl9waXBlcyA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHZhbHZlcygpOiBBcnJheTxWYWx2ZT4ge1xuICAgIHJldHVybiB0aGlzLl92YWx2ZXM7XG4gIH1cblxuICBzZXQgdmFsdmVzKHZhbHVlOiBBcnJheTxWYWx2ZT4pIHtcbiAgICB0aGlzLl92YWx2ZXMgPSB2YWx1ZTtcbiAgfVxuXG4gIGFkZFdhbGwoc3RhcnQ6IElWZWMsIGVuZDogSVZlYykge1xuICAgIGxldCB3YWxsID0gbmV3IFdhbGwoc3RhcnQsIGVuZCk7XG5cbiAgICB3YWxsLmNvbG9yID0gXCJibGFja1wiO1xuICAgIHdhbGwud2lkdGggPSA1O1xuXG4gICAgdGhpcy53YWxscy5wdXNoKHdhbGwpO1xuICAgIHRoaXMud2FsbHMgPSB0aGlzLndhbGxzO1xuXG4gICAgcmV0dXJuIHdhbGw7XG4gIH1cblxuICBhZGRQaXBlKHN0YXJ0OiBJVmVjLCBlbmQ6IElWZWMpIHtcbiAgICBsZXQgcGlwZSA9IG5ldyBQaXBlKHN0YXJ0LCBlbmQpO1xuXG4gICAgcGlwZS5jb2xvciA9IFwicmVkXCI7XG4gICAgcGlwZS53aWR0aCA9IDU7XG5cbiAgICB0aGlzLnBpcGVzLnB1c2gocGlwZSk7XG4gICAgdGhpcy5waXBlcyA9IHRoaXMucGlwZXM7XG5cbiAgICByZXR1cm4gcGlwZTtcbiAgfVxuXG4gIGFkZFZhbHZlKGNlbnRlcjogSVZlYykge1xuICAgIGxldCB2YWx2ZSA9IG5ldyBWYWx2ZShjZW50ZXIpO1xuXG4gICAgdmFsdmUuY29sb3IgPSBcInJlZFwiO1xuICAgIHZhbHZlLndpZHRoID0gMjtcblxuICAgIHRoaXMudmFsdmVzLnB1c2godmFsdmUpO1xuICAgIHRoaXMudmFsdmVzID0gdGhpcy52YWx2ZXM7XG5cbiAgICByZXR1cm4gdmFsdmU7XG4gIH1cbn1cblxuaW50ZXJmYWNlIElDb25maWcge1xuICBheGlzOiB7XG4gICAgc2hvdzogYm9vbGVhbjtcbiAgfTtcbiAgbmV0OiB7XG4gICAgYmluZDogYm9vbGVhbjtcbiAgICBzaG93OiBib29sZWFuO1xuICAgIHN0ZXA6IDE1IHwgMjAgfCA1MDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzO1xuIiwiaW1wb3J0IHsgSVZlYyB9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5pbXBvcnQgTWFpbiBmcm9tIFwiLi4vbWFpbi5tb2RlbFwiO1xuXG5jbGFzcyBBcmMgZXh0ZW5kcyBNYWluIHtcbiAgcmFkaXVzOiBudW1iZXIgPSA1O1xuICBjZW50ZXI6IElWZWM7XG5cbiAgY29sb3I6IHN0cmluZyA9IFwiI2ZmZlwiO1xuICB3aWR0aDogbnVtYmVyID0gMTtcblxuICBjb25zdHJ1Y3RvcihjZW50ZXI6IElWZWMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJjO1xuIiwiaW1wb3J0IHsgSVZlYyB9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5pbXBvcnQgTWFpbiBmcm9tIFwiLi4vbWFpbi5tb2RlbFwiO1xuXG5jbGFzcyBMaW5lIGV4dGVuZHMgTWFpbiB7XG4gIHRoaWNrbmVzczogbnVtYmVyID0gMTtcbiAgc3RhcnQ6IElWZWM7XG4gIGVuZDogSVZlYztcblxuICBjb2xvcjogc3RyaW5nID0gXCIjMDAwXCI7XG4gIHdpZHRoOiBudW1iZXIgPSAxO1xuXG4gIGNvbnN0cnVjdG9yKHN0YXJ0OiBJVmVjLCBlbmQ6IElWZWMpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuZW5kID0gZW5kO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpbmU7XG4iLCJpbXBvcnQgeyBJQ29vcmQsIElWZWMsIFZlY3RvciB9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5pbXBvcnQgTGluZSBmcm9tIFwiLi4vZ2VvbWV0cnkvbGluZS5tb2RlbFwiO1xuXG5jbGFzcyBQaXBlIGV4dGVuZHMgTGluZSB7XG4gIGNvbnN0cnVjdG9yKHN0YXJ0OiBJVmVjLCBlbmQ6IElWZWMpIHtcbiAgICBzdXBlcihzdGFydCwgZW5kKTtcbiAgfVxuXG4gIGdldE5lYXJlc3RQaXBlKHBpcGVzOiBBcnJheTxQaXBlPikge1xuICAgIGxldCBwaXBlID0gcGlwZXMuZmluZCgocGlwZSkgPT4ge1xuICAgICAgaWYgKHBpcGUuX2lkID09PSB0aGlzLl9pZCkgcmV0dXJuO1xuXG4gICAgICBsZXQgc3RhcnQgPSBwaXBlLnN0YXJ0LmRpc3RhbmNlVG8odGhpcy5lbmQpO1xuICAgICAgbGV0IGVuZCA9IHBpcGUuZW5kLmRpc3RhbmNlVG8odGhpcy5lbmQpO1xuXG4gICAgICByZXR1cm4gKHN0YXJ0ICYmIHN0YXJ0IDwgMzApIHx8IChlbmQgJiYgZW5kIDwgMzApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBpcGU7XG4gIH1cblxuICBnZXROZWFyZXN0Q29vcmRpbmF0ZU9uUGlwZShjb29yZDogSVZlYywgcGlwZTogUGlwZSkge1xuICAgIGxldCBfY29vcmQgPSBjb29yZC5zdWIocGlwZS5zdGFydCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGlwZTtcbiIsImltcG9ydCB7IElWZWMgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbWV0cnkvdmVjdFwiO1xuaW1wb3J0IExpbmUgZnJvbSBcIi4uL2dlb21ldHJ5L2xpbmUubW9kZWxcIjtcbmltcG9ydCBBcmMgZnJvbSBcIi4uL2dlb21ldHJ5L2FyYy5tb2RlbFwiO1xuXG5jbGFzcyBWYWx2ZSBleHRlbmRzIEFyYyB7XG4gIGNvbnN0cnVjdG9yKGNlbnRlcjogSVZlYykge1xuICAgIHN1cGVyKGNlbnRlcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmFsdmU7XG4iLCJpbXBvcnQgeyB1dWlkIH0gZnJvbSBcIi4uLy4uL3V0aWxzXCI7XG5cbmNsYXNzIE1haW4ge1xuICBfaWQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pZCA9IHV1aWQoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYWluO1xuIiwiaW1wb3J0IHsgSVZlYywgVmVjdG9yIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBDYW52YXNNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2NhbnZhcy5tb2RlbFwiO1xuaW1wb3J0IFZhbHZlIGZyb20gXCIuLi9tb2RlbHMvaGVhdGluZy92YWx2ZS5tb2RlbFwiO1xuaW1wb3J0IExpbmUgZnJvbSBcIi4uL21vZGVscy9nZW9tZXRyeS9saW5lLm1vZGVsXCI7XG5pbXBvcnQgUGlwZSBmcm9tIFwiLi4vbW9kZWxzL2hlYXRpbmcvcGlwZS5tb2RlbFwiO1xuXG5jbGFzcyBDYW52YXMge1xuICBtb2RlbDogQ2FudmFzTW9kZWw7XG4gIGNvbnRhaW5lcjogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBDYW52YXNNb2RlbCkge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdG9yXCIpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmluaXRDYW52YXNDb250YWluZXIoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHRoaXMuZHJhd05ldCgpO1xuICAgIHRoaXMuZHJhd01vdXNlKCk7XG4gICAgdGhpcy5kcmF3V2FsbHMoKTtcbiAgICB0aGlzLmRyYXdQaXBlcygpO1xuICAgIHRoaXMuZHJhd1ZhbHZlcygpO1xuICAgIHRoaXMuZHJhd1RlbXBPYmplY3RzKCk7XG4gICAgdGhpcy5kcmF3TmVhcmVzdE9iamVjdCgpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXI/LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmICghY3R4IHx8ICF0aGlzLm1vZGVsLm1vdXNlIHx8ICF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNvbnRhaW5lci53aWR0aCwgdGhpcy5jb250YWluZXIuaGVpZ2h0KTtcbiAgfVxuXG4gIGRyYXdNb3VzZSgpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lcj8uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHggfHwgIXRoaXMubW9kZWwubW91c2UpIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcbiAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICBjdHguYXJjKHRoaXMubW9kZWwubW91c2UueCwgdGhpcy5tb2RlbC5tb3VzZS55LCAxLCAwLCAyICogTWF0aC5QSSk7XG5cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhd05ldCgpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lcj8uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHggfHwgIXRoaXMubW9kZWwubW91c2UgfHwgIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc2hvdykgcmV0dXJuO1xuXG4gICAgY3R4LnNhdmUoKTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubGluZVdpZHRoID0gMTtcblxuICAgIGxldCBzdGVwID0gdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXAgKiB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudDtcbiAgICBsZXQgaCA9IHRoaXMuY29udGFpbmVyLmhlaWdodDtcbiAgICBsZXQgdyA9IHRoaXMuY29udGFpbmVyLndpZHRoO1xuICAgIGxldCBuZXRPZmZzZXQ6IElWZWMgPSBuZXcgVmVjdG9yKFxuICAgICAgdGhpcy5tb2RlbC5vZmZzZXQueCAlIHN0ZXAsXG4gICAgICB0aGlzLm1vZGVsLm9mZnNldC55ICUgc3RlcFxuICAgICk7XG5cbiAgICAvL3hcbiAgICBsZXQgaVYgPSAwO1xuICAgIGxldCBtYXhWID0gdyAvIHN0ZXA7XG4gICAgd2hpbGUgKGlWIDw9IG1heFYpIHtcbiAgICAgIGxldCBmcm9tOiBJVmVjID0gbmV3IFZlY3RvcihzdGVwICogaVYgKyBuZXRPZmZzZXQueCwgMCk7XG4gICAgICBsZXQgdG86IElWZWMgPSBuZXcgVmVjdG9yKHN0ZXAgKiBpViArIG5ldE9mZnNldC54LCBoKTtcblxuICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpO1xuICAgICAgaVYrKztcbiAgICB9XG5cbiAgICAvL3lcbiAgICBsZXQgaUggPSAwO1xuICAgIGxldCBtYXhIID0gaCAvIHN0ZXA7XG4gICAgd2hpbGUgKGlIIDw9IG1heEgpIHtcbiAgICAgIGxldCBmcm9tOiBJVmVjID0gbmV3IFZlY3RvcigwLCBzdGVwICogaUggKyBuZXRPZmZzZXQueSk7XG4gICAgICBsZXQgdG86IElWZWMgPSBuZXcgVmVjdG9yKHcsIHN0ZXAgKiBpSCArIG5ldE9mZnNldC55KTtcblxuICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpO1xuXG4gICAgICBpSCsrO1xuICAgIH1cblxuICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuMjtcblxuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhd05ldDEoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXI/LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmICghY3R4IHx8ICF0aGlzLm1vZGVsLm1vdXNlIHx8ICF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGlmICghdGhpcy5tb2RlbC5jb25maWcubmV0LnNob3cpIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG5cbiAgICAvLyBsZXQgc3RlcCA9IHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwICogdGhpcy5tb2RlbC5zY2FsZS5hbW91bnQ7XG4gICAgbGV0IHN0ZXAgPSB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcDtcbiAgICBsZXQgaCA9IHRoaXMuY29udGFpbmVyLmhlaWdodDtcbiAgICBsZXQgdyA9IHRoaXMuY29udGFpbmVyLndpZHRoO1xuXG4gICAgLy94XG4gICAgbGV0IGlWID0gMDtcbiAgICBsZXQgbWF4ViA9IHcgLyBzdGVwO1xuICAgIHdoaWxlIChpViA8PSBtYXhWKSB7XG4gICAgICBsZXQgZnJvbTogSVZlYyA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcyhzdGVwICogaVYsIDApO1xuICAgICAgbGV0IHRvOiBJVmVjID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHN0ZXAgKiBpViwgaCk7XG5cbiAgICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xuICAgICAgY3R4LmxpbmVUbyh0by54LCB0by55KTtcbiAgICAgIGlWKys7XG4gICAgfVxuXG4gICAgLy95XG4gICAgbGV0IGlIID0gMDtcbiAgICBsZXQgbWF4SCA9IGggLyBzdGVwO1xuICAgIHdoaWxlIChpSCA8PSBtYXhIKSB7XG4gICAgICBsZXQgZnJvbTogSVZlYyA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcygwLCBzdGVwICogaUgpO1xuICAgICAgbGV0IHRvOiBJVmVjID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHcsIHN0ZXAgKiBpSCk7XG5cbiAgICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xuICAgICAgY3R4LmxpbmVUbyh0by54LCB0by55KTtcblxuICAgICAgaUgrKztcbiAgICB9XG5cbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIGRyYXdBeGlzKCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGFpbmVyPy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBpZiAoIWN0eCB8fCAhdGhpcy5tb2RlbC5tb3VzZSB8fCAhdGhpcy5jb250YWluZXIpIHJldHVybjtcbiAgICBpZiAoIXRoaXMubW9kZWwuY29uZmlnLmF4aXMuc2hvdykgcmV0dXJuO1xuXG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICBsZXQgaCA9IHRoaXMuY29udGFpbmVyLmhlaWdodDtcbiAgICBsZXQgdyA9IHRoaXMuY29udGFpbmVyLndpZHRoO1xuXG4gICAgbGV0IHhfRnJvbSA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcygwLCAwKTtcbiAgICBsZXQgeF9UbyA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcyh3LCAwKTtcbiAgICBsZXQgeV9Gcm9tID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKDAsIDApO1xuICAgIGxldCB5X1RvID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKDAsIGgpO1xuXG4gICAgY3R4Lm1vdmVUbygwLCB4X0Zyb20ueSk7XG4gICAgY3R4LmxpbmVUbyh3LCB4X1RvLnkpO1xuXG4gICAgY3R4Lm1vdmVUbyh5X0Zyb20ueCwgMCk7XG4gICAgY3R4LmxpbmVUbyh5X1RvLngsIGgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmVkXCI7XG5cbiAgICBjdHguc3Ryb2tlKCk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIGRyYXdXYWxscygpIHtcbiAgICBsZXQgd2FsbHMgPSB0aGlzLm1vZGVsLndhbGxzO1xuXG4gICAgd2FsbHM/Lm1hcCgod2FsbCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lci5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgIGlmICghY3R4KSByZXR1cm47XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgIGxldCBmcm9tID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHdhbGwuc3RhcnQueCwgd2FsbC5zdGFydC55KTtcbiAgICAgIGxldCB0byA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcyh3YWxsLmVuZC54LCB3YWxsLmVuZC55KTtcblxuICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpO1xuXG4gICAgICBjb25zb2xlLmxvZyhcIndhbGwuY29sb3JcIiwgd2FsbC5jb2xvcik7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB3YWxsLmNvbG9yO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IHdhbGwud2lkdGg7XG5cbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSk7XG4gIH1cblxuICBkcmF3UGlwZXMoKSB7XG4gICAgbGV0IHBpcGVzID0gdGhpcy5tb2RlbC5waXBlcztcblxuICAgIHBpcGVzPy5tYXAoKHBpcGUpID0+IHtcbiAgICAgIHRoaXMuZHJhd0xpbmUocGlwZSk7XG4gICAgfSk7XG4gIH1cblxuICBkcmF3TGluZShsaW5lOiBMaW5lKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXIuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgbGV0IGZyb20gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMobGluZS5zdGFydC54LCBsaW5lLnN0YXJ0LnkpO1xuICAgIGxldCB0byA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcyhsaW5lLmVuZC54LCBsaW5lLmVuZC55KTtcblxuICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xuICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG5cbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBsaW5lLmNvbG9yO1xuICAgIGN0eC5saW5lV2lkdGggPSBsaW5lLndpZHRoO1xuXG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBkcmF3VmFsdmVzKCkge1xuICAgIGxldCB2YWx2ZXMgPSB0aGlzLm1vZGVsLnZhbHZlcztcblxuICAgIHZhbHZlcz8ubWFwKCh2YWx2ZSkgPT4ge1xuICAgICAgdGhpcy5kcmF3VmFsdmUodmFsdmUpO1xuICAgIH0pO1xuICB9XG5cbiAgZHJhd1ZhbHZlKHZhbHZlOiBWYWx2ZSkge1xuICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGFpbmVyLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmICghY3R4KSByZXR1cm47XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgIGxldCBjID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHZhbHZlLmNlbnRlci54LCB2YWx2ZS5jZW50ZXIueSk7XG5cbiAgICBjdHguYXJjKGMueCwgYy55LCB2YWx2ZS5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG5cbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBkcmF3VGVtcE9iamVjdHMoKSB7XG4gICAgaWYgKHRoaXMubW9kZWwucGxhY2luZ09iamVjdCBpbnN0YW5jZW9mIFZhbHZlKSB7XG4gICAgICB0aGlzLmRyYXdWYWx2ZSh0aGlzLm1vZGVsLnBsYWNpbmdPYmplY3QpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1vZGVsLmFjdGlvbk9iamVjdCBpbnN0YW5jZW9mIFBpcGUpIHtcbiAgICAgIHRoaXMuZHJhd0xpbmUodGhpcy5tb2RlbC5hY3Rpb25PYmplY3QpO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdOZWFyZXN0T2JqZWN0KCkge1xuICAgIGlmICh0aGlzLm1vZGVsLmFjdGlvbk9iamVjdCBpbnN0YW5jZW9mIFBpcGUpIHtcbiAgICAgIGlmICh0aGlzLm1vZGVsLm5lYXJlc3RPYmplY3QpIHtcbiAgICAgICAgbGV0IGxpbmUgPSBuZXcgTGluZShcbiAgICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdC5lbmQsXG4gICAgICAgICAgdGhpcy5tb2RlbC5uZWFyZXN0T2JqZWN0XG4gICAgICAgICk7XG5cbiAgICAgICAgbGluZS5jb2xvciA9IFwiZ3JlZW5cIjtcblxuICAgICAgICB0aGlzLmRyYXdMaW5lKGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vVE9ETzogYXBwbHkgc2NhbGUgdHJhbnNmb3JtYXRpb24gaGVyZVxuICBnZXRXb3JsZENvb3JkaW5hdGVzKHg6IG51bWJlciwgeTogbnVtYmVyKTogSVZlYyB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGxldCBzY2FsZSA9IGZ1bmN0aW9uICh2ZWM6IElWZWMpOiBWZWN0b3Ige1xuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXG4gICAgICAgIHZlYy54ICogX3RoaXMubW9kZWwuc2NhbGUuYW1vdW50LFxuICAgICAgICB2ZWMueSAqIF90aGlzLm1vZGVsLnNjYWxlLmFtb3VudFxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgbGV0IHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh2ZWM6IElWZWMpOiBWZWN0b3Ige1xuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXG4gICAgICAgIHZlYy54ICsgX3RoaXMubW9kZWwub2Zmc2V0LngsXG4gICAgICAgIHZlYy55ICsgX3RoaXMubW9kZWwub2Zmc2V0LnlcbiAgICAgICk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgbGV0IHQgPSBuZXcgVmVjdG9yKHgsIHkpO1xuICAgIHQgPSBzY2FsZSh0KTtcbiAgICAvLyB0ID0gcm90YXRpb24odCk7IFRPRE8gb3JkZXIgaXMgc2NhbGluZyByb3RhdGlvbiB0cmFuc2xhdGlvblxuICAgIHQgPSB0cmFuc2xhdGUodCk7XG5cbiAgICByZXR1cm4gdDtcbiAgfVxuXG4gIC8veDogKHggKyB0aGlzLm1vZGVsLm9mZnNldC54KSAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50ICogdGhpcy5tb2RlbC5zY2FsZS5jb29yZC54LFxuICAvLyAgICAgICB5OiAoeSArIHRoaXMubW9kZWwub2Zmc2V0LnkpICAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50LFxuICAvLyBnZXRMb2NhbENvb3JkaW5hdGVzKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gIC8vICAgcmV0dXJuIHtcbiAgLy8gICAgIHg6ICh4ICsgdGhpcy5tb2RlbC5vZmZzZXQueCkgKiB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudCAqIHRoaXMubW9kZWwuc2NhbGUuY29vcmQgLFxuICAvLyAgICAgeTogKHkgKyB0aGlzLm1vZGVsLm9mZnNldC55KSAgKiB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudCxcbiAgLy8gICB9O1xuICAvLyB9XG5cbiAgaW5pdENhbnZhc0NvbnRhaW5lcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG5cbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjYwMHB4XCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBcIjkwMHB4XCI7XG4gICAgdGhpcy5jb250YWluZXIuaGVpZ2h0ID0gNjAwO1xuICAgIHRoaXMuY29udGFpbmVyLndpZHRoID0gOTAwO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7XG5cbiAgICB0aGlzLm1vZGVsLmNhbnZhc1NpemUgPSB7XG4gICAgICB5OiA2MDAsXG4gICAgICB4OiA5MDAsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7XG4iLCJpbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcblxuY2xhc3MgTW9kZSB7XG4gIG1vZGVsOiBDYW52YXNNb2RlbDtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IENhbnZhc01vZGVsKSB7XG4gICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RlXCIpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGU7XG4iLCJpbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcblxuY2xhc3MgU3RhdHMge1xuICBtb2RlbDogQ2FudmFzTW9kZWw7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBDYW52YXNNb2RlbCkge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3RhdHNcIik7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuaW5pdENvbnRhaW5lcigpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uXCI+XG4gICAgICAgIDxkaXY+eCAtICR7TWF0aC5yb3VuZCh0aGlzLm1vZGVsLm9mZnNldC54KX0gXG4gICAgICAgIC8geSAtICR7TWF0aC5yb3VuZCh0aGlzLm1vZGVsLm9mZnNldC55KX08L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXY+eCAtICR7TWF0aC5yb3VuZCh0aGlzLm1vZGVsLm1vdXNlPy54ID8/IDApfSBcbiAgICAgICAgLyB5IC0gJHtNYXRoLnJvdW5kKHRoaXMubW9kZWwubW91c2U/LnkgPz8gMCl9PC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2PnNjYWxlIC0gJHt0aGlzLm1vZGVsLnNjYWxlLmFtb3VudH08L2Rpdj5cbiAgICAgICAgPGRpdj53aWR0aCAtICR7dGhpcy5tb2RlbC5jYW52YXNTaXplPy54fSAvIGhlaWdodCAtICR7XG4gICAgICB0aGlzLm1vZGVsLmNhbnZhc1NpemU/LnlcbiAgICB9IC8gPC9kaXY+XG4gICAgICAgIDxkaXY+cmF0aW8geCAke3RoaXMubW9kZWwubW91c2VDYW52YXNSYXRpbz8ueH0gLyB5ICR7XG4gICAgICB0aGlzLm1vZGVsLm1vdXNlQ2FudmFzUmF0aW8/LnlcbiAgICB9PC9kaXY+XG4gICAgICAgIDxkaXY+bW9kZSBpcyAke3RoaXMubW9kZWwuYWN0aW9uTW9kZX08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBpbml0Q29udGFpbmVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTUwcHhcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IFwiMjAwcHhcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjEwcHhcIjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGF0cztcbiIsImltcG9ydCB7IGRlZmF1bHQgYXMgXzJEQ29udHJvbGxlciB9IGZyb20gXCIuLzJkXCI7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgYXBwOiBBcHA7XG4gIH1cbn1cblxuY2xhc3MgQXBwIHtcbiAgXzJkOiBfMkRDb250cm9sbGVyID0gbmV3IF8yRENvbnRyb2xsZXIoKTtcblxuICBydW4oKSB7XG4gICAgd2luZG93LmFwcCA9IHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuIiwiaW1wb3J0IExpbmUgZnJvbSBcIi4uLzJkL21vZGVscy9nZW9tZXRyeS9saW5lLm1vZGVsXCI7XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3IgaW1wbGVtZW50cyBJVmVjIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cblxuICBkaXN0YW5jZVRvKHY6IElWZWMpIHtcbiAgICBsZXQgX3YgPSBuZXcgVmVjdG9yKHRoaXMueCAtIHYueCwgdGhpcy55IC0gdi55KTtcbiAgICByZXR1cm4gX3YubGVuZ3RoO1xuICB9XG5cbiAgZGlzdGFuY2VUb0xpbmUobDogTGluZSkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqKiAyICsgdGhpcy55ICoqIDIpO1xuICB9XG5cbiAgcHJvamVjdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSk7XG4gIH1cblxuICBzdWIodjogSVZlYykge1xuICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCAtIHYueCwgdGhpcy55IC0gdi55KTtcbiAgfVxuXG4gIGFuZ2xlKHY6IElWZWMpIHtcbiAgICByZXR1cm4gTWF0aC5hY29zKCh0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnkpIC8gKHRoaXMubGVuZ3RoICogdi5sZW5ndGgpKTtcbiAgfVxuXG4gIC8vIGRvdChhOiBJVmVjKTogbnVtYmVyIHtcbiAgLy8gICByZXR1cm4gYS54ICogdGhpcy54ICsgYS55ICogdGhpcy55O1xuICAvLyB9XG4gIC8vXG4gIC8vIGNyb3NzKGE6IElWZWMpOiBudW1iZXIge1xuICAvLyAgIHJldHVybiAxO1xuICAvLyB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZlYyBleHRlbmRzIElDb29yZCB7XG4gIGxlbmd0aDogbnVtYmVyO1xuICBkaXN0YW5jZVRvOiAodjogSVZlYykgPT4gbnVtYmVyO1xuICBzdWI6ICh2OiBJVmVjKSA9PiBJVmVjO1xuICBkaXN0YW5jZVRvTGluZTogKGw6IExpbmUpID0+IG51bWJlcjtcbiAgYW5nbGU6ICh2OiBJVmVjKSA9PiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvb3JkIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG4iLCJpbXBvcnQgQXBwIGZyb20gJy4vYXBwJztcblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuXG5hcHAucnVuKCk7IiwiZXhwb3J0IGNvbnN0IHV1aWQgPSAoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT0gXCJ4XCIgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59O1xuIl19"}