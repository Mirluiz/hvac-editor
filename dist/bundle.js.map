{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/2d/controllers/canvas.controller.ts","app/2d/index.ts","app/2d/models/canvas.model.ts","app/2d/views/canvas.view.ts","app/2d/views/stats.view.ts","app/app.ts","app/main.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import CanvasView from \"../views/canvas.view\";\nimport CanvasModel from \"../models/canvas.model\";\nimport StatsView from \"../views/stats.view\";\n\nclass CanvasController {\n  view: CanvasView;\n  stats: StatsView;\n  model: CanvasModel;\n\n  constructor() {\n    this.model = new CanvasModel();\n    this.view = new CanvasView(this.model);\n    this.stats = new StatsView(this.model);\n\n    if (this.view.container) {\n      this.view.container.addEventListener(\n        \"mousemove\",\n        this.mouseMove.bind(this)\n      );\n      this.view.container.addEventListener(\n        \"mousedown\",\n        this.mouseDown.bind(this)\n      );\n      this.view.container.addEventListener(\"mouseup\", this.mouseUp.bind(this));\n      this.view.container.addEventListener(\"wheel\", this.mouseWheel.bind(this));\n    }\n  }\n\n  mouseWheel(e: WheelEvent) {\n    let scale = this.model.scale.amount + -Math.sign(e.deltaY) * 0.1;\n    scale = Math.min(Math.max(0.5, scale), 2);\n\n    this.model.scale.limitReached =\n      Math.abs(scale - 0.5) < Number.EPSILON ||\n      Math.abs(scale - 2) < Number.EPSILON;\n\n    if (!this.model.scale.limitReached) {\n      this.model.scale.amount = scale;\n\n      let _el: HTMLCanvasElement | null = document.querySelector(\"#editor\");\n\n      if (_el) {\n        let w = _el.width,\n          h = _el.height;\n\n        let mltpr = 0.1;\n\n        this.model.offset.x +=\n          w *\n          (Math.sign(e.deltaY) * mltpr) *\n          ((e.offsetX - this.model.offset.x) / _el.width);\n        this.model.offset.y +=\n          h *\n          (Math.sign(e.deltaY) * mltpr) *\n          ((e.offsetY - this.model.offset.y) / _el.height);\n      }\n    }\n\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseDown(e: Event): void {\n    this.model.clicked = true;\n  }\n\n  mouseMove(e: MouseEvent): void {\n    if (!this.model.mouse) {\n      this.model.mouse = {\n        x: e.offsetX,\n        y: e.offsetY,\n      };\n    } else {\n      this.model.mouse.x = e.offsetX;\n      this.model.mouse.y = e.offsetY;\n    }\n\n    if (this.model.clicked) {\n      if (this.model.offset) {\n        this.model.offset.x += e.movementX;\n        this.model.offset.y += e.movementY;\n      } else {\n        this.model.offset = {\n          x: 0,\n          y: 0,\n        };\n      }\n    }\n\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseUp(e: Event) {\n    this.model.clicked = false;\n  }\n}\n\nexport default CanvasController;\n","import CanvasController from \"./controllers/canvas.controller\";\n\nclass Controller {\n    canvas: CanvasController = new CanvasController()\n}\n\nexport default Controller\n","import { IVec } from \"../../geometry/vect\";\n\nclass CanvasModel {\n  mouse: IVec | null = null;\n  canvasSize: IVec | null = null;\n  mouseCanvasRatio: IVec | null = null;\n  scale: {\n    amount: number;\n    coord: IVec | null;\n    limitReached: boolean;\n  } = {\n    amount: 1,\n    coord: null,\n    limitReached: false,\n  };\n  clicked: boolean = false;\n  keyboard: string | null = null;\n  offset: IVec = { x: 0, y: 0 };\n  config: IConfig = {\n    axis: {\n      show: true,\n    },\n    net: {\n      show: true,\n      step: 20,\n    },\n  };\n}\n\ninterface IConfig {\n  axis: {\n    show: boolean;\n  };\n  net: {\n    show: boolean;\n    step: 15 | 20 | 50;\n  };\n}\n\nexport default CanvasModel;\n","import { IVec } from \"../../geometry/vect\";\nimport CanvasModel from \"../models/canvas.model\";\n\nclass CanvasView {\n  model: CanvasModel;\n  container: HTMLCanvasElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#editor\");\n    this.init();\n  }\n\n  init() {\n    this.initCanvasContainer();\n  }\n\n  draw() {\n    this.clear();\n    this.drawNet();\n    // this.drawNet1();\n    this.drawAxis();\n    this.drawMouse();\n  }\n\n  clear() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n\n    ctx.clearRect(0, 0, this.container.width, this.container.height);\n  }\n\n  drawMouse() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 2;\n    ctx.arc(this.model.mouse.x, this.model.mouse.y, 1, 0, 2 * Math.PI);\n\n    ctx.restore();\n  }\n\n  drawNet() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.net.show) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n\n    let step = this.model.config.net.step * this.model.scale.amount;\n    let h = this.container.height;\n    let w = this.container.width;\n    let netOffset: IVec = {\n      x: this.model.offset.x % step,\n      y: this.model.offset.y % step,\n    };\n\n    //x\n    let iV = 0;\n    let maxV = w / step;\n    while (iV <= maxV) {\n      let from: IVec = { x: step * iV + netOffset.x, y: 0 };\n      let to: IVec = { x: step * iV + netOffset.x, y: h };\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n      iV++;\n    }\n\n    //y\n    let iH = 0;\n    let maxH = h / step;\n    while (iH <= maxH) {\n      let from: IVec = { x: 0, y: step * iH + netOffset.y };\n      let to: IVec = { x: w, y: step * iH + netOffset.y };\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      iH++;\n    }\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawNet1() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.net.show) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n\n    // let step = this.model.config.net.step * this.model.scale.amount;\n    let step = this.model.config.net.step;\n    let h = this.container.height;\n    let w = this.container.width;\n\n    //x\n    let iV = 0;\n    let maxV = w / step;\n    while (iV <= maxV) {\n      let from: IVec = this.getWorldCoordinates(step * iV, 0);\n      let to: IVec = this.getWorldCoordinates(step * iV, h);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n      iV++;\n    }\n\n    //y\n    let iH = 0;\n    let maxH = h / step;\n    while (iH <= maxH) {\n      let from: IVec = this.getWorldCoordinates(0, step * iH);\n      let to: IVec = this.getWorldCoordinates(w, step * iH);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      iH++;\n    }\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawAxis() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.axis.show) return;\n\n    ctx.save();\n    ctx.beginPath();\n\n    let h = this.container.height;\n    let w = this.container.width;\n\n    let x_From = this.getWorldCoordinates(0, 0);\n    let x_To = this.getWorldCoordinates(w, 0);\n    let y_From = this.getWorldCoordinates(0, 0);\n    let y_To = this.getWorldCoordinates(0, h);\n\n    ctx.moveTo(0, x_From.y);\n    ctx.lineTo(w, x_To.y);\n\n    ctx.moveTo(y_From.x, 0);\n    ctx.lineTo(y_To.x, h);\n    ctx.strokeStyle = \"red\";\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  //TODO: apply scale transformation here\n  getWorldCoordinates(x: number, y: number): IVec {\n    let _this = this;\n\n    let translate = function (vec: IVec): IVec {\n      return {\n        x: vec.x + _this.model.offset.x,\n        y: vec.y + _this.model.offset.y,\n      };\n    }.bind(this);\n\n    let scale = function (vec: IVec): IVec {\n      return {\n        x: vec.x * _this.model.scale.amount,\n        y: vec.y * _this.model.scale.amount,\n      };\n    };\n\n    let t = { x, y };\n    t = scale(t);\n    // t = rotation(t); TODO order is scaling rotation translation\n    t = translate(t);\n\n    return t;\n  }\n\n  //x: (x + this.model.offset.x) * this.model.scale.amount * this.model.scale.coord.x,\n  //       y: (y + this.model.offset.y)  * this.model.scale.amount,\n  // getLocalCoordinates(x: number, y: number) {\n  //   return {\n  //     x: (x + this.model.offset.x) * this.model.scale.amount * this.model.scale.coord ,\n  //     y: (y + this.model.offset.y)  * this.model.scale.amount,\n  //   };\n  // }\n\n  initCanvasContainer(): void {\n    if (!this.container) return;\n\n    this.container.style.height = \"600px\";\n    this.container.style.width = \"900px\";\n    this.container.height = 600;\n    this.container.width = 900;\n    this.container.style.border = \"1px solid black\";\n\n    this.model.canvasSize = {\n      y: 600,\n      x: 900,\n    };\n  }\n}\n\nexport default CanvasView;\n","import CanvasModel from \"../models/canvas.model\";\n\nclass StatsView {\n  model: CanvasModel;\n  container: HTMLElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#stats\");\n    this.init();\n  }\n\n  init() {\n    this.initContainer();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div style=\"display: flex; flex-direction: column\">\n        <div>x - ${Math.round(this.model.offset.x)} \n        / y - ${Math.round(this.model.offset.y)}</div>\n        \n        <div>x - ${Math.round(this.model.mouse?.x ?? 0)} \n        / y - ${Math.round(this.model.mouse?.y ?? 0)}</div>\n        \n        <div>scale - ${this.model.scale.amount}</div>\n        <div>width - ${this.model.canvasSize?.x} / height - ${\n      this.model.canvasSize?.y\n    } / </div>\n        <div>ratio x ${this.model.mouseCanvasRatio?.x} / y ${\n      this.model.mouseCanvasRatio?.y\n    }</div>\n      </div>\n    `;\n  }\n\n  initContainer(): void {\n    if (!this.container) return;\n\n    this.container.style.height = \"150px\";\n    this.container.style.width = \"200px\";\n    this.container.style.border = \"1px solid black\";\n    this.container.style.marginLeft = \"10px\";\n  }\n}\n\nexport default StatsView;\n","import {default as _2DController} from \"./2d\";\n\nclass App {\n  _2d: _2DController = new _2DController()\n\n\n  run() {}\n}\n\nexport default App\n","import App from './app';\n\nconst app = new App();\n\napp.run();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvMmQvY29udHJvbGxlcnMvY2FudmFzLmNvbnRyb2xsZXIudHMiLCJhcHAvMmQvaW5kZXgudHMiLCJhcHAvMmQvbW9kZWxzL2NhbnZhcy5tb2RlbC50cyIsImFwcC8yZC92aWV3cy9jYW52YXMudmlldy50cyIsImFwcC8yZC92aWV3cy9zdGF0cy52aWV3LnRzIiwiYXBwL2FwcC50cyIsImFwcC9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDQUEsSUFBQSxnQkFBQSxnQkFBQSxRQUFBLHNCQUFBLENBQUEsQ0FBQTtBQUNBLElBQUEsaUJBQUEsZ0JBQUEsUUFBQSx3QkFBQSxDQUFBLENBQUE7QUFDQSxJQUFBLGVBQUEsZ0JBQUEsUUFBQSxxQkFBQSxDQUFBLENBQUE7QUFFQSxJQUFBLG1CQUFBLGFBQUEsWUFBQTtBQUtFLGFBQUEsZ0JBQUEsR0FBQTtBQUNFLGFBQUssS0FBTCxHQUFhLElBQUksZUFBQSxPQUFKLEVBQWI7QUFDQSxhQUFLLElBQUwsR0FBWSxJQUFJLGNBQUEsT0FBSixDQUFlLEtBQUssS0FBcEIsQ0FBWjtBQUNBLGFBQUssS0FBTCxHQUFhLElBQUksYUFBQSxPQUFKLENBQWMsS0FBSyxLQUFuQixDQUFiO0FBRUEsWUFBSSxLQUFLLElBQUwsQ0FBVSxTQUFkLEVBQXlCO0FBQ3ZCLGlCQUFLLElBQUwsQ0FBVSxTQUFWLENBQW9CLGdCQUFwQixDQUNFLFdBREYsRUFFRSxLQUFLLFNBQUwsQ0FBZSxJQUFmLENBQW9CLElBQXBCLENBRkY7QUFJQSxpQkFBSyxJQUFMLENBQVUsU0FBVixDQUFvQixnQkFBcEIsQ0FDRSxXQURGLEVBRUUsS0FBSyxTQUFMLENBQWUsSUFBZixDQUFvQixJQUFwQixDQUZGO0FBSUEsaUJBQUssSUFBTCxDQUFVLFNBQVYsQ0FBb0IsZ0JBQXBCLENBQXFDLFNBQXJDLEVBQWdELEtBQUssT0FBTCxDQUFhLElBQWIs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QUFMLENBQWUsS0FBZixDQUFxQixNQUFyQixHQUE4QixpQkFBOUI7QUFDQSxhQUFLLFNBQUwsQ0FBZSxLQUFmLENBQXFCLFVBQXJCLEdBQWtDLE1BQWxDO0FBQ0QsS0FQRDtBQVFGLFdBQUEsU0FBQTtBQUFDLENBNUNELEVBQUE7QUE4Q0EsUUFBQSxPQUFBLEdBQWUsU0FBZjs7Ozs7Ozs7O0FDaERBLElBQUEsUUFBQSxnQkFBQSxRQUFBLE1BQUEsQ0FBQSxDQUFBO0FBRUEsSUFBQSxNQUFBLGFBQUEsWUFBQTtBQUFBLGFBQUEsR0FBQSxHQUFBO0FBQ0UsYUFBQSxHQUFBLEdBQXFCLElBQUksTUFBQSxPQUFKLEVBQXJCO0FBSUQ7QUFEQyxRQUFBLFNBQUEsQ0FBQSxHQUFBLEdBQUEsWUFBQSxDQUFRLENBQVI7QUFDRixXQUFBLEdBQUE7QUFBQyxDQUxELEVBQUE7QUFPQSxRQUFBLE9BQUEsR0FBZSxHQUFmOzs7Ozs7Ozs7QUNUQSxJQUFBLFFBQUEsZ0JBQUEsUUFBQSxPQUFBLENBQUEsQ0FBQTtBQUVBLElBQU0sTUFBTSxJQUFJLE1BQUEsT0FBSixFQUFaO0FBRUEsSUFBSSxHQUFKIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IENhbnZhc1ZpZXcgZnJvbSBcIi4uL3ZpZXdzL2NhbnZhcy52aWV3XCI7XG5pbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcbmltcG9ydCBTdGF0c1ZpZXcgZnJvbSBcIi4uL3ZpZXdzL3N0YXRzLnZpZXdcIjtcblxuY2xhc3MgQ2FudmFzQ29udHJvbGxlciB7XG4gIHZpZXc6IENhbnZhc1ZpZXc7XG4gIHN0YXRzOiBTdGF0c1ZpZXc7XG4gIG1vZGVsOiBDYW52YXNNb2RlbDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1vZGVsID0gbmV3IENhbnZhc01vZGVsKCk7XG4gICAgdGhpcy52aWV3ID0gbmV3IENhbnZhc1ZpZXcodGhpcy5tb2RlbCk7XG4gICAgdGhpcy5zdGF0cyA9IG5ldyBTdGF0c1ZpZXcodGhpcy5tb2RlbCk7XG5cbiAgICBpZiAodGhpcy52aWV3LmNvbnRhaW5lcikge1xuICAgICAgdGhpcy52aWV3LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1vdXNlbW92ZVwiLFxuICAgICAgICB0aGlzLm1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgICAgdGhpcy52aWV3LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1vdXNlZG93blwiLFxuICAgICAgICB0aGlzLm1vdXNlRG93bi5iaW5kKHRoaXMpXG4gICAgICApO1xuICAgICAgdGhpcy52aWV3LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm1vdXNlVXAuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLnZpZXcuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCB0aGlzLm1vdXNlV2hlZWwuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgbW91c2VXaGVlbChlOiBXaGVlbEV2ZW50KSB7XG4gICAgbGV0IHNjYWxlID0gdGhpcy5tb2RlbC5zY2FsZS5hbW91bnQgKyAtTWF0aC5zaWduKGUuZGVsdGFZKSAqIDAuMTtcbiAgICBzY2FsZSA9IE1hdGgubWluKE1hdGgubWF4KDAuNSwgc2NhbGUpLCAyKTtcblxuICAgIHRoaXMubW9kZWwuc2NhbGUubGltaXRSZWFjaGVkID1cbiAgICAgIE1hdGguYWJzKHNjYWxlIC0gMC41KSA8IE51bWJlci5FUFNJTE9OIHx8XG4gICAgICBNYXRoLmFicyhzY2FsZSAtIDIpIDwgTnVtYmVyLkVQU0lMT047XG5cbiAgICBpZiAoIXRoaXMubW9kZWwuc2NhbGUubGltaXRSZWFjaGVkKSB7XG4gICAgICB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudCA9IHNjYWxlO1xuXG4gICAgICBsZXQgX2VsOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXRvclwiKTtcblxuICAgICAgaWYgKF9lbCkge1xuICAgICAgICBsZXQgdyA9IF9lbC53aWR0aCxcbiAgICAgICAgICBoID0gX2VsLmhlaWdodDtcblxuICAgICAgICBsZXQgbWx0cHIgPSAwLjE7XG5cbiAgICAgICAgdGhpcy5tb2RlbC5vZmZzZXQueCArPVxuICAgICAgICAgIHcgKlxuICAgICAgICAgIChNYXRoLnNpZ24oZS5kZWx0YVkpICogbWx0cHIpICpcbiAgICAgICAgICAoKGUub2Zmc2V0WCAtIHRoaXMubW9kZWwub2Zmc2V0LngpIC8gX2VsLndpZHRoKTtcbiAgICAgICAgdGhpcy5tb2RlbC5vZmZzZXQueSArPVxuICAgICAgICAgIGggKlxuICAgICAgICAgIChNYXRoLnNpZ24oZS5kZWx0YVkpICogbWx0cHIpICpcbiAgICAgICAgICAoKGUub2Zmc2V0WSAtIHRoaXMubW9kZWwub2Zmc2V0LnkpIC8gX2VsLmhlaWdodCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0cy5yZW5kZXIoKTtcbiAgICB0aGlzLnZpZXcuZHJhdygpO1xuICB9XG5cbiAgbW91c2VEb3duKGU6IEV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbC5jbGlja2VkID0gdHJ1ZTtcbiAgfVxuXG4gIG1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm1vZGVsLm1vdXNlKSB7XG4gICAgICB0aGlzLm1vZGVsLm1vdXNlID0ge1xuICAgICAgICB4OiBlLm9mZnNldFgsXG4gICAgICAgIHk6IGUub2Zmc2V0WSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW9kZWwubW91c2UueCA9IGUub2Zmc2V0WDtcbiAgICAgIHRoaXMubW9kZWwubW91c2UueSA9IGUub2Zmc2V0WTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RlbC5jbGlja2VkKSB7XG4gICAgICBpZiAodGhpcy5tb2RlbC5vZmZzZXQpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5vZmZzZXQueCArPSBlLm1vdmVtZW50WDtcbiAgICAgICAgdGhpcy5tb2RlbC5vZmZzZXQueSArPSBlLm1vdmVtZW50WTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubW9kZWwub2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRzLnJlbmRlcigpO1xuICAgIHRoaXMudmlldy5kcmF3KCk7XG4gIH1cblxuICBtb3VzZVVwKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5tb2RlbC5jbGlja2VkID0gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzQ29udHJvbGxlcjtcbiIsImltcG9ydCBDYW52YXNDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJzL2NhbnZhcy5jb250cm9sbGVyXCI7XG5cbmNsYXNzIENvbnRyb2xsZXIge1xuICAgIGNhbnZhczogQ2FudmFzQ29udHJvbGxlciA9IG5ldyBDYW52YXNDb250cm9sbGVyKClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlclxuIiwiaW1wb3J0IHsgSVZlYyB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5cbmNsYXNzIENhbnZhc01vZGVsIHtcbiAgbW91c2U6IElWZWMgfCBudWxsID0gbnVsbDtcbiAgY2FudmFzU2l6ZTogSVZlYyB8IG51bGwgPSBudWxsO1xuICBtb3VzZUNhbnZhc1JhdGlvOiBJVmVjIHwgbnVsbCA9IG51bGw7XG4gIHNjYWxlOiB7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgY29vcmQ6IElWZWMgfCBudWxsO1xuICAgIGxpbWl0UmVhY2hlZDogYm9vbGVhbjtcbiAgfSA9IHtcbiAgICBhbW91bnQ6IDEsXG4gICAgY29vcmQ6IG51bGwsXG4gICAgbGltaXRSZWFjaGVkOiBmYWxzZSxcbiAgfTtcbiAgY2xpY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBrZXlib2FyZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIG9mZnNldDogSVZlYyA9IHsgeDogMCwgeTogMCB9O1xuICBjb25maWc6IElDb25maWcgPSB7XG4gICAgYXhpczoge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICB9LFxuICAgIG5ldDoge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIHN0ZXA6IDIwLFxuICAgIH0sXG4gIH07XG59XG5cbmludGVyZmFjZSBJQ29uZmlnIHtcbiAgYXhpczoge1xuICAgIHNob3c6IGJvb2xlYW47XG4gIH07XG4gIG5ldDoge1xuICAgIHNob3c6IGJvb2xlYW47XG4gICAgc3RlcDogMTUgfCAyMCB8IDUwO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNNb2RlbDtcbiIsImltcG9ydCB7IElWZWMgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvdmVjdFwiO1xuaW1wb3J0IENhbnZhc01vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FudmFzLm1vZGVsXCI7XG5cbmNsYXNzIENhbnZhc1ZpZXcge1xuICBtb2RlbDogQ2FudmFzTW9kZWw7XG4gIGNvbnRhaW5lcjogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBDYW52YXNNb2RlbCkge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdG9yXCIpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmluaXRDYW52YXNDb250YWluZXIoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHRoaXMuZHJhd05ldCgpO1xuICAgIC8vIHRoaXMuZHJhd05ldDEoKTtcbiAgICB0aGlzLmRyYXdBeGlzKCk7XG4gICAgdGhpcy5kcmF3TW91c2UoKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGFpbmVyPy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBpZiAoIWN0eCB8fCAhdGhpcy5tb2RlbC5tb3VzZSB8fCAhdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jb250YWluZXIud2lkdGgsIHRoaXMuY29udGFpbmVyLmhlaWdodCk7XG4gIH1cblxuICBkcmF3TW91c2UoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXI/LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmICghY3R4IHx8ICF0aGlzLm1vZGVsLm1vdXNlKSByZXR1cm47XG5cbiAgICBjdHguc2F2ZSgpO1xuXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmVkXCI7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgY3R4LmFyYyh0aGlzLm1vZGVsLm1vdXNlLngsIHRoaXMubW9kZWwubW91c2UueSwgMSwgMCwgMiAqIE1hdGguUEkpO1xuXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIGRyYXdOZXQoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXI/LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmICghY3R4IHx8ICF0aGlzLm1vZGVsLm1vdXNlIHx8ICF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGlmICghdGhpcy5tb2RlbC5jb25maWcubmV0LnNob3cpIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG5cbiAgICBsZXQgc3RlcCA9IHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwICogdGhpcy5tb2RlbC5zY2FsZS5hbW91bnQ7XG4gICAgbGV0IGggPSB0aGlzLmNvbnRhaW5lci5oZWlnaHQ7XG4gICAgbGV0IHcgPSB0aGlzLmNvbnRhaW5lci53aWR0aDtcbiAgICBsZXQgbmV0T2Zmc2V0OiBJVmVjID0ge1xuICAgICAgeDogdGhpcy5tb2RlbC5vZmZzZXQueCAlIHN0ZXAsXG4gICAgICB5OiB0aGlzLm1vZGVsLm9mZnNldC55ICUgc3RlcCxcbiAgICB9O1xuXG4gICAgLy94XG4gICAgbGV0IGlWID0gMDtcbiAgICBsZXQgbWF4ViA9IHcgLyBzdGVwO1xuICAgIHdoaWxlIChpViA8PSBtYXhWKSB7XG4gICAgICBsZXQgZnJvbTogSVZlYyA9IHsgeDogc3RlcCAqIGlWICsgbmV0T2Zmc2V0LngsIHk6IDAgfTtcbiAgICAgIGxldCB0bzogSVZlYyA9IHsgeDogc3RlcCAqIGlWICsgbmV0T2Zmc2V0LngsIHk6IGggfTtcblxuICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpO1xuICAgICAgaVYrKztcbiAgICB9XG5cbiAgICAvL3lcbiAgICBsZXQgaUggPSAwO1xuICAgIGxldCBtYXhIID0gaCAvIHN0ZXA7XG4gICAgd2hpbGUgKGlIIDw9IG1heEgpIHtcbiAgICAgIGxldCBmcm9tOiBJVmVjID0geyB4OiAwLCB5OiBzdGVwICogaUggKyBuZXRPZmZzZXQueSB9O1xuICAgICAgbGV0IHRvOiBJVmVjID0geyB4OiB3LCB5OiBzdGVwICogaUggKyBuZXRPZmZzZXQueSB9O1xuXG4gICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG5cbiAgICAgIGlIKys7XG4gICAgfVxuXG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBkcmF3TmV0MSgpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lcj8uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHggfHwgIXRoaXMubW9kZWwubW91c2UgfHwgIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc2hvdykgcmV0dXJuO1xuXG4gICAgY3R4LnNhdmUoKTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubGluZVdpZHRoID0gMTtcblxuICAgIC8vIGxldCBzdGVwID0gdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXAgKiB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudDtcbiAgICBsZXQgc3RlcCA9IHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwO1xuICAgIGxldCBoID0gdGhpcy5jb250YWluZXIuaGVpZ2h0O1xuICAgIGxldCB3ID0gdGhpcy5jb250YWluZXIud2lkdGg7XG5cbiAgICAvL3hcbiAgICBsZXQgaVYgPSAwO1xuICAgIGxldCBtYXhWID0gdyAvIHN0ZXA7XG4gICAgd2hpbGUgKGlWIDw9IG1heFYpIHtcbiAgICAgIGxldCBmcm9tOiBJVmVjID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHN0ZXAgKiBpViwgMCk7XG4gICAgICBsZXQgdG86IElWZWMgPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoc3RlcCAqIGlWLCBoKTtcblxuICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpO1xuICAgICAgaVYrKztcbiAgICB9XG5cbiAgICAvL3lcbiAgICBsZXQgaUggPSAwO1xuICAgIGxldCBtYXhIID0gaCAvIHN0ZXA7XG4gICAgd2hpbGUgKGlIIDw9IG1heEgpIHtcbiAgICAgIGxldCBmcm9tOiBJVmVjID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKDAsIHN0ZXAgKiBpSCk7XG4gICAgICBsZXQgdG86IElWZWMgPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXModywgc3RlcCAqIGlIKTtcblxuICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpO1xuXG4gICAgICBpSCsrO1xuICAgIH1cblxuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhd0F4aXMoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXI/LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmICghY3R4IHx8ICF0aGlzLm1vZGVsLm1vdXNlIHx8ICF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGlmICghdGhpcy5tb2RlbC5jb25maWcuYXhpcy5zaG93KSByZXR1cm47XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgIGxldCBoID0gdGhpcy5jb250YWluZXIuaGVpZ2h0O1xuICAgIGxldCB3ID0gdGhpcy5jb250YWluZXIud2lkdGg7XG5cbiAgICBsZXQgeF9Gcm9tID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKDAsIDApO1xuICAgIGxldCB4X1RvID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHcsIDApO1xuICAgIGxldCB5X0Zyb20gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoMCwgMCk7XG4gICAgbGV0IHlfVG8gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoMCwgaCk7XG5cbiAgICBjdHgubW92ZVRvKDAsIHhfRnJvbS55KTtcbiAgICBjdHgubGluZVRvKHcsIHhfVG8ueSk7XG5cbiAgICBjdHgubW92ZVRvKHlfRnJvbS54LCAwKTtcbiAgICBjdHgubGluZVRvKHlfVG8ueCwgaCk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcblxuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgLy9UT0RPOiBhcHBseSBzY2FsZSB0cmFuc2Zvcm1hdGlvbiBoZXJlXG4gIGdldFdvcmxkQ29vcmRpbmF0ZXMoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBJVmVjIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh2ZWM6IElWZWMpOiBJVmVjIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHZlYy54ICsgX3RoaXMubW9kZWwub2Zmc2V0LngsXG4gICAgICAgIHk6IHZlYy55ICsgX3RoaXMubW9kZWwub2Zmc2V0LnksXG4gICAgICB9O1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIGxldCBzY2FsZSA9IGZ1bmN0aW9uICh2ZWM6IElWZWMpOiBJVmVjIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHZlYy54ICogX3RoaXMubW9kZWwuc2NhbGUuYW1vdW50LFxuICAgICAgICB5OiB2ZWMueSAqIF90aGlzLm1vZGVsLnNjYWxlLmFtb3VudCxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGxldCB0ID0geyB4LCB5IH07XG4gICAgdCA9IHNjYWxlKHQpO1xuICAgIC8vIHQgPSByb3RhdGlvbih0KTsgVE9ETyBvcmRlciBpcyBzY2FsaW5nIHJvdGF0aW9uIHRyYW5zbGF0aW9uXG4gICAgdCA9IHRyYW5zbGF0ZSh0KTtcblxuICAgIHJldHVybiB0O1xuICB9XG5cbiAgLy94OiAoeCArIHRoaXMubW9kZWwub2Zmc2V0LngpICogdGhpcy5tb2RlbC5zY2FsZS5hbW91bnQgKiB0aGlzLm1vZGVsLnNjYWxlLmNvb3JkLngsXG4gIC8vICAgICAgIHk6ICh5ICsgdGhpcy5tb2RlbC5vZmZzZXQueSkgICogdGhpcy5tb2RlbC5zY2FsZS5hbW91bnQsXG4gIC8vIGdldExvY2FsQ29vcmRpbmF0ZXMoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgLy8gICByZXR1cm4ge1xuICAvLyAgICAgeDogKHggKyB0aGlzLm1vZGVsLm9mZnNldC54KSAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50ICogdGhpcy5tb2RlbC5zY2FsZS5jb29yZCAsXG4gIC8vICAgICB5OiAoeSArIHRoaXMubW9kZWwub2Zmc2V0LnkpICAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50LFxuICAvLyAgIH07XG4gIC8vIH1cblxuICBpbml0Q2FudmFzQ29udGFpbmVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiNjAwcHhcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IFwiOTAwcHhcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5oZWlnaHQgPSA2MDA7XG4gICAgdGhpcy5jb250YWluZXIud2lkdGggPSA5MDA7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIjtcblxuICAgIHRoaXMubW9kZWwuY2FudmFzU2l6ZSA9IHtcbiAgICAgIHk6IDYwMCxcbiAgICAgIHg6IDkwMCxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1ZpZXc7XG4iLCJpbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcblxuY2xhc3MgU3RhdHNWaWV3IHtcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihtb2RlbDogQ2FudmFzTW9kZWwpIHtcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N0YXRzXCIpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmluaXRDb250YWluZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG5cbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtblwiPlxuICAgICAgICA8ZGl2PnggLSAke01hdGgucm91bmQodGhpcy5tb2RlbC5vZmZzZXQueCl9IFxuICAgICAgICAvIHkgLSAke01hdGgucm91bmQodGhpcy5tb2RlbC5vZmZzZXQueSl9PC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2PnggLSAke01hdGgucm91bmQodGhpcy5tb2RlbC5tb3VzZT8ueCA/PyAwKX0gXG4gICAgICAgIC8geSAtICR7TWF0aC5yb3VuZCh0aGlzLm1vZGVsLm1vdXNlPy55ID8/IDApfTwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdj5zY2FsZSAtICR7dGhpcy5tb2RlbC5zY2FsZS5hbW91bnR9PC9kaXY+XG4gICAgICAgIDxkaXY+d2lkdGggLSAke3RoaXMubW9kZWwuY2FudmFzU2l6ZT8ueH0gLyBoZWlnaHQgLSAke1xuICAgICAgdGhpcy5tb2RlbC5jYW52YXNTaXplPy55XG4gICAgfSAvIDwvZGl2PlxuICAgICAgICA8ZGl2PnJhdGlvIHggJHt0aGlzLm1vZGVsLm1vdXNlQ2FudmFzUmF0aW8/Lnh9IC8geSAke1xuICAgICAgdGhpcy5tb2RlbC5tb3VzZUNhbnZhc1JhdGlvPy55XG4gICAgfTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIGluaXRDb250YWluZXIoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxNTBweFwiO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIyMDBweFwiO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUubWFyZ2luTGVmdCA9IFwiMTBweFwiO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0YXRzVmlldztcbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBfMkRDb250cm9sbGVyfSBmcm9tIFwiLi8yZFwiO1xuXG5jbGFzcyBBcHAge1xuICBfMmQ6IF8yRENvbnRyb2xsZXIgPSBuZXcgXzJEQ29udHJvbGxlcigpXG5cblxuICBydW4oKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBcbiIsImltcG9ydCBBcHAgZnJvbSAnLi9hcHAnO1xuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbmFwcC5ydW4oKTsiXX0="}