{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/2d/controllers/canvas.controller.ts","app/2d/controllers/mode.controller.ts","app/2d/controllers/pipe.controller.ts","app/2d/index.ts","app/2d/models/canvas.model.ts","app/2d/models/geometry/arc.model.ts","app/2d/models/geometry/line.model.ts","app/2d/models/ghost/heating/pipe.model.ts","app/2d/models/heating/fitting.model.ts","app/2d/models/heating/pipe.model.ts","app/2d/models/main.model.ts","app/2d/overlap.model.ts","app/2d/views/canvas.view.ts","app/2d/views/fitting.view.ts","app/2d/views/mode.view.ts","app/2d/views/pipe.view.ts","app/2d/views/stats.view.ts","app/2d/views/valve.view.ts","app/app.ts","app/geometry/vect.ts","app/main.ts","app/utils.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import CanvasView from \"../views/canvas.view\";\nimport CanvasModel from \"../models/canvas.model\";\nimport StatsView from \"../views/stats.view\";\nimport { IVec, Vector } from \"../../geometry/vect\";\nimport PipeController from \"./pipe.controller\";\nimport Overlap from \"../overlap.model\";\n\nclass Canvas {\n  view: CanvasView;\n  stats: StatsView;\n  model: CanvasModel;\n  pipe: PipeController;\n\n  constructor() {\n    this.model = new CanvasModel();\n    this.view = new CanvasView(this.model);\n    this.stats = new StatsView(this.model);\n\n    this.pipe = new PipeController(this.model);\n\n    if (this.view.container) {\n      this.view.container.addEventListener(\n        \"mousemove\",\n        this.mouseMove.bind(this)\n      );\n      this.view.container.addEventListener(\n        \"mousedown\",\n        this.mouseDown.bind(this)\n      );\n      this.view.container.addEventListener(\"mouseup\", this.mouseUp.bind(this));\n      this.view.container.addEventListener(\"wheel\", this.mouseWheel.bind(this));\n      document.addEventListener(\"keyup\", this.keyUp.bind(this));\n    }\n  }\n\n  mouseWheel(e: WheelEvent) {\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseDown(e: Event): void {\n    this.model.clicked = true;\n\n    if (!this.model.mouse) return;\n\n    let _mouse = new Vector(this.model.mouse.x, this.model.mouse.y);\n\n    if (this.model.config.net.bind) {\n      _mouse.x =\n        Math.round(_mouse.x / this.model.config.net.step) *\n        this.model.config.net.step;\n      _mouse.y =\n        Math.round(_mouse.y / this.model.config.net.step) *\n        this.model.config.net.step;\n    }\n\n    switch (this.model.mode) {\n      case \"default\":\n        break;\n      case \"wall\":\n        break;\n      case \"pipe\":\n        this.pipe.mouseDown(_mouse);\n        break;\n      case \"valve\":\n        break;\n    }\n\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseMove(e: MouseEvent): void {\n    if (!this.model.mouse) {\n      this.model.mouse = {\n        x: e.offsetX,\n        y: e.offsetY,\n      };\n    } else {\n      this.model.mouse.x = e.offsetX;\n      this.model.mouse.y = e.offsetY;\n    }\n\n    let _mouse = new Vector(this.model.mouse.x, this.model.mouse.y);\n\n    if (this.model.config.net.bind) {\n      _mouse.x =\n        Math.round(_mouse.x / this.model.config.net.step) *\n        this.model.config.net.step;\n      _mouse.y =\n        Math.round(_mouse.y / this.model.config.net.step) *\n        this.model.config.net.step;\n    }\n\n    switch (this.model.mode) {\n      case \"default\":\n        break;\n      case \"wall\":\n        break;\n      case \"pipe\":\n        this.pipe.mouseMove(_mouse);\n        break;\n      case \"valve\":\n        break;\n    }\n\n    this.model.overlap.update(_mouse);\n\n    this.stats.render();\n    this.view.draw();\n  }\n\n  mouseUp(e: Event) {\n    this.model.clicked = false;\n\n    if (!this.model.mouse) return;\n\n    let _mouse = new Vector(this.model.mouse.x, this.model.mouse.y);\n\n    if (this.model.config.net.bind) {\n      _mouse.x =\n        Math.round(_mouse.x / this.model.config.net.step) *\n        this.model.config.net.step;\n      _mouse.y =\n        Math.round(_mouse.y / this.model.config.net.step) *\n        this.model.config.net.step;\n    }\n\n    switch (this.model.mode) {\n      case \"default\":\n        break;\n      case \"wall\":\n        break;\n      case \"pipe\":\n        this.pipe.mouseUp(_mouse);\n        break;\n      case \"valve\":\n        break;\n    }\n  }\n\n  keyUp(e: KeyboardEvent) {\n    if (e.key === \"Escape\") {\n      this.model.actionMode = null; // Todo: future reset place here;\n      this.reset();\n    }\n  }\n\n  reset() {\n    this.model.actionObject = null;\n\n    this.stats.render();\n    this.view.draw();\n  }\n}\n\nexport default Canvas;\n","import CanvasView from \"../views/canvas.view\";\nimport CanvasModel from \"../models/canvas.model\";\nimport StatsView from \"../views/stats.view\";\nimport ModeView from \"../views/mode.view\";\n\nclass Mode {\n  view: ModeView;\n  model: CanvasModel;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.view = new ModeView(this.model);\n\n    if (this.view.container) {\n      this.view.container.addEventListener(\"click\", this.handleMode.bind(this));\n    }\n\n    if (this.view.subContainer) {\n      this.view.subContainer.addEventListener(\n        \"click\",\n        this.handleSubMode.bind(this)\n      );\n    }\n  }\n\n  handleMode(e: Event) {\n    let cT = e.target as HTMLInputElement;\n    let value = cT.value;\n\n    if (\n      value === \"default\" ||\n      value === \"wall\" ||\n      value === \"pipe\" ||\n      value === \"valve\"\n    ) {\n      this.model.mode = value;\n    }\n  }\n\n  handleSubMode(e: Event) {\n    let cT = e.target as HTMLInputElement;\n    let value = cT.value;\n\n    if (value === \"supply\" || value === \"return\") {\n      this.model.subMode = value;\n    }\n  }\n}\n\nexport default Mode;\n","import CanvasModel from \"../models/canvas.model\";\nimport { IVec, Vector } from \"../../geometry/vect\";\nimport PipeGhostModel from \"../models/ghost/heating/pipe.model\";\nimport PipeModel from \"../models/heating/pipe.model\";\n\nclass Pipe {\n  model: CanvasModel;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n  }\n\n  mouseMove(coord: IVec) {\n    if (\n      this.model.actionObject &&\n      this.model.actionObject instanceof PipeGhostModel\n    ) {\n      this.model.actionObject.to.vec.x = coord.x;\n      this.model.actionObject.to.vec.y = coord.y;\n    }\n  }\n\n  mouseDown(coord: IVec) {\n    if (!this.model.actionObject) {\n      this.model.actionMode = \"pipeLaying\";\n    }\n\n    if (this.model.actionObject instanceof PipeGhostModel) {\n      let pipe = new PipeModel(\n        this.model,\n        this.model.actionObject.from.vec.clone(),\n        this.model.actionObject.to.vec.clone()\n      );\n      pipe.type = this.model.subMode ?? \"supply\";\n      this.model.addPipe(pipe);\n\n      pipe.merge();\n    }\n\n    this.model.actionObject = new PipeGhostModel(coord.clone(), coord.clone());\n  }\n\n  mouseUp(coord: IVec) {}\n}\n\nexport default Pipe;\n","import CanvasController from \"./controllers/canvas.controller\";\nimport ModeController from \"./controllers/mode.controller\";\nimport StatsView from \"./views/stats.view\";\n\nclass Controller {\n  canvas: CanvasController = new CanvasController();\n\n  mode: ModeController;\n\n  constructor() {\n    this.mode = new ModeController(this.canvas.model);\n  }\n}\n\nexport default Controller;\n","import { ICoord, IVec, Vector } from \"../../geometry/vect\";\nimport Wall from \"./architecture/wall.model\";\nimport Pipe from \"./heating/pipe.model\";\nimport GhostPipe from \"./ghost/heating/pipe.model\";\nimport Valve from \"./heating/valve.model\";\nimport Overlap from \"../overlap.model\";\nimport Fitting from \"./heating/fitting.model\";\n\nclass Canvas {\n  private _walls: Array<Wall> = [];\n  private _pipes: Array<Pipe> = [];\n  private _valves: Array<Valve> = [];\n  private _fittings: Array<Fitting> = [];\n  overlap: Overlap;\n\n  mode: \"default\" | \"wall\" | \"pipe\" | \"valve\" = \"pipe\";\n  subMode: \"supply\" | \"return\" | null = null;\n  actionMode: \"pipeLaying\" | \"wallLaying\" | null = null;\n  actionObject: Wall | Pipe | null | GhostPipe = null;\n  placingObject: Valve | null = null;\n\n  constructor() {\n    this.overlap = new Overlap(this);\n\n    this.pipes.push(new Pipe(this, new Vector(40, 100), new Vector(300, 100)));\n    // this.pipes.push(new Pipe(new Vector(40, 200), new Vector(100, 260)));\n    // this.pipes.push(new Pipe(new Vector(40, 380), new Vector(100, 320)));\n  }\n\n  mouse: ICoord | null = null;\n  canvasSize: ICoord | null = null;\n  mouseCanvasRatio: ICoord | null = null;\n  scale: {\n    amount: number;\n    coord: ICoord | null;\n    limitReached: boolean;\n  } = {\n    amount: 1,\n    coord: null,\n    limitReached: false,\n  };\n  clicked: boolean = false;\n  keyboard: string | null = null;\n  offset: ICoord = { x: 0, y: 0 };\n  config: IConfig = {\n    axis: {\n      show: true,\n    },\n    net: {\n      bind: true,\n      show: true,\n      step: 20,\n    },\n    overlap: {\n      bindDistance: 10,\n    },\n  };\n\n  get walls(): Array<Wall> {\n    return this._walls;\n  }\n\n  set walls(value: Array<Wall>) {\n    this._walls = value;\n  }\n\n  get pipes(): Array<Pipe> {\n    return this._pipes;\n  }\n\n  set pipes(value: Array<Pipe>) {\n    this._pipes = value;\n  }\n\n  get valves(): Array<Valve> {\n    return this._valves;\n  }\n\n  set valves(value: Array<Valve>) {\n    this._valves = value;\n  }\n\n  get fittings(): Array<Fitting> {\n    return this._fittings;\n  }\n\n  set fittings(value: Array<Fitting>) {\n    this._fittings = value;\n  }\n\n  addWall(wall: Wall) {\n    this.walls.push(wall);\n    this.walls = this.walls;\n\n    return wall;\n  }\n\n  addPipe(pipe: Pipe) {\n    this.pipes.push(pipe);\n    this.pipes = this.pipes;\n\n    return this.pipes[this.pipes.length - 1];\n  }\n\n  addFitting(fitting: Fitting) {\n    this.fittings.push(fitting);\n    this.fittings = this.fittings;\n\n    return this.fittings[this.fittings.length - 1];\n  }\n\n  getPipeByID(id: string) {\n    return this.pipes.find((p) => p.id === id);\n  }\n\n  deletePipe(id: string) {\n    this.pipes = this.pipes.filter((p) => p.id !== id);\n  }\n}\n\ninterface IConfig {\n  axis: {\n    show: boolean;\n  };\n  net: {\n    bind: boolean;\n    show: boolean;\n    step: 15 | 20 | 50;\n  };\n  overlap: {\n    bindDistance: 10 | 20;\n  };\n}\n\nexport default Canvas;\n","import { IVec } from \"../../../geometry/vect\";\nimport Main from \"../main.model\";\n\nclass Arc extends Main {\n  radius: number = 5;\n  center: IVec;\n\n  color: string = \"#fff\";\n  width: number = 1;\n\n  constructor(center: IVec) {\n    super();\n\n    this.center = center;\n  }\n}\n\nexport default Arc;\n","import { IVec } from \"../../../geometry/vect\";\nimport Main from \"../main.model\";\n\nclass Line<T = { vec: IVec }> extends Main {\n  from: T;\n  to: T;\n\n  width: number = 1;\n\n  constructor(from: T, to: T) {\n    super();\n\n    this.from = from;\n    this.to = to;\n  }\n}\n\nexport default Line;\n","import Line from \"../../geometry/line.model\";\nimport { IVec } from \"../../../../geometry/vect\";\n\nclass Pipe extends Line<{ vec: IVec }> {\n  constructor(from: IVec, to: IVec) {\n    super({ vec: from }, { vec: to });\n  }\n\n  get color() {\n    return \"pink\";\n  }\n}\n\nexport default Pipe;\n","import { IVec } from \"../../../geometry/vect\";\nimport Line from \"../geometry/line.model\";\nimport Arc from \"../geometry/arc.model\";\nimport Pipe from \"./pipe.model\";\nimport CanvasModel from \"../canvas.model\";\n\nclass Fitting extends Arc {\n  private _pipes: Array<Pipe> = [];\n  model: CanvasModel;\n\n  constructor(model: CanvasModel, center: IVec) {\n    super(center);\n\n    this.color = \"black\";\n    this.model = model;\n  }\n\n  get pipes(): Array<Pipe> {\n    return this._pipes;\n  }\n\n  set pipes(value: Array<Pipe>) {\n    this._pipes = value;\n  }\n\n  needMerge(v: IVec) {\n    let distance = this.model.config.overlap.bindDistance;\n\n    return this.center.sub(v).length <= distance;\n  }\n\n  addPipe(pipe: Pipe) {\n    this._pipes.push(pipe);\n  }\n}\n\nexport default Fitting;\n","import { IVec, Vector } from \"../../../geometry/vect\";\nimport Line from \"../geometry/line.model\";\nimport CanvasModel from \"../canvas.model\";\nimport Fitting from \"./fitting.model\";\nimport Valve from \"./valve.model\";\n\ninterface IPipeEnd {\n  target: null | Fitting | Valve;\n  vec: IVec;\n}\n\nclass Pipe extends Line<IPipeEnd> {\n  type: \"supply\" | \"return\" = \"supply\";\n  model: CanvasModel;\n\n  constructor(model: CanvasModel, from: IVec, to: IVec) {\n    super({ target: null, vec: from }, { target: null, vec: to });\n\n    this.model = model;\n  }\n\n  get color() {\n    return this.type === \"supply\" ? \"red\" : \"blue\";\n  }\n\n  toOrigin(): IVec {\n    return this.to.vec.sub(this.from.vec);\n  }\n\n  merge() {\n    let merged = false;\n\n    this.model.fittings.map((fitting) => {\n      if (fitting.needMerge(this.from.vec) || fitting.needMerge(this.to.vec)) {\n        merged = this.mergeFitting(fitting);\n      }\n    });\n\n    this.model.pipes.map((pipe) => {\n      if (this.id === pipe.id) return;\n\n      if (pipe.isClose(this.from.vec) || pipe.isClose(this.to.vec)) {\n        merged = this.mergePipe(pipe);\n      }\n    });\n  }\n\n  mergePipe(pipe: Pipe): boolean {\n    let distance = this.model.config.overlap.bindDistance;\n    let merged = false;\n\n    const run = (end: IPipeEnd) => {\n      if (this.id === pipe.id) return;\n\n      if (pipe.isClose(end.vec)) {\n        let mergePoint;\n\n        if (pipe.from.vec.sub(end.vec).length <= distance) {\n          if (pipe.from.target) return;\n\n          mergePoint = pipe.from.vec.clone();\n\n          let newFitting = new Fitting(this.model, mergePoint);\n          this.model.addFitting(newFitting);\n\n          pipe.from.target = newFitting;\n          end.target = newFitting;\n\n          return;\n        } else if (pipe.to.vec.sub(end.vec).length <= distance) {\n          if (pipe.to.target) return;\n\n          mergePoint = pipe.to.vec.clone();\n\n          let newFitting = new Fitting(this.model, mergePoint);\n          this.model.addFitting(newFitting);\n\n          pipe.to.target = newFitting;\n          end.target = newFitting;\n\n          return;\n        }\n\n        let normPipe = pipe.toOrigin().normalize();\n        let projPipe = pipe.toOrigin().projection(end.vec.sub(pipe.from.vec));\n\n        mergePoint = normPipe.multiply(projPipe).sum(pipe.from.vec);\n        mergePoint = mergePoint.bindNet(this.model.config.net.step);\n\n        let newP1 = new Pipe(\n          this.model,\n          new Vector(0, 0).sum(pipe.from.vec),\n          new Vector(mergePoint.x, mergePoint.y)\n        );\n\n        let newP2 = new Pipe(\n          this.model,\n          new Vector(mergePoint.x, mergePoint.y),\n          new Vector(pipe.to.vec.x, pipe.to.vec.y)\n        );\n\n        // end = mergePoint.clone();\n        this.model.addPipe(newP1);\n        this.model.addPipe(newP2);\n        pipe.delete();\n\n        let newFitting = new Fitting(this.model, mergePoint);\n        this.model.addFitting(newFitting);\n\n        newP1.from.target = pipe.from.target;\n        newP1.to.target = newFitting;\n        newP2.from.target = newFitting;\n        newP2.to.target = pipe.to.target;\n\n        merged = true;\n      }\n    };\n\n    run(this.from);\n    run(this.to);\n    console.log(\"from\", this.from);\n    console.log(\"to\", this.to);\n\n    return merged;\n  }\n\n  mergeFitting(fitting: Fitting): boolean {\n    let merged = false;\n\n    let isFrom = fitting.needMerge(this.from.vec);\n    let isTo = fitting.needMerge(this.to.vec);\n\n    if (isFrom || isTo) {\n      fitting.pipes.push(this);\n      merged = true;\n    }\n\n    if (isFrom) {\n      this.from.target = fitting;\n    } else if (isTo) this.to.target = fitting;\n\n    return merged;\n  }\n\n  isClose(end: IVec) {\n    let distance = this.model.config.overlap.bindDistance;\n\n    return (\n      this.from.vec.sub(end).length <= distance ||\n      this.to.vec.sub(end).length <= distance ||\n      end.distanceToLine(this) <= distance\n    );\n  }\n\n  delete() {\n    this.model.pipes = this.model.pipes.filter((_p) => _p.id !== this.id);\n  }\n}\n\nexport default Pipe;\n","import { uuid } from \"../../utils\";\n\nclass Main {\n  id: string;\n\n  constructor() {\n    this.id = uuid();\n  }\n}\n\nexport default Main;\n","import Wall from \"./models/architecture/wall.model\";\nimport Pipe from \"./models/heating/pipe.model\";\nimport Valve from \"./models/heating/valve.model\";\nimport CanvasModel from \"./models/canvas.model\";\nimport { IVec, Vector } from \"../geometry/vect\";\n\nclass Overlap {\n  readonly model: CanvasModel;\n\n  mouse: IVec | null = null;\n  netBoundMouse: IVec | null = null;\n\n  private walls: Array<IOverlap> = [];\n  private pipes: Array<IOverlap> = [];\n  private valves: Array<IOverlapValve> = [];\n\n  list: Array<IOverlap> = [];\n  netBoundList: Array<IOverlap> = [];\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n  }\n\n  update(mouse: IVec) {\n    this.mouse = mouse;\n\n    this.wallsOverlap();\n    this.pipeOverlap();\n    this.updateList();\n    // this.updateNetBoundList();\n  }\n\n  wallsOverlap() {\n    this.model.walls.map(() => {});\n  }\n\n  pipeOverlap() {\n    this.pipes = [];\n\n    let bind = this.model.config.overlap.bindDistance;\n\n    this.model.pipes.map((pipe) => {\n      if (!this.mouse) return;\n\n      let _p: IOverlap | null = null;\n\n      if (pipe.from.vec.sub(this.mouse).length <= bind) {\n        _p = {\n          type: \"pipe\",\n          id: pipe.id,\n          ioVector: new Vector(pipe.from.vec.x, pipe.from.vec.y),\n        };\n      }\n\n      if (!_p && pipe.to.vec.sub(this.mouse).length <= bind) {\n        _p = {\n          type: \"pipe\",\n          id: pipe.id,\n          ioVector: new Vector(pipe.to.vec.x, pipe.to.vec.y),\n        };\n      }\n\n      if (!_p) {\n        let l = this.mouse.distanceToLine(pipe);\n\n        if (l <= bind) {\n          let normPipe = pipe.toOrigin().normalize();\n          let projPipe = pipe\n            .toOrigin()\n            .projection(this.mouse.sub(pipe.from.vec));\n\n          _p = {\n            type: \"pipe\",\n            id: pipe.id,\n            ioVector: normPipe.multiply(projPipe).sum(pipe.from.vec),\n          };\n        }\n      }\n\n      if (_p) this.pipes.push(_p);\n    });\n  }\n\n  updateList() {\n    this.list = [];\n\n    this.list.push(...this.pipes);\n  }\n}\n\ninterface IOverlap {\n  id: string;\n  type: \"wall\" | \"pipe\" | \"valve\";\n  ioVector?: IVec;\n}\n\nexport interface IOverlapValve extends IOverlap {}\n\nexport default Overlap;\n","import { IVec, Vector } from \"../../geometry/vect\";\nimport CanvasModel from \"../models/canvas.model\";\nimport Valve from \"../models/heating/valve.model\";\nimport Line from \"../models/geometry/line.model\";\nimport Pipe from \"../models/heating/pipe.model\";\nimport PipeView from \"./pipe.view\";\nimport ValveView from \"./valve.view\";\nimport FittingView from \"./fitting.view\";\n\nclass Canvas {\n  model: CanvasModel;\n  container: HTMLCanvasElement | null;\n  pipe: PipeView | null = null;\n  valve: ValveView | null = null;\n  fitting: FittingView | null = null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#editor\");\n\n    this.init();\n  }\n\n  init() {\n    this.initCanvasContainer();\n\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (ctx) {\n      this.pipe = new PipeView(this, this.model, ctx);\n      this.valve = new ValveView(this, this.model, ctx);\n      this.fitting = new FittingView(this, this.model, ctx);\n    }\n  }\n\n  draw() {\n    this.clear();\n    this.drawNet();\n    this.drawWalls();\n\n    this.pipe?.draw();\n    this.valve?.draw();\n    this.fitting?.draw();\n  }\n\n  clear() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n\n    ctx.clearRect(0, 0, this.container.width, this.container.height);\n  }\n\n  drawMouse() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 2;\n    ctx.arc(this.model.mouse.x, this.model.mouse.y, 1, 0, 2 * Math.PI);\n\n    ctx.restore();\n  }\n\n  drawNet() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.net.show) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n\n    let step = this.model.config.net.step * this.model.scale.amount;\n    let h = this.container.height;\n    let w = this.container.width;\n    let netOffset: IVec = new Vector(\n      this.model.offset.x % step,\n      this.model.offset.y % step\n    );\n\n    //x\n    let iV = 0;\n    let maxV = w / step;\n    while (iV <= maxV) {\n      let from: IVec = new Vector(step * iV + netOffset.x, 0);\n      let to: IVec = new Vector(step * iV + netOffset.x, h);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n      iV++;\n    }\n\n    //y\n    let iH = 0;\n    let maxH = h / step;\n    while (iH <= maxH) {\n      let from: IVec = new Vector(0, step * iH + netOffset.y);\n      let to: IVec = new Vector(w, step * iH + netOffset.y);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      iH++;\n    }\n\n    ctx.globalAlpha = 0.2;\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawNet1() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.net.show) return;\n\n    ctx.save();\n\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n\n    // let step = this.model.config.net.step * this.model.scale.amount;\n    let step = this.model.config.net.step;\n    let h = this.container.height;\n    let w = this.container.width;\n\n    //x\n    let iV = 0;\n    let maxV = w / step;\n    while (iV <= maxV) {\n      let from: IVec = this.getWorldCoordinates(step * iV, 0);\n      let to: IVec = this.getWorldCoordinates(step * iV, h);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n      iV++;\n    }\n\n    //y\n    let iH = 0;\n    let maxH = h / step;\n    while (iH <= maxH) {\n      let from: IVec = this.getWorldCoordinates(0, step * iH);\n      let to: IVec = this.getWorldCoordinates(w, step * iH);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      iH++;\n    }\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawAxis() {\n    const ctx = this.container?.getContext(\"2d\");\n\n    if (!ctx || !this.model.mouse || !this.container) return;\n    if (!this.model.config.axis.show) return;\n\n    ctx.save();\n    ctx.beginPath();\n\n    let h = this.container.height;\n    let w = this.container.width;\n\n    let x_From = this.getWorldCoordinates(0, 0);\n    let x_To = this.getWorldCoordinates(w, 0);\n    let y_From = this.getWorldCoordinates(0, 0);\n    let y_To = this.getWorldCoordinates(0, h);\n\n    ctx.moveTo(0, x_From.y);\n    ctx.lineTo(w, x_To.y);\n\n    ctx.moveTo(y_From.x, 0);\n    ctx.lineTo(y_To.x, h);\n    ctx.strokeStyle = \"red\";\n\n    ctx.stroke();\n    ctx.restore();\n  }\n\n  drawWalls() {\n    let walls = this.model.walls;\n\n    walls?.map((wall) => {\n      if (!this.container) return;\n\n      const ctx = this.container.getContext(\"2d\");\n\n      if (!ctx) return;\n\n      ctx.save();\n      ctx.beginPath();\n\n      let from = this.getWorldCoordinates(wall.from.x, wall.from.y);\n      let to = this.getWorldCoordinates(wall.from.x, wall.from.y);\n\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(to.x, to.y);\n\n      ctx.strokeStyle = wall.color;\n      ctx.lineWidth = wall.width;\n\n      ctx.stroke();\n      ctx.restore();\n    });\n  }\n\n  //TODO: apply scale transformation here\n  getWorldCoordinates(x: number, y: number): IVec {\n    let _this = this;\n\n    let scale = function (vec: IVec): Vector {\n      return new Vector(\n        vec.x * _this.model.scale.amount,\n        vec.y * _this.model.scale.amount\n      );\n    };\n\n    let translate = function (vec: IVec): Vector {\n      return new Vector(\n        vec.x + _this.model.offset.x,\n        vec.y + _this.model.offset.y\n      );\n    }.bind(this);\n\n    let t = new Vector(x, y);\n    t = scale(t);\n    // t = rotation(t); TODO order is scaling rotation translation\n    t = translate(t);\n\n    return t;\n  }\n\n  //x: (x + this.model.offset.x) * this.model.scale.amount * this.model.scale.coord.x,\n  //       y: (y + this.model.offset.y)  * this.model.scale.amount,\n  // getLocalCoordinates(x: number, y: number) {\n  //   return {\n  //     x: (x + this.model.offset.x) * this.model.scale.amount * this.model.scale.coord ,\n  //     y: (y + this.model.offset.y)  * this.model.scale.amount,\n  //   };\n  // }\n\n  initCanvasContainer(): void {\n    if (!this.container) return;\n\n    this.container.style.height = \"600px\";\n    this.container.style.width = \"900px\";\n    this.container.height = 600;\n    this.container.width = 900;\n    this.container.style.border = \"1px solid black\";\n\n    this.model.canvasSize = {\n      y: 600,\n      x: 900,\n    };\n  }\n}\n\nexport default Canvas;\n","import CanvasModel from \"../models/canvas.model\";\nimport PipeModel from \"../models/heating/pipe.model\";\nimport CanvasView from \"./canvas.view\";\nimport ValveModel from \"../models/heating/valve.model\";\nimport FittingModel from \"../models/heating/fitting.model\";\n\nclass Fitting {\n  canvas: CanvasView;\n  ctx: CanvasRenderingContext2D;\n\n  constructor(\n    view: CanvasView,\n    model: CanvasModel,\n    ctx: CanvasRenderingContext2D\n  ) {\n    this.canvas = view;\n    this.ctx = ctx;\n  }\n\n  drawFittings() {\n    this.canvas.model.fittings.map((fitting) => {\n      this.drawFitting(fitting);\n    });\n  }\n\n  drawFitting(fitting: FittingModel) {\n    this.ctx.save();\n    this.ctx.beginPath();\n\n    let c = this.canvas.getWorldCoordinates(fitting.center.x, fitting.center.y);\n\n    this.ctx.arc(c.x, c.y, fitting.radius, 0, 2 * Math.PI);\n\n    this.ctx.fillStyle = fitting.color;\n\n    this.ctx.fill();\n    this.ctx.restore();\n  }\n\n  draw() {\n    this.drawFittings();\n  }\n}\n\nexport default Fitting;\n","import CanvasModel from \"../models/canvas.model\";\n\nclass Mode {\n  model: CanvasModel;\n  container: HTMLElement | null;\n  subContainer: HTMLElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#mode\");\n    this.subContainer = document.querySelector(\"#subMode\");\n  }\n}\n\nexport default Mode;\n","import CanvasModel from \"../models/canvas.model\";\nimport PipeModel from \"../models/heating/pipe.model\";\nimport CanvasView from \"./canvas.view\";\nimport { IVec } from \"../../geometry/vect\";\nimport PipeGhostModel from \"../models/ghost/heating/pipe.model\";\n\nclass Pipe {\n  canvas: CanvasView;\n  ctx: CanvasRenderingContext2D;\n\n  constructor(\n    view: CanvasView,\n    model: CanvasModel,\n    ctx: CanvasRenderingContext2D\n  ) {\n    this.canvas = view;\n    this.ctx = ctx;\n  }\n\n  drawPipes() {\n    this.canvas.model.pipes.map((p) => {\n      this.drawPipe(p);\n    });\n  }\n\n  drawPipe(pipe: PipeModel) {\n    this.ctx.save();\n    this.ctx.beginPath();\n\n    let from = this.canvas.getWorldCoordinates(\n      pipe.from.vec.x,\n      pipe.from.vec.y\n    );\n    let to = this.canvas.getWorldCoordinates(pipe.to.vec.x, pipe.to.vec.y);\n\n    this.ctx.moveTo(from.x, from.y);\n    this.ctx.lineTo(to.x, to.y);\n\n    this.ctx.strokeStyle = pipe.color;\n    this.ctx.lineWidth = pipe.width;\n\n    if (this.canvas.model.overlap.list.find((l) => l.id === pipe.id)) {\n      this.ctx.shadowOffsetX = 4;\n      this.ctx.shadowOffsetY = 4;\n      this.ctx.shadowBlur = 5;\n      this.ctx.shadowColor = \"gray\";\n    }\n\n    this.ctx.stroke();\n    this.ctx.restore();\n  }\n\n  drawGhost(pipe: PipeGhostModel) {\n    this.ctx.save();\n    this.ctx.beginPath();\n\n    let from = this.canvas.getWorldCoordinates(\n      pipe.from.vec.x,\n      pipe.from.vec.y\n    );\n    let to = this.canvas.getWorldCoordinates(pipe.to.vec.x, pipe.to.vec.y);\n\n    this.ctx.moveTo(from.x, from.y);\n    this.ctx.lineTo(to.x, to.y);\n\n    this.ctx.strokeStyle = pipe.color;\n    this.ctx.lineWidth = pipe.width * 2;\n\n    this.ctx.stroke();\n    this.ctx.restore();\n  }\n\n  drawOverLap(coordinate: IVec) {\n    this.ctx.save();\n    this.ctx.beginPath();\n\n    let c = this.canvas.getWorldCoordinates(coordinate.x, coordinate.y);\n\n    this.ctx.arc(c.x, c.y, 5, 0, 2 * Math.PI);\n\n    this.ctx.fillStyle = \"black\";\n\n    this.ctx.fill();\n    this.ctx.restore();\n  }\n\n  drawOverLaps() {\n    // this.canvas.model.overlap.list.map((l) => {\n    //   if (l) {\n    //     let _p = this.canvas.model.getPipeByID(l.id);\n    //     if (_p && l.ioVector) {\n    //       this.drawOverLap(l.ioVector);\n    //     }\n    //   }\n    // });\n  }\n\n  draw() {\n    this.drawPipes();\n    this.drawOverLaps();\n\n    if (\n      this.canvas.model.actionObject &&\n      this.canvas.model.actionObject instanceof PipeGhostModel\n    ) {\n      this.drawGhost(this.canvas.model.actionObject);\n    }\n  }\n}\n\nexport default Pipe;\n","import CanvasModel from \"../models/canvas.model\";\n\nclass Stats {\n  model: CanvasModel;\n  container: HTMLElement | null;\n\n  constructor(model: CanvasModel) {\n    this.model = model;\n    this.container = document.querySelector(\"#stats\");\n    this.init();\n  }\n\n  init() {\n    this.initContainer();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div style=\"display: flex; flex-direction: column\">\n        <div>x - ${Math.round(this.model.offset.x)} \n        / y - ${Math.round(this.model.offset.y)}</div>\n        \n        <div>x - ${Math.round(this.model.mouse?.x ?? 0)} \n        / y - ${Math.round(this.model.mouse?.y ?? 0)}</div>\n        \n        <div>scale - ${this.model.scale.amount}</div>\n        <div>width - ${this.model.canvasSize?.x} / height - ${\n      this.model.canvasSize?.y\n    } / </div>\n        <div>ratio x ${this.model.mouseCanvasRatio?.x} / y ${\n      this.model.mouseCanvasRatio?.y\n    }</div>\n        <div>mode is ${this.model.actionMode}</div>\n      </div>\n      \n      </div>\n        <div>fitting size is ${this.model.fittings.length}</div>\n        <div>pipes size is ${this.model.pipes.length}</div>\n      </div>\n      </div>\n        <div>hovered object ${\n          this.model.getPipeByID(\n            this.model.overlap.list.length > 0 && this.model.overlap.list[0].id\n              ? this.model.overlap.list[0].id\n              : \"\"\n          )?.id\n        }</div>\n        <div>pipes size is ${this.model.pipes.length}</div>\n      </div>\n    `;\n  }\n\n  initContainer(): void {\n    if (!this.container) return;\n\n    this.container.style.height = \"450px\";\n    this.container.style.width = \"300px\";\n    this.container.style.border = \"1px solid black\";\n    this.container.style.marginLeft = \"10px\";\n  }\n}\n\nexport default Stats;\n","import CanvasModel from \"../models/canvas.model\";\nimport PipeModel from \"../models/heating/pipe.model\";\nimport CanvasView from \"./canvas.view\";\nimport ValveModel from \"../models/heating/valve.model\";\n\nclass Valve {\n  canvas: CanvasView;\n  ctx: CanvasRenderingContext2D;\n\n  constructor(\n    view: CanvasView,\n    model: CanvasModel,\n    ctx: CanvasRenderingContext2D\n  ) {\n    this.canvas = view;\n    this.ctx = ctx;\n  }\n\n  drawValves() {\n    this.canvas.model.valves.map((v) => {\n      this.drawValve(v);\n    });\n  }\n\n  drawValve(valve: ValveModel) {\n    this.ctx.save();\n    this.ctx.beginPath();\n\n    let c = this.canvas.getWorldCoordinates(valve.center.x, valve.center.y);\n\n    this.ctx.arc(c.x, c.y, valve.radius, 0, 2 * Math.PI);\n\n    this.ctx.fillStyle = valve.color;\n\n    this.ctx.fill();\n    this.ctx.restore();\n  }\n\n  draw() {\n    this.drawValves();\n  }\n}\n\nexport default Valve;\n","import { default as _2DController } from \"./2d\";\n\ndeclare global {\n  interface Window {\n    app: App;\n  }\n}\n\nclass App {\n  _2d: _2DController = new _2DController();\n\n  run() {\n    window.app = this;\n  }\n}\n\nexport default App;\n","import Line from \"../2d/models/geometry/line.model\";\n\nexport class Vector implements IVec {\n  x: number;\n  y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  distanceTo(v: IVec) {\n    let _v = new Vector(this.x - v.x, this.y - v.y);\n    return _v.length;\n  }\n\n  distanceToLine(l: Line): number {\n    let ret: number;\n    let lVec = l.to.vec.sub(l.from.vec);\n    let vec = this.sub(l.from.vec);\n    let angle = vec.angle(lVec);\n\n    if (vec.length === 0) console.warn(\"ops\");\n\n    let p = lVec.product(vec);\n    let p1 = vec.product(vec);\n\n    let param = -1;\n\n    if (p !== 0) param = p1 / p;\n\n    if (param < 0) {\n      ret = Math.round(vec.length);\n    } else if (param > 1) {\n      ret = Math.round(lVec.sub(vec).length);\n    } else {\n      ret = Math.round(Math.sin(angle) * vec.length);\n    }\n\n    return ret;\n  }\n\n  get length() {\n    return Math.sqrt(this.x ** 2 + this.y ** 2);\n  }\n\n  projection(b: IVec) {\n    return this.product(b) / Math.sqrt(this.x ** 2 + this.y ** 2);\n  }\n\n  sub(v: IVec): Vector {\n    return new Vector(this.x - v.x, this.y - v.y);\n  }\n\n  sum(v: IVec): Vector {\n    return new Vector(this.x + v.x, this.y + v.y);\n  }\n\n  angle(v: IVec) {\n    return Math.acos((this.x * v.x + this.y * v.y) / (this.length * v.length));\n  }\n\n  product(v: IVec): number {\n    return this.x * v.x + this.y * v.y;\n  }\n\n  normalize() {\n    return new Vector(this.x / this.length, this.y / this.length);\n  }\n\n  multiply(a: number) {\n    return new Vector(this.x * a, this.y * a);\n  }\n\n  clone() {\n    return new Vector(this.x, this.y);\n  }\n\n  bindNet(step: number) {\n    return new Vector(\n      Math.round(this.x / step) * step,\n      Math.round(this.y / step) * step\n    );\n  }\n}\n\nexport interface IVec extends ICoord {\n  length: number;\n  distanceTo: (v: IVec) => number;\n  sub: (v: IVec) => IVec;\n  sum: (v: IVec) => IVec;\n  distanceToLine: (l: Line) => number;\n  angle: (v: IVec) => number;\n  projection: (v: IVec) => number;\n  normalize: () => Vector;\n  multiply: (n: number) => IVec;\n  product: (v: IVec) => number;\n  clone: () => IVec;\n  bindNet: (step: number) => IVec;\n}\n\nexport interface ICoord {\n  x: number;\n  y: number;\n}\n","import App from './app';\n\nconst app = new App();\n\napp.run();","export const uuid = (): string => {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n\n// export const isImplementInterface = <T>(object: T): object is T {\n//   return ;\n// }\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvMmQvY29udHJvbGxlcnMvY2FudmFzLmNvbnRyb2xsZXIudHMiLCJhcHAvMmQvY29udHJvbGxlcnMvbW9kZS5jb250cm9sbGVyLnRzIiwiYXBwLzJkL2NvbnRyb2xsZXJzL3BpcGUuY29udHJvbGxlci50cyIsImFwcC8yZC9pbmRleC50cyIsImFwcC8yZC9tb2RlbHMvY2FudmFzLm1vZGVsLnRzIiwiYXBwLzJkL21vZGVscy9nZW9tZXRyeS9hcmMubW9kZWwudHMiLCJhcHAvMmQvbW9kZWxzL2dlb21ldHJ5L2xpbmUubW9kZWwudHMiLCJhcHAvMmQvbW9kZWxzL2dob3N0L2hlYXRpbmcvcGlwZS5tb2RlbC50cyIsImFwcC8yZC9tb2RlbHMvaGVhdGluZy9maXR0aW5nLm1vZGVsLnRzIiwiYXBwLzJkL21vZGVscy9oZWF0aW5nL3BpcGUubW9kZWwudHMiLCJhcHAvMmQvbW9kZWxzL21haW4ubW9kZWwudHMiLCJhcHAvMmQvb3ZlcmxhcC5tb2RlbC50cyIsImFwcC8yZC92aWV3cy9jYW52YXMudmlldy50cyIsImFwcC8yZC92aWV3cy9maXR0aW5nLnZpZXcudHMiLCJhcHAvMmQvdmlld3MvbW9kZS52aWV3LnRzIiwiYXBwLzJkL3ZpZXdzL3BpcGUudmlldy50cyIsImFwcC8yZC92aWV3cy9zdGF0cy52aWV3LnRzIiwiYXBwLzJkL3ZpZXdzL3ZhbHZlLnZpZXcudHMiLCJhcHAvYXBwLnRzIiwiYXBwL2dlb21ldHJ5L3ZlY3QudHMiLCJhcHAvbWFpbi50cyIsImFwcC91dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztBQ0FBLElBQUEsZ0JBQUEsZ0JBQUEsUUFBQSxzQkFBQSxDQUFBLENBQUE7QUFDQSxJQUFBLGlCQUFBLGdCQUFBLFFBQUEsd0JBQUEsQ0FBQSxDQUFBO0FBQ0EsSUFBQSxlQUFBLGdCQUFBLFFBQUEscUJBQUEsQ0FBQSxDQUFBO0FBQ0Es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ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgQ2FudmFzVmlldyBmcm9tIFwiLi4vdmlld3MvY2FudmFzLnZpZXdcIjtcbmltcG9ydCBDYW52YXNNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2NhbnZhcy5tb2RlbFwiO1xuaW1wb3J0IFN0YXRzVmlldyBmcm9tIFwiLi4vdmlld3Mvc3RhdHMudmlld1wiO1xuaW1wb3J0IHsgSVZlYywgVmVjdG9yIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBQaXBlQ29udHJvbGxlciBmcm9tIFwiLi9waXBlLmNvbnRyb2xsZXJcIjtcbmltcG9ydCBPdmVybGFwIGZyb20gXCIuLi9vdmVybGFwLm1vZGVsXCI7XG5cbmNsYXNzIENhbnZhcyB7XG4gIHZpZXc6IENhbnZhc1ZpZXc7XG4gIHN0YXRzOiBTdGF0c1ZpZXc7XG4gIG1vZGVsOiBDYW52YXNNb2RlbDtcbiAgcGlwZTogUGlwZUNvbnRyb2xsZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tb2RlbCA9IG5ldyBDYW52YXNNb2RlbCgpO1xuICAgIHRoaXMudmlldyA9IG5ldyBDYW52YXNWaWV3KHRoaXMubW9kZWwpO1xuICAgIHRoaXMuc3RhdHMgPSBuZXcgU3RhdHNWaWV3KHRoaXMubW9kZWwpO1xuXG4gICAgdGhpcy5waXBlID0gbmV3IFBpcGVDb250cm9sbGVyKHRoaXMubW9kZWwpO1xuXG4gICAgaWYgKHRoaXMudmlldy5jb250YWluZXIpIHtcbiAgICAgIHRoaXMudmlldy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZW1vdmVcIixcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICAgIHRoaXMudmlldy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWRvd25cIixcbiAgICAgICAgdGhpcy5tb3VzZURvd24uYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICAgIHRoaXMudmlldy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy52aWV3LmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5tb3VzZVdoZWVsLmJpbmQodGhpcykpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMua2V5VXAuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgbW91c2VXaGVlbChlOiBXaGVlbEV2ZW50KSB7XG4gICAgdGhpcy5zdGF0cy5yZW5kZXIoKTtcbiAgICB0aGlzLnZpZXcuZHJhdygpO1xuICB9XG5cbiAgbW91c2VEb3duKGU6IEV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbC5jbGlja2VkID0gdHJ1ZTtcblxuICAgIGlmICghdGhpcy5tb2RlbC5tb3VzZSkgcmV0dXJuO1xuXG4gICAgbGV0IF9tb3VzZSA9IG5ldyBWZWN0b3IodGhpcy5tb2RlbC5tb3VzZS54LCB0aGlzLm1vZGVsLm1vdXNlLnkpO1xuXG4gICAgaWYgKHRoaXMubW9kZWwuY29uZmlnLm5ldC5iaW5kKSB7XG4gICAgICBfbW91c2UueCA9XG4gICAgICAgIE1hdGgucm91bmQoX21vdXNlLnggLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcDtcbiAgICAgIF9tb3VzZS55ID1cbiAgICAgICAgTWF0aC5yb3VuZChfbW91c2UueSAvIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwKSAqXG4gICAgICAgIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5tb2RlbC5tb2RlKSB7XG4gICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ3YWxsXCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBpcGVcIjpcbiAgICAgICAgdGhpcy5waXBlLm1vdXNlRG93bihfbW91c2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2YWx2ZVwiOlxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRzLnJlbmRlcigpO1xuICAgIHRoaXMudmlldy5kcmF3KCk7XG4gIH1cblxuICBtb3VzZU1vdmUoZTogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5tb2RlbC5tb3VzZSkge1xuICAgICAgdGhpcy5tb2RlbC5tb3VzZSA9IHtcbiAgICAgICAgeDogZS5vZmZzZXRYLFxuICAgICAgICB5OiBlLm9mZnNldFksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vZGVsLm1vdXNlLnggPSBlLm9mZnNldFg7XG4gICAgICB0aGlzLm1vZGVsLm1vdXNlLnkgPSBlLm9mZnNldFk7XG4gICAgfVxuXG4gICAgbGV0IF9tb3VzZSA9IG5ldyBWZWN0b3IodGhpcy5tb2RlbC5tb3VzZS54LCB0aGlzLm1vZGVsLm1vdXNlLnkpO1xuXG4gICAgaWYgKHRoaXMubW9kZWwuY29uZmlnLm5ldC5iaW5kKSB7XG4gICAgICBfbW91c2UueCA9XG4gICAgICAgIE1hdGgucm91bmQoX21vdXNlLnggLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcDtcbiAgICAgIF9tb3VzZS55ID1cbiAgICAgICAgTWF0aC5yb3VuZChfbW91c2UueSAvIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwKSAqXG4gICAgICAgIHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5tb2RlbC5tb2RlKSB7XG4gICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ3YWxsXCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBpcGVcIjpcbiAgICAgICAgdGhpcy5waXBlLm1vdXNlTW92ZShfbW91c2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2YWx2ZVwiOlxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB0aGlzLm1vZGVsLm92ZXJsYXAudXBkYXRlKF9tb3VzZSk7XG5cbiAgICB0aGlzLnN0YXRzLnJlbmRlcigpO1xuICAgIHRoaXMudmlldy5kcmF3KCk7XG4gIH1cblxuICBtb3VzZVVwKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5tb2RlbC5jbGlja2VkID0gZmFsc2U7XG5cbiAgICBpZiAoIXRoaXMubW9kZWwubW91c2UpIHJldHVybjtcblxuICAgIGxldCBfbW91c2UgPSBuZXcgVmVjdG9yKHRoaXMubW9kZWwubW91c2UueCwgdGhpcy5tb2RlbC5tb3VzZS55KTtcblxuICAgIGlmICh0aGlzLm1vZGVsLmNvbmZpZy5uZXQuYmluZCkge1xuICAgICAgX21vdXNlLnggPVxuICAgICAgICBNYXRoLnJvdW5kKF9tb3VzZS54IC8gdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXApICpcbiAgICAgICAgdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXA7XG4gICAgICBfbW91c2UueSA9XG4gICAgICAgIE1hdGgucm91bmQoX21vdXNlLnkgLyB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCkgKlxuICAgICAgICB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMubW9kZWwubW9kZSkge1xuICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwid2FsbFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwaXBlXCI6XG4gICAgICAgIHRoaXMucGlwZS5tb3VzZVVwKF9tb3VzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInZhbHZlXCI6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGtleVVwKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMubW9kZWwuYWN0aW9uTW9kZSA9IG51bGw7IC8vIFRvZG86IGZ1dHVyZSByZXNldCBwbGFjZSBoZXJlO1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0ID0gbnVsbDtcblxuICAgIHRoaXMuc3RhdHMucmVuZGVyKCk7XG4gICAgdGhpcy52aWV3LmRyYXcoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7XG4iLCJpbXBvcnQgQ2FudmFzVmlldyBmcm9tIFwiLi4vdmlld3MvY2FudmFzLnZpZXdcIjtcbmltcG9ydCBDYW52YXNNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2NhbnZhcy5tb2RlbFwiO1xuaW1wb3J0IFN0YXRzVmlldyBmcm9tIFwiLi4vdmlld3Mvc3RhdHMudmlld1wiO1xuaW1wb3J0IE1vZGVWaWV3IGZyb20gXCIuLi92aWV3cy9tb2RlLnZpZXdcIjtcblxuY2xhc3MgTW9kZSB7XG4gIHZpZXc6IE1vZGVWaWV3O1xuICBtb2RlbDogQ2FudmFzTW9kZWw7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IENhbnZhc01vZGVsKSB7XG4gICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIHRoaXMudmlldyA9IG5ldyBNb2RlVmlldyh0aGlzLm1vZGVsKTtcblxuICAgIGlmICh0aGlzLnZpZXcuY29udGFpbmVyKSB7XG4gICAgICB0aGlzLnZpZXcuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZU1vZGUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudmlldy5zdWJDb250YWluZXIpIHtcbiAgICAgIHRoaXMudmlldy5zdWJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICB0aGlzLmhhbmRsZVN1Yk1vZGUuYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb2RlKGU6IEV2ZW50KSB7XG4gICAgbGV0IGNUID0gZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBsZXQgdmFsdWUgPSBjVC52YWx1ZTtcblxuICAgIGlmIChcbiAgICAgIHZhbHVlID09PSBcImRlZmF1bHRcIiB8fFxuICAgICAgdmFsdWUgPT09IFwid2FsbFwiIHx8XG4gICAgICB2YWx1ZSA9PT0gXCJwaXBlXCIgfHxcbiAgICAgIHZhbHVlID09PSBcInZhbHZlXCJcbiAgICApIHtcbiAgICAgIHRoaXMubW9kZWwubW9kZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVN1Yk1vZGUoZTogRXZlbnQpIHtcbiAgICBsZXQgY1QgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGxldCB2YWx1ZSA9IGNULnZhbHVlO1xuXG4gICAgaWYgKHZhbHVlID09PSBcInN1cHBseVwiIHx8IHZhbHVlID09PSBcInJldHVyblwiKSB7XG4gICAgICB0aGlzLm1vZGVsLnN1Yk1vZGUgPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZTtcbiIsImltcG9ydCBDYW52YXNNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2NhbnZhcy5tb2RlbFwiO1xuaW1wb3J0IHsgSVZlYywgVmVjdG9yIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBQaXBlR2hvc3RNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2dob3N0L2hlYXRpbmcvcGlwZS5tb2RlbFwiO1xuaW1wb3J0IFBpcGVNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2hlYXRpbmcvcGlwZS5tb2RlbFwiO1xuXG5jbGFzcyBQaXBlIHtcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBDYW52YXNNb2RlbCkge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgfVxuXG4gIG1vdXNlTW92ZShjb29yZDogSVZlYykge1xuICAgIGlmIChcbiAgICAgIHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0ICYmXG4gICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdCBpbnN0YW5jZW9mIFBpcGVHaG9zdE1vZGVsXG4gICAgKSB7XG4gICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdC50by52ZWMueCA9IGNvb3JkLng7XG4gICAgICB0aGlzLm1vZGVsLmFjdGlvbk9iamVjdC50by52ZWMueSA9IGNvb3JkLnk7XG4gICAgfVxuICB9XG5cbiAgbW91c2VEb3duKGNvb3JkOiBJVmVjKSB7XG4gICAgaWYgKCF0aGlzLm1vZGVsLmFjdGlvbk9iamVjdCkge1xuICAgICAgdGhpcy5tb2RlbC5hY3Rpb25Nb2RlID0gXCJwaXBlTGF5aW5nXCI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0IGluc3RhbmNlb2YgUGlwZUdob3N0TW9kZWwpIHtcbiAgICAgIGxldCBwaXBlID0gbmV3IFBpcGVNb2RlbChcbiAgICAgICAgdGhpcy5tb2RlbCxcbiAgICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3QuZnJvbS52ZWMuY2xvbmUoKSxcbiAgICAgICAgdGhpcy5tb2RlbC5hY3Rpb25PYmplY3QudG8udmVjLmNsb25lKClcbiAgICAgICk7XG4gICAgICBwaXBlLnR5cGUgPSB0aGlzLm1vZGVsLnN1Yk1vZGUgPz8gXCJzdXBwbHlcIjtcbiAgICAgIHRoaXMubW9kZWwuYWRkUGlwZShwaXBlKTtcblxuICAgICAgcGlwZS5tZXJnZSgpO1xuICAgIH1cblxuICAgIHRoaXMubW9kZWwuYWN0aW9uT2JqZWN0ID0gbmV3IFBpcGVHaG9zdE1vZGVsKGNvb3JkLmNsb25lKCksIGNvb3JkLmNsb25lKCkpO1xuICB9XG5cbiAgbW91c2VVcChjb29yZDogSVZlYykge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGlwZTtcbiIsImltcG9ydCBDYW52YXNDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJzL2NhbnZhcy5jb250cm9sbGVyXCI7XG5pbXBvcnQgTW9kZUNvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlcnMvbW9kZS5jb250cm9sbGVyXCI7XG5pbXBvcnQgU3RhdHNWaWV3IGZyb20gXCIuL3ZpZXdzL3N0YXRzLnZpZXdcIjtcblxuY2xhc3MgQ29udHJvbGxlciB7XG4gIGNhbnZhczogQ2FudmFzQ29udHJvbGxlciA9IG5ldyBDYW52YXNDb250cm9sbGVyKCk7XG5cbiAgbW9kZTogTW9kZUNvbnRyb2xsZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tb2RlID0gbmV3IE1vZGVDb250cm9sbGVyKHRoaXMuY2FudmFzLm1vZGVsKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xuIiwiaW1wb3J0IHsgSUNvb3JkLCBJVmVjLCBWZWN0b3IgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvdmVjdFwiO1xuaW1wb3J0IFdhbGwgZnJvbSBcIi4vYXJjaGl0ZWN0dXJlL3dhbGwubW9kZWxcIjtcbmltcG9ydCBQaXBlIGZyb20gXCIuL2hlYXRpbmcvcGlwZS5tb2RlbFwiO1xuaW1wb3J0IEdob3N0UGlwZSBmcm9tIFwiLi9naG9zdC9oZWF0aW5nL3BpcGUubW9kZWxcIjtcbmltcG9ydCBWYWx2ZSBmcm9tIFwiLi9oZWF0aW5nL3ZhbHZlLm1vZGVsXCI7XG5pbXBvcnQgT3ZlcmxhcCBmcm9tIFwiLi4vb3ZlcmxhcC5tb2RlbFwiO1xuaW1wb3J0IEZpdHRpbmcgZnJvbSBcIi4vaGVhdGluZy9maXR0aW5nLm1vZGVsXCI7XG5cbmNsYXNzIENhbnZhcyB7XG4gIHByaXZhdGUgX3dhbGxzOiBBcnJheTxXYWxsPiA9IFtdO1xuICBwcml2YXRlIF9waXBlczogQXJyYXk8UGlwZT4gPSBbXTtcbiAgcHJpdmF0ZSBfdmFsdmVzOiBBcnJheTxWYWx2ZT4gPSBbXTtcbiAgcHJpdmF0ZSBfZml0dGluZ3M6IEFycmF5PEZpdHRpbmc+ID0gW107XG4gIG92ZXJsYXA6IE92ZXJsYXA7XG5cbiAgbW9kZTogXCJkZWZhdWx0XCIgfCBcIndhbGxcIiB8IFwicGlwZVwiIHwgXCJ2YWx2ZVwiID0gXCJwaXBlXCI7XG4gIHN1Yk1vZGU6IFwic3VwcGx5XCIgfCBcInJldHVyblwiIHwgbnVsbCA9IG51bGw7XG4gIGFjdGlvbk1vZGU6IFwicGlwZUxheWluZ1wiIHwgXCJ3YWxsTGF5aW5nXCIgfCBudWxsID0gbnVsbDtcbiAgYWN0aW9uT2JqZWN0OiBXYWxsIHwgUGlwZSB8IG51bGwgfCBHaG9zdFBpcGUgPSBudWxsO1xuICBwbGFjaW5nT2JqZWN0OiBWYWx2ZSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub3ZlcmxhcCA9IG5ldyBPdmVybGFwKHRoaXMpO1xuXG4gICAgdGhpcy5waXBlcy5wdXNoKG5ldyBQaXBlKHRoaXMsIG5ldyBWZWN0b3IoNDAsIDEwMCksIG5ldyBWZWN0b3IoMzAwLCAxMDApKSk7XG4gICAgLy8gdGhpcy5waXBlcy5wdXNoKG5ldyBQaXBlKG5ldyBWZWN0b3IoNDAsIDIwMCksIG5ldyBWZWN0b3IoMTAwLCAyNjApKSk7XG4gICAgLy8gdGhpcy5waXBlcy5wdXNoKG5ldyBQaXBlKG5ldyBWZWN0b3IoNDAsIDM4MCksIG5ldyBWZWN0b3IoMTAwLCAzMjApKSk7XG4gIH1cblxuICBtb3VzZTogSUNvb3JkIHwgbnVsbCA9IG51bGw7XG4gIGNhbnZhc1NpemU6IElDb29yZCB8IG51bGwgPSBudWxsO1xuICBtb3VzZUNhbnZhc1JhdGlvOiBJQ29vcmQgfCBudWxsID0gbnVsbDtcbiAgc2NhbGU6IHtcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBjb29yZDogSUNvb3JkIHwgbnVsbDtcbiAgICBsaW1pdFJlYWNoZWQ6IGJvb2xlYW47XG4gIH0gPSB7XG4gICAgYW1vdW50OiAxLFxuICAgIGNvb3JkOiBudWxsLFxuICAgIGxpbWl0UmVhY2hlZDogZmFsc2UsXG4gIH07XG4gIGNsaWNrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAga2V5Ym9hcmQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBvZmZzZXQ6IElDb29yZCA9IHsgeDogMCwgeTogMCB9O1xuICBjb25maWc6IElDb25maWcgPSB7XG4gICAgYXhpczoge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICB9LFxuICAgIG5ldDoge1xuICAgICAgYmluZDogdHJ1ZSxcbiAgICAgIHNob3c6IHRydWUsXG4gICAgICBzdGVwOiAyMCxcbiAgICB9LFxuICAgIG92ZXJsYXA6IHtcbiAgICAgIGJpbmREaXN0YW5jZTogMTAsXG4gICAgfSxcbiAgfTtcblxuICBnZXQgd2FsbHMoKTogQXJyYXk8V2FsbD4ge1xuICAgIHJldHVybiB0aGlzLl93YWxscztcbiAgfVxuXG4gIHNldCB3YWxscyh2YWx1ZTogQXJyYXk8V2FsbD4pIHtcbiAgICB0aGlzLl93YWxscyA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHBpcGVzKCk6IEFycmF5PFBpcGU+IHtcbiAgICByZXR1cm4gdGhpcy5fcGlwZXM7XG4gIH1cblxuICBzZXQgcGlwZXModmFsdWU6IEFycmF5PFBpcGU+KSB7XG4gICAgdGhpcy5fcGlwZXMgPSB2YWx1ZTtcbiAgfVxuXG4gIGdldCB2YWx2ZXMoKTogQXJyYXk8VmFsdmU+IHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdmVzO1xuICB9XG5cbiAgc2V0IHZhbHZlcyh2YWx1ZTogQXJyYXk8VmFsdmU+KSB7XG4gICAgdGhpcy5fdmFsdmVzID0gdmFsdWU7XG4gIH1cblxuICBnZXQgZml0dGluZ3MoKTogQXJyYXk8Rml0dGluZz4ge1xuICAgIHJldHVybiB0aGlzLl9maXR0aW5ncztcbiAgfVxuXG4gIHNldCBmaXR0aW5ncyh2YWx1ZTogQXJyYXk8Rml0dGluZz4pIHtcbiAgICB0aGlzLl9maXR0aW5ncyA9IHZhbHVlO1xuICB9XG5cbiAgYWRkV2FsbCh3YWxsOiBXYWxsKSB7XG4gICAgdGhpcy53YWxscy5wdXNoKHdhbGwpO1xuICAgIHRoaXMud2FsbHMgPSB0aGlzLndhbGxzO1xuXG4gICAgcmV0dXJuIHdhbGw7XG4gIH1cblxuICBhZGRQaXBlKHBpcGU6IFBpcGUpIHtcbiAgICB0aGlzLnBpcGVzLnB1c2gocGlwZSk7XG4gICAgdGhpcy5waXBlcyA9IHRoaXMucGlwZXM7XG5cbiAgICByZXR1cm4gdGhpcy5waXBlc1t0aGlzLnBpcGVzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgYWRkRml0dGluZyhmaXR0aW5nOiBGaXR0aW5nKSB7XG4gICAgdGhpcy5maXR0aW5ncy5wdXNoKGZpdHRpbmcpO1xuICAgIHRoaXMuZml0dGluZ3MgPSB0aGlzLmZpdHRpbmdzO1xuXG4gICAgcmV0dXJuIHRoaXMuZml0dGluZ3NbdGhpcy5maXR0aW5ncy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIGdldFBpcGVCeUlEKGlkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5waXBlcy5maW5kKChwKSA9PiBwLmlkID09PSBpZCk7XG4gIH1cblxuICBkZWxldGVQaXBlKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLnBpcGVzID0gdGhpcy5waXBlcy5maWx0ZXIoKHApID0+IHAuaWQgIT09IGlkKTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgSUNvbmZpZyB7XG4gIGF4aXM6IHtcbiAgICBzaG93OiBib29sZWFuO1xuICB9O1xuICBuZXQ6IHtcbiAgICBiaW5kOiBib29sZWFuO1xuICAgIHNob3c6IGJvb2xlYW47XG4gICAgc3RlcDogMTUgfCAyMCB8IDUwO1xuICB9O1xuICBvdmVybGFwOiB7XG4gICAgYmluZERpc3RhbmNlOiAxMCB8IDIwO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7XG4iLCJpbXBvcnQgeyBJVmVjIH0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBNYWluIGZyb20gXCIuLi9tYWluLm1vZGVsXCI7XG5cbmNsYXNzIEFyYyBleHRlbmRzIE1haW4ge1xuICByYWRpdXM6IG51bWJlciA9IDU7XG4gIGNlbnRlcjogSVZlYztcblxuICBjb2xvcjogc3RyaW5nID0gXCIjZmZmXCI7XG4gIHdpZHRoOiBudW1iZXIgPSAxO1xuXG4gIGNvbnN0cnVjdG9yKGNlbnRlcjogSVZlYykge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcmM7XG4iLCJpbXBvcnQgeyBJVmVjIH0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBNYWluIGZyb20gXCIuLi9tYWluLm1vZGVsXCI7XG5cbmNsYXNzIExpbmU8VCA9IHsgdmVjOiBJVmVjIH0+IGV4dGVuZHMgTWFpbiB7XG4gIGZyb206IFQ7XG4gIHRvOiBUO1xuXG4gIHdpZHRoOiBudW1iZXIgPSAxO1xuXG4gIGNvbnN0cnVjdG9yKGZyb206IFQsIHRvOiBUKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy50byA9IHRvO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpbmU7XG4iLCJpbXBvcnQgTGluZSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvbGluZS5tb2RlbFwiO1xuaW1wb3J0IHsgSVZlYyB9IGZyb20gXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5cbmNsYXNzIFBpcGUgZXh0ZW5kcyBMaW5lPHsgdmVjOiBJVmVjIH0+IHtcbiAgY29uc3RydWN0b3IoZnJvbTogSVZlYywgdG86IElWZWMpIHtcbiAgICBzdXBlcih7IHZlYzogZnJvbSB9LCB7IHZlYzogdG8gfSk7XG4gIH1cblxuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIFwicGlua1wiO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBpcGU7XG4iLCJpbXBvcnQgeyBJVmVjIH0gZnJvbSBcIi4uLy4uLy4uL2dlb21ldHJ5L3ZlY3RcIjtcbmltcG9ydCBMaW5lIGZyb20gXCIuLi9nZW9tZXRyeS9saW5lLm1vZGVsXCI7XG5pbXBvcnQgQXJjIGZyb20gXCIuLi9nZW9tZXRyeS9hcmMubW9kZWxcIjtcbmltcG9ydCBQaXBlIGZyb20gXCIuL3BpcGUubW9kZWxcIjtcbmltcG9ydCBDYW52YXNNb2RlbCBmcm9tIFwiLi4vY2FudmFzLm1vZGVsXCI7XG5cbmNsYXNzIEZpdHRpbmcgZXh0ZW5kcyBBcmMge1xuICBwcml2YXRlIF9waXBlczogQXJyYXk8UGlwZT4gPSBbXTtcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBDYW52YXNNb2RlbCwgY2VudGVyOiBJVmVjKSB7XG4gICAgc3VwZXIoY2VudGVyKTtcblxuICAgIHRoaXMuY29sb3IgPSBcImJsYWNrXCI7XG4gICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICB9XG5cbiAgZ2V0IHBpcGVzKCk6IEFycmF5PFBpcGU+IHtcbiAgICByZXR1cm4gdGhpcy5fcGlwZXM7XG4gIH1cblxuICBzZXQgcGlwZXModmFsdWU6IEFycmF5PFBpcGU+KSB7XG4gICAgdGhpcy5fcGlwZXMgPSB2YWx1ZTtcbiAgfVxuXG4gIG5lZWRNZXJnZSh2OiBJVmVjKSB7XG4gICAgbGV0IGRpc3RhbmNlID0gdGhpcy5tb2RlbC5jb25maWcub3ZlcmxhcC5iaW5kRGlzdGFuY2U7XG5cbiAgICByZXR1cm4gdGhpcy5jZW50ZXIuc3ViKHYpLmxlbmd0aCA8PSBkaXN0YW5jZTtcbiAgfVxuXG4gIGFkZFBpcGUocGlwZTogUGlwZSkge1xuICAgIHRoaXMuX3BpcGVzLnB1c2gocGlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRml0dGluZztcbiIsImltcG9ydCB7IElWZWMsIFZlY3RvciB9IGZyb20gXCIuLi8uLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5pbXBvcnQgTGluZSBmcm9tIFwiLi4vZ2VvbWV0cnkvbGluZS5tb2RlbFwiO1xuaW1wb3J0IENhbnZhc01vZGVsIGZyb20gXCIuLi9jYW52YXMubW9kZWxcIjtcbmltcG9ydCBGaXR0aW5nIGZyb20gXCIuL2ZpdHRpbmcubW9kZWxcIjtcbmltcG9ydCBWYWx2ZSBmcm9tIFwiLi92YWx2ZS5tb2RlbFwiO1xuXG5pbnRlcmZhY2UgSVBpcGVFbmQge1xuICB0YXJnZXQ6IG51bGwgfCBGaXR0aW5nIHwgVmFsdmU7XG4gIHZlYzogSVZlYztcbn1cblxuY2xhc3MgUGlwZSBleHRlbmRzIExpbmU8SVBpcGVFbmQ+IHtcbiAgdHlwZTogXCJzdXBwbHlcIiB8IFwicmV0dXJuXCIgPSBcInN1cHBseVwiO1xuICBtb2RlbDogQ2FudmFzTW9kZWw7XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IENhbnZhc01vZGVsLCBmcm9tOiBJVmVjLCB0bzogSVZlYykge1xuICAgIHN1cGVyKHsgdGFyZ2V0OiBudWxsLCB2ZWM6IGZyb20gfSwgeyB0YXJnZXQ6IG51bGwsIHZlYzogdG8gfSk7XG5cbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gIH1cblxuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gXCJzdXBwbHlcIiA/IFwicmVkXCIgOiBcImJsdWVcIjtcbiAgfVxuXG4gIHRvT3JpZ2luKCk6IElWZWMge1xuICAgIHJldHVybiB0aGlzLnRvLnZlYy5zdWIodGhpcy5mcm9tLnZlYyk7XG4gIH1cblxuICBtZXJnZSgpIHtcbiAgICBsZXQgbWVyZ2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLm1vZGVsLmZpdHRpbmdzLm1hcCgoZml0dGluZykgPT4ge1xuICAgICAgaWYgKGZpdHRpbmcubmVlZE1lcmdlKHRoaXMuZnJvbS52ZWMpIHx8IGZpdHRpbmcubmVlZE1lcmdlKHRoaXMudG8udmVjKSkge1xuICAgICAgICBtZXJnZWQgPSB0aGlzLm1lcmdlRml0dGluZyhmaXR0aW5nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMubW9kZWwucGlwZXMubWFwKChwaXBlKSA9PiB7XG4gICAgICBpZiAodGhpcy5pZCA9PT0gcGlwZS5pZCkgcmV0dXJuO1xuXG4gICAgICBpZiAocGlwZS5pc0Nsb3NlKHRoaXMuZnJvbS52ZWMpIHx8IHBpcGUuaXNDbG9zZSh0aGlzLnRvLnZlYykpIHtcbiAgICAgICAgbWVyZ2VkID0gdGhpcy5tZXJnZVBpcGUocGlwZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBtZXJnZVBpcGUocGlwZTogUGlwZSk6IGJvb2xlYW4ge1xuICAgIGxldCBkaXN0YW5jZSA9IHRoaXMubW9kZWwuY29uZmlnLm92ZXJsYXAuYmluZERpc3RhbmNlO1xuICAgIGxldCBtZXJnZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHJ1biA9IChlbmQ6IElQaXBlRW5kKSA9PiB7XG4gICAgICBpZiAodGhpcy5pZCA9PT0gcGlwZS5pZCkgcmV0dXJuO1xuXG4gICAgICBpZiAocGlwZS5pc0Nsb3NlKGVuZC52ZWMpKSB7XG4gICAgICAgIGxldCBtZXJnZVBvaW50O1xuXG4gICAgICAgIGlmIChwaXBlLmZyb20udmVjLnN1YihlbmQudmVjKS5sZW5ndGggPD0gZGlzdGFuY2UpIHtcbiAgICAgICAgICBpZiAocGlwZS5mcm9tLnRhcmdldCkgcmV0dXJuO1xuXG4gICAgICAgICAgbWVyZ2VQb2ludCA9IHBpcGUuZnJvbS52ZWMuY2xvbmUoKTtcblxuICAgICAgICAgIGxldCBuZXdGaXR0aW5nID0gbmV3IEZpdHRpbmcodGhpcy5tb2RlbCwgbWVyZ2VQb2ludCk7XG4gICAgICAgICAgdGhpcy5tb2RlbC5hZGRGaXR0aW5nKG5ld0ZpdHRpbmcpO1xuXG4gICAgICAgICAgcGlwZS5mcm9tLnRhcmdldCA9IG5ld0ZpdHRpbmc7XG4gICAgICAgICAgZW5kLnRhcmdldCA9IG5ld0ZpdHRpbmc7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAocGlwZS50by52ZWMuc3ViKGVuZC52ZWMpLmxlbmd0aCA8PSBkaXN0YW5jZSkge1xuICAgICAgICAgIGlmIChwaXBlLnRvLnRhcmdldCkgcmV0dXJuO1xuXG4gICAgICAgICAgbWVyZ2VQb2ludCA9IHBpcGUudG8udmVjLmNsb25lKCk7XG5cbiAgICAgICAgICBsZXQgbmV3Rml0dGluZyA9IG5ldyBGaXR0aW5nKHRoaXMubW9kZWwsIG1lcmdlUG9pbnQpO1xuICAgICAgICAgIHRoaXMubW9kZWwuYWRkRml0dGluZyhuZXdGaXR0aW5nKTtcblxuICAgICAgICAgIHBpcGUudG8udGFyZ2V0ID0gbmV3Rml0dGluZztcbiAgICAgICAgICBlbmQudGFyZ2V0ID0gbmV3Rml0dGluZztcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBub3JtUGlwZSA9IHBpcGUudG9PcmlnaW4oKS5ub3JtYWxpemUoKTtcbiAgICAgICAgbGV0IHByb2pQaXBlID0gcGlwZS50b09yaWdpbigpLnByb2plY3Rpb24oZW5kLnZlYy5zdWIocGlwZS5mcm9tLnZlYykpO1xuXG4gICAgICAgIG1lcmdlUG9pbnQgPSBub3JtUGlwZS5tdWx0aXBseShwcm9qUGlwZSkuc3VtKHBpcGUuZnJvbS52ZWMpO1xuICAgICAgICBtZXJnZVBvaW50ID0gbWVyZ2VQb2ludC5iaW5kTmV0KHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwKTtcblxuICAgICAgICBsZXQgbmV3UDEgPSBuZXcgUGlwZShcbiAgICAgICAgICB0aGlzLm1vZGVsLFxuICAgICAgICAgIG5ldyBWZWN0b3IoMCwgMCkuc3VtKHBpcGUuZnJvbS52ZWMpLFxuICAgICAgICAgIG5ldyBWZWN0b3IobWVyZ2VQb2ludC54LCBtZXJnZVBvaW50LnkpXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IG5ld1AyID0gbmV3IFBpcGUoXG4gICAgICAgICAgdGhpcy5tb2RlbCxcbiAgICAgICAgICBuZXcgVmVjdG9yKG1lcmdlUG9pbnQueCwgbWVyZ2VQb2ludC55KSxcbiAgICAgICAgICBuZXcgVmVjdG9yKHBpcGUudG8udmVjLngsIHBpcGUudG8udmVjLnkpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gZW5kID0gbWVyZ2VQb2ludC5jbG9uZSgpO1xuICAgICAgICB0aGlzLm1vZGVsLmFkZFBpcGUobmV3UDEpO1xuICAgICAgICB0aGlzLm1vZGVsLmFkZFBpcGUobmV3UDIpO1xuICAgICAgICBwaXBlLmRlbGV0ZSgpO1xuXG4gICAgICAgIGxldCBuZXdGaXR0aW5nID0gbmV3IEZpdHRpbmcodGhpcy5tb2RlbCwgbWVyZ2VQb2ludCk7XG4gICAgICAgIHRoaXMubW9kZWwuYWRkRml0dGluZyhuZXdGaXR0aW5nKTtcblxuICAgICAgICBuZXdQMS5mcm9tLnRhcmdldCA9IHBpcGUuZnJvbS50YXJnZXQ7XG4gICAgICAgIG5ld1AxLnRvLnRhcmdldCA9IG5ld0ZpdHRpbmc7XG4gICAgICAgIG5ld1AyLmZyb20udGFyZ2V0ID0gbmV3Rml0dGluZztcbiAgICAgICAgbmV3UDIudG8udGFyZ2V0ID0gcGlwZS50by50YXJnZXQ7XG5cbiAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcnVuKHRoaXMuZnJvbSk7XG4gICAgcnVuKHRoaXMudG8pO1xuICAgIGNvbnNvbGUubG9nKFwiZnJvbVwiLCB0aGlzLmZyb20pO1xuICAgIGNvbnNvbGUubG9nKFwidG9cIiwgdGhpcy50byk7XG5cbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9XG5cbiAgbWVyZ2VGaXR0aW5nKGZpdHRpbmc6IEZpdHRpbmcpOiBib29sZWFuIHtcbiAgICBsZXQgbWVyZ2VkID0gZmFsc2U7XG5cbiAgICBsZXQgaXNGcm9tID0gZml0dGluZy5uZWVkTWVyZ2UodGhpcy5mcm9tLnZlYyk7XG4gICAgbGV0IGlzVG8gPSBmaXR0aW5nLm5lZWRNZXJnZSh0aGlzLnRvLnZlYyk7XG5cbiAgICBpZiAoaXNGcm9tIHx8IGlzVG8pIHtcbiAgICAgIGZpdHRpbmcucGlwZXMucHVzaCh0aGlzKTtcbiAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGlzRnJvbSkge1xuICAgICAgdGhpcy5mcm9tLnRhcmdldCA9IGZpdHRpbmc7XG4gICAgfSBlbHNlIGlmIChpc1RvKSB0aGlzLnRvLnRhcmdldCA9IGZpdHRpbmc7XG5cbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9XG5cbiAgaXNDbG9zZShlbmQ6IElWZWMpIHtcbiAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLm1vZGVsLmNvbmZpZy5vdmVybGFwLmJpbmREaXN0YW5jZTtcblxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmZyb20udmVjLnN1YihlbmQpLmxlbmd0aCA8PSBkaXN0YW5jZSB8fFxuICAgICAgdGhpcy50by52ZWMuc3ViKGVuZCkubGVuZ3RoIDw9IGRpc3RhbmNlIHx8XG4gICAgICBlbmQuZGlzdGFuY2VUb0xpbmUodGhpcykgPD0gZGlzdGFuY2VcbiAgICApO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIHRoaXMubW9kZWwucGlwZXMgPSB0aGlzLm1vZGVsLnBpcGVzLmZpbHRlcigoX3ApID0+IF9wLmlkICE9PSB0aGlzLmlkKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQaXBlO1xuIiwiaW1wb3J0IHsgdXVpZCB9IGZyb20gXCIuLi8uLi91dGlsc1wiO1xuXG5jbGFzcyBNYWluIHtcbiAgaWQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmlkID0gdXVpZCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1haW47XG4iLCJpbXBvcnQgV2FsbCBmcm9tIFwiLi9tb2RlbHMvYXJjaGl0ZWN0dXJlL3dhbGwubW9kZWxcIjtcbmltcG9ydCBQaXBlIGZyb20gXCIuL21vZGVscy9oZWF0aW5nL3BpcGUubW9kZWxcIjtcbmltcG9ydCBWYWx2ZSBmcm9tIFwiLi9tb2RlbHMvaGVhdGluZy92YWx2ZS5tb2RlbFwiO1xuaW1wb3J0IENhbnZhc01vZGVsIGZyb20gXCIuL21vZGVscy9jYW52YXMubW9kZWxcIjtcbmltcG9ydCB7IElWZWMsIFZlY3RvciB9IGZyb20gXCIuLi9nZW9tZXRyeS92ZWN0XCI7XG5cbmNsYXNzIE92ZXJsYXAge1xuICByZWFkb25seSBtb2RlbDogQ2FudmFzTW9kZWw7XG5cbiAgbW91c2U6IElWZWMgfCBudWxsID0gbnVsbDtcbiAgbmV0Qm91bmRNb3VzZTogSVZlYyB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgd2FsbHM6IEFycmF5PElPdmVybGFwPiA9IFtdO1xuICBwcml2YXRlIHBpcGVzOiBBcnJheTxJT3ZlcmxhcD4gPSBbXTtcbiAgcHJpdmF0ZSB2YWx2ZXM6IEFycmF5PElPdmVybGFwVmFsdmU+ID0gW107XG5cbiAgbGlzdDogQXJyYXk8SU92ZXJsYXA+ID0gW107XG4gIG5ldEJvdW5kTGlzdDogQXJyYXk8SU92ZXJsYXA+ID0gW107XG5cbiAgY29uc3RydWN0b3IobW9kZWw6IENhbnZhc01vZGVsKSB7XG4gICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICB9XG5cbiAgdXBkYXRlKG1vdXNlOiBJVmVjKSB7XG4gICAgdGhpcy5tb3VzZSA9IG1vdXNlO1xuXG4gICAgdGhpcy53YWxsc092ZXJsYXAoKTtcbiAgICB0aGlzLnBpcGVPdmVybGFwKCk7XG4gICAgdGhpcy51cGRhdGVMaXN0KCk7XG4gICAgLy8gdGhpcy51cGRhdGVOZXRCb3VuZExpc3QoKTtcbiAgfVxuXG4gIHdhbGxzT3ZlcmxhcCgpIHtcbiAgICB0aGlzLm1vZGVsLndhbGxzLm1hcCgoKSA9PiB7fSk7XG4gIH1cblxuICBwaXBlT3ZlcmxhcCgpIHtcbiAgICB0aGlzLnBpcGVzID0gW107XG5cbiAgICBsZXQgYmluZCA9IHRoaXMubW9kZWwuY29uZmlnLm92ZXJsYXAuYmluZERpc3RhbmNlO1xuXG4gICAgdGhpcy5tb2RlbC5waXBlcy5tYXAoKHBpcGUpID0+IHtcbiAgICAgIGlmICghdGhpcy5tb3VzZSkgcmV0dXJuO1xuXG4gICAgICBsZXQgX3A6IElPdmVybGFwIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgIGlmIChwaXBlLmZyb20udmVjLnN1Yih0aGlzLm1vdXNlKS5sZW5ndGggPD0gYmluZCkge1xuICAgICAgICBfcCA9IHtcbiAgICAgICAgICB0eXBlOiBcInBpcGVcIixcbiAgICAgICAgICBpZDogcGlwZS5pZCxcbiAgICAgICAgICBpb1ZlY3RvcjogbmV3IFZlY3RvcihwaXBlLmZyb20udmVjLngsIHBpcGUuZnJvbS52ZWMueSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmICghX3AgJiYgcGlwZS50by52ZWMuc3ViKHRoaXMubW91c2UpLmxlbmd0aCA8PSBiaW5kKSB7XG4gICAgICAgIF9wID0ge1xuICAgICAgICAgIHR5cGU6IFwicGlwZVwiLFxuICAgICAgICAgIGlkOiBwaXBlLmlkLFxuICAgICAgICAgIGlvVmVjdG9yOiBuZXcgVmVjdG9yKHBpcGUudG8udmVjLngsIHBpcGUudG8udmVjLnkpLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoIV9wKSB7XG4gICAgICAgIGxldCBsID0gdGhpcy5tb3VzZS5kaXN0YW5jZVRvTGluZShwaXBlKTtcblxuICAgICAgICBpZiAobCA8PSBiaW5kKSB7XG4gICAgICAgICAgbGV0IG5vcm1QaXBlID0gcGlwZS50b09yaWdpbigpLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgIGxldCBwcm9qUGlwZSA9IHBpcGVcbiAgICAgICAgICAgIC50b09yaWdpbigpXG4gICAgICAgICAgICAucHJvamVjdGlvbih0aGlzLm1vdXNlLnN1YihwaXBlLmZyb20udmVjKSk7XG5cbiAgICAgICAgICBfcCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwicGlwZVwiLFxuICAgICAgICAgICAgaWQ6IHBpcGUuaWQsXG4gICAgICAgICAgICBpb1ZlY3Rvcjogbm9ybVBpcGUubXVsdGlwbHkocHJvalBpcGUpLnN1bShwaXBlLmZyb20udmVjKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChfcCkgdGhpcy5waXBlcy5wdXNoKF9wKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUxpc3QoKSB7XG4gICAgdGhpcy5saXN0ID0gW107XG5cbiAgICB0aGlzLmxpc3QucHVzaCguLi50aGlzLnBpcGVzKTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgSU92ZXJsYXAge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBcIndhbGxcIiB8IFwicGlwZVwiIHwgXCJ2YWx2ZVwiO1xuICBpb1ZlY3Rvcj86IElWZWM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU92ZXJsYXBWYWx2ZSBleHRlbmRzIElPdmVybGFwIHt9XG5cbmV4cG9ydCBkZWZhdWx0IE92ZXJsYXA7XG4iLCJpbXBvcnQgeyBJVmVjLCBWZWN0b3IgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvdmVjdFwiO1xuaW1wb3J0IENhbnZhc01vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FudmFzLm1vZGVsXCI7XG5pbXBvcnQgVmFsdmUgZnJvbSBcIi4uL21vZGVscy9oZWF0aW5nL3ZhbHZlLm1vZGVsXCI7XG5pbXBvcnQgTGluZSBmcm9tIFwiLi4vbW9kZWxzL2dlb21ldHJ5L2xpbmUubW9kZWxcIjtcbmltcG9ydCBQaXBlIGZyb20gXCIuLi9tb2RlbHMvaGVhdGluZy9waXBlLm1vZGVsXCI7XG5pbXBvcnQgUGlwZVZpZXcgZnJvbSBcIi4vcGlwZS52aWV3XCI7XG5pbXBvcnQgVmFsdmVWaWV3IGZyb20gXCIuL3ZhbHZlLnZpZXdcIjtcbmltcG9ydCBGaXR0aW5nVmlldyBmcm9tIFwiLi9maXR0aW5nLnZpZXdcIjtcblxuY2xhc3MgQ2FudmFzIHtcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuICBjb250YWluZXI6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgcGlwZTogUGlwZVZpZXcgfCBudWxsID0gbnVsbDtcbiAgdmFsdmU6IFZhbHZlVmlldyB8IG51bGwgPSBudWxsO1xuICBmaXR0aW5nOiBGaXR0aW5nVmlldyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBDYW52YXNNb2RlbCkge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdG9yXCIpO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuaW5pdENhbnZhc0NvbnRhaW5lcigpO1xuXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXI/LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmIChjdHgpIHtcbiAgICAgIHRoaXMucGlwZSA9IG5ldyBQaXBlVmlldyh0aGlzLCB0aGlzLm1vZGVsLCBjdHgpO1xuICAgICAgdGhpcy52YWx2ZSA9IG5ldyBWYWx2ZVZpZXcodGhpcywgdGhpcy5tb2RlbCwgY3R4KTtcbiAgICAgIHRoaXMuZml0dGluZyA9IG5ldyBGaXR0aW5nVmlldyh0aGlzLCB0aGlzLm1vZGVsLCBjdHgpO1xuICAgIH1cbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHRoaXMuZHJhd05ldCgpO1xuICAgIHRoaXMuZHJhd1dhbGxzKCk7XG5cbiAgICB0aGlzLnBpcGU/LmRyYXcoKTtcbiAgICB0aGlzLnZhbHZlPy5kcmF3KCk7XG4gICAgdGhpcy5maXR0aW5nPy5kcmF3KCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lcj8uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHggfHwgIXRoaXMubW9kZWwubW91c2UgfHwgIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG5cbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY29udGFpbmVyLndpZHRoLCB0aGlzLmNvbnRhaW5lci5oZWlnaHQpO1xuICB9XG5cbiAgZHJhd01vdXNlKCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGFpbmVyPy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBpZiAoIWN0eCB8fCAhdGhpcy5tb2RlbC5tb3VzZSkgcmV0dXJuO1xuXG4gICAgY3R4LnNhdmUoKTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xuICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgIGN0eC5hcmModGhpcy5tb2RlbC5tb3VzZS54LCB0aGlzLm1vZGVsLm1vdXNlLnksIDEsIDAsIDIgKiBNYXRoLlBJKTtcblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBkcmF3TmV0KCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGFpbmVyPy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBpZiAoIWN0eCB8fCAhdGhpcy5tb2RlbC5tb3VzZSB8fCAhdGhpcy5jb250YWluZXIpIHJldHVybjtcbiAgICBpZiAoIXRoaXMubW9kZWwuY29uZmlnLm5ldC5zaG93KSByZXR1cm47XG5cbiAgICBjdHguc2F2ZSgpO1xuXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuXG4gICAgbGV0IHN0ZXAgPSB0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc3RlcCAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50O1xuICAgIGxldCBoID0gdGhpcy5jb250YWluZXIuaGVpZ2h0O1xuICAgIGxldCB3ID0gdGhpcy5jb250YWluZXIud2lkdGg7XG4gICAgbGV0IG5ldE9mZnNldDogSVZlYyA9IG5ldyBWZWN0b3IoXG4gICAgICB0aGlzLm1vZGVsLm9mZnNldC54ICUgc3RlcCxcbiAgICAgIHRoaXMubW9kZWwub2Zmc2V0LnkgJSBzdGVwXG4gICAgKTtcblxuICAgIC8veFxuICAgIGxldCBpViA9IDA7XG4gICAgbGV0IG1heFYgPSB3IC8gc3RlcDtcbiAgICB3aGlsZSAoaVYgPD0gbWF4Vikge1xuICAgICAgbGV0IGZyb206IElWZWMgPSBuZXcgVmVjdG9yKHN0ZXAgKiBpViArIG5ldE9mZnNldC54LCAwKTtcbiAgICAgIGxldCB0bzogSVZlYyA9IG5ldyBWZWN0b3Ioc3RlcCAqIGlWICsgbmV0T2Zmc2V0LngsIGgpO1xuXG4gICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG4gICAgICBpVisrO1xuICAgIH1cblxuICAgIC8veVxuICAgIGxldCBpSCA9IDA7XG4gICAgbGV0IG1heEggPSBoIC8gc3RlcDtcbiAgICB3aGlsZSAoaUggPD0gbWF4SCkge1xuICAgICAgbGV0IGZyb206IElWZWMgPSBuZXcgVmVjdG9yKDAsIHN0ZXAgKiBpSCArIG5ldE9mZnNldC55KTtcbiAgICAgIGxldCB0bzogSVZlYyA9IG5ldyBWZWN0b3Iodywgc3RlcCAqIGlIICsgbmV0T2Zmc2V0LnkpO1xuXG4gICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG5cbiAgICAgIGlIKys7XG4gICAgfVxuXG4gICAgY3R4Lmdsb2JhbEFscGhhID0gMC4yO1xuXG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBkcmF3TmV0MSgpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmNvbnRhaW5lcj8uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaWYgKCFjdHggfHwgIXRoaXMubW9kZWwubW91c2UgfHwgIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLm1vZGVsLmNvbmZpZy5uZXQuc2hvdykgcmV0dXJuO1xuXG4gICAgY3R4LnNhdmUoKTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubGluZVdpZHRoID0gMTtcblxuICAgIC8vIGxldCBzdGVwID0gdGhpcy5tb2RlbC5jb25maWcubmV0LnN0ZXAgKiB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudDtcbiAgICBsZXQgc3RlcCA9IHRoaXMubW9kZWwuY29uZmlnLm5ldC5zdGVwO1xuICAgIGxldCBoID0gdGhpcy5jb250YWluZXIuaGVpZ2h0O1xuICAgIGxldCB3ID0gdGhpcy5jb250YWluZXIud2lkdGg7XG5cbiAgICAvL3hcbiAgICBsZXQgaVYgPSAwO1xuICAgIGxldCBtYXhWID0gdyAvIHN0ZXA7XG4gICAgd2hpbGUgKGlWIDw9IG1heFYpIHtcbiAgICAgIGxldCBmcm9tOiBJVmVjID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHN0ZXAgKiBpViwgMCk7XG4gICAgICBsZXQgdG86IElWZWMgPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoc3RlcCAqIGlWLCBoKTtcblxuICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpO1xuICAgICAgaVYrKztcbiAgICB9XG5cbiAgICAvL3lcbiAgICBsZXQgaUggPSAwO1xuICAgIGxldCBtYXhIID0gaCAvIHN0ZXA7XG4gICAgd2hpbGUgKGlIIDw9IG1heEgpIHtcbiAgICAgIGxldCBmcm9tOiBJVmVjID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKDAsIHN0ZXAgKiBpSCk7XG4gICAgICBsZXQgdG86IElWZWMgPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXModywgc3RlcCAqIGlIKTtcblxuICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICBjdHgubGluZVRvKHRvLngsIHRvLnkpO1xuXG4gICAgICBpSCsrO1xuICAgIH1cblxuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhd0F4aXMoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jb250YWluZXI/LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmICghY3R4IHx8ICF0aGlzLm1vZGVsLm1vdXNlIHx8ICF0aGlzLmNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGlmICghdGhpcy5tb2RlbC5jb25maWcuYXhpcy5zaG93KSByZXR1cm47XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgIGxldCBoID0gdGhpcy5jb250YWluZXIuaGVpZ2h0O1xuICAgIGxldCB3ID0gdGhpcy5jb250YWluZXIud2lkdGg7XG5cbiAgICBsZXQgeF9Gcm9tID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKDAsIDApO1xuICAgIGxldCB4X1RvID0gdGhpcy5nZXRXb3JsZENvb3JkaW5hdGVzKHcsIDApO1xuICAgIGxldCB5X0Zyb20gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoMCwgMCk7XG4gICAgbGV0IHlfVG8gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMoMCwgaCk7XG5cbiAgICBjdHgubW92ZVRvKDAsIHhfRnJvbS55KTtcbiAgICBjdHgubGluZVRvKHcsIHhfVG8ueSk7XG5cbiAgICBjdHgubW92ZVRvKHlfRnJvbS54LCAwKTtcbiAgICBjdHgubGluZVRvKHlfVG8ueCwgaCk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcblxuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhd1dhbGxzKCkge1xuICAgIGxldCB3YWxscyA9IHRoaXMubW9kZWwud2FsbHM7XG5cbiAgICB3YWxscz8ubWFwKCh3YWxsKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY29udGFpbmVyLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgaWYgKCFjdHgpIHJldHVybjtcblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgbGV0IGZyb20gPSB0aGlzLmdldFdvcmxkQ29vcmRpbmF0ZXMod2FsbC5mcm9tLngsIHdhbGwuZnJvbS55KTtcbiAgICAgIGxldCB0byA9IHRoaXMuZ2V0V29ybGRDb29yZGluYXRlcyh3YWxsLmZyb20ueCwgd2FsbC5mcm9tLnkpO1xuXG4gICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgIGN0eC5saW5lVG8odG8ueCwgdG8ueSk7XG5cbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHdhbGwuY29sb3I7XG4gICAgICBjdHgubGluZVdpZHRoID0gd2FsbC53aWR0aDtcblxuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vVE9ETzogYXBwbHkgc2NhbGUgdHJhbnNmb3JtYXRpb24gaGVyZVxuICBnZXRXb3JsZENvb3JkaW5hdGVzKHg6IG51bWJlciwgeTogbnVtYmVyKTogSVZlYyB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGxldCBzY2FsZSA9IGZ1bmN0aW9uICh2ZWM6IElWZWMpOiBWZWN0b3Ige1xuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXG4gICAgICAgIHZlYy54ICogX3RoaXMubW9kZWwuc2NhbGUuYW1vdW50LFxuICAgICAgICB2ZWMueSAqIF90aGlzLm1vZGVsLnNjYWxlLmFtb3VudFxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgbGV0IHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh2ZWM6IElWZWMpOiBWZWN0b3Ige1xuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXG4gICAgICAgIHZlYy54ICsgX3RoaXMubW9kZWwub2Zmc2V0LngsXG4gICAgICAgIHZlYy55ICsgX3RoaXMubW9kZWwub2Zmc2V0LnlcbiAgICAgICk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgbGV0IHQgPSBuZXcgVmVjdG9yKHgsIHkpO1xuICAgIHQgPSBzY2FsZSh0KTtcbiAgICAvLyB0ID0gcm90YXRpb24odCk7IFRPRE8gb3JkZXIgaXMgc2NhbGluZyByb3RhdGlvbiB0cmFuc2xhdGlvblxuICAgIHQgPSB0cmFuc2xhdGUodCk7XG5cbiAgICByZXR1cm4gdDtcbiAgfVxuXG4gIC8veDogKHggKyB0aGlzLm1vZGVsLm9mZnNldC54KSAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50ICogdGhpcy5tb2RlbC5zY2FsZS5jb29yZC54LFxuICAvLyAgICAgICB5OiAoeSArIHRoaXMubW9kZWwub2Zmc2V0LnkpICAqIHRoaXMubW9kZWwuc2NhbGUuYW1vdW50LFxuICAvLyBnZXRMb2NhbENvb3JkaW5hdGVzKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gIC8vICAgcmV0dXJuIHtcbiAgLy8gICAgIHg6ICh4ICsgdGhpcy5tb2RlbC5vZmZzZXQueCkgKiB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudCAqIHRoaXMubW9kZWwuc2NhbGUuY29vcmQgLFxuICAvLyAgICAgeTogKHkgKyB0aGlzLm1vZGVsLm9mZnNldC55KSAgKiB0aGlzLm1vZGVsLnNjYWxlLmFtb3VudCxcbiAgLy8gICB9O1xuICAvLyB9XG5cbiAgaW5pdENhbnZhc0NvbnRhaW5lcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG5cbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjYwMHB4XCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBcIjkwMHB4XCI7XG4gICAgdGhpcy5jb250YWluZXIuaGVpZ2h0ID0gNjAwO1xuICAgIHRoaXMuY29udGFpbmVyLndpZHRoID0gOTAwO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7XG5cbiAgICB0aGlzLm1vZGVsLmNhbnZhc1NpemUgPSB7XG4gICAgICB5OiA2MDAsXG4gICAgICB4OiA5MDAsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7XG4iLCJpbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcbmltcG9ydCBQaXBlTW9kZWwgZnJvbSBcIi4uL21vZGVscy9oZWF0aW5nL3BpcGUubW9kZWxcIjtcbmltcG9ydCBDYW52YXNWaWV3IGZyb20gXCIuL2NhbnZhcy52aWV3XCI7XG5pbXBvcnQgVmFsdmVNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2hlYXRpbmcvdmFsdmUubW9kZWxcIjtcbmltcG9ydCBGaXR0aW5nTW9kZWwgZnJvbSBcIi4uL21vZGVscy9oZWF0aW5nL2ZpdHRpbmcubW9kZWxcIjtcblxuY2xhc3MgRml0dGluZyB7XG4gIGNhbnZhczogQ2FudmFzVmlldztcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmlldzogQ2FudmFzVmlldyxcbiAgICBtb2RlbDogQ2FudmFzTW9kZWwsXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcbiAgKSB7XG4gICAgdGhpcy5jYW52YXMgPSB2aWV3O1xuICAgIHRoaXMuY3R4ID0gY3R4O1xuICB9XG5cbiAgZHJhd0ZpdHRpbmdzKCkge1xuICAgIHRoaXMuY2FudmFzLm1vZGVsLmZpdHRpbmdzLm1hcCgoZml0dGluZykgPT4ge1xuICAgICAgdGhpcy5kcmF3Rml0dGluZyhmaXR0aW5nKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRyYXdGaXR0aW5nKGZpdHRpbmc6IEZpdHRpbmdNb2RlbCkge1xuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcblxuICAgIGxldCBjID0gdGhpcy5jYW52YXMuZ2V0V29ybGRDb29yZGluYXRlcyhmaXR0aW5nLmNlbnRlci54LCBmaXR0aW5nLmNlbnRlci55KTtcblxuICAgIHRoaXMuY3R4LmFyYyhjLngsIGMueSwgZml0dGluZy5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcblxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGZpdHRpbmcuY29sb3I7XG5cbiAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhdygpIHtcbiAgICB0aGlzLmRyYXdGaXR0aW5ncygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpdHRpbmc7XG4iLCJpbXBvcnQgQ2FudmFzTW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYW52YXMubW9kZWxcIjtcblxuY2xhc3MgTW9kZSB7XG4gIG1vZGVsOiBDYW52YXNNb2RlbDtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gIHN1YkNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBDYW52YXNNb2RlbCkge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kZVwiKTtcbiAgICB0aGlzLnN1YkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3ViTW9kZVwiKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlO1xuIiwiaW1wb3J0IENhbnZhc01vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FudmFzLm1vZGVsXCI7XG5pbXBvcnQgUGlwZU1vZGVsIGZyb20gXCIuLi9tb2RlbHMvaGVhdGluZy9waXBlLm1vZGVsXCI7XG5pbXBvcnQgQ2FudmFzVmlldyBmcm9tIFwiLi9jYW52YXMudmlld1wiO1xuaW1wb3J0IHsgSVZlYyB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS92ZWN0XCI7XG5pbXBvcnQgUGlwZUdob3N0TW9kZWwgZnJvbSBcIi4uL21vZGVscy9naG9zdC9oZWF0aW5nL3BpcGUubW9kZWxcIjtcblxuY2xhc3MgUGlwZSB7XG4gIGNhbnZhczogQ2FudmFzVmlldztcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmlldzogQ2FudmFzVmlldyxcbiAgICBtb2RlbDogQ2FudmFzTW9kZWwsXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcbiAgKSB7XG4gICAgdGhpcy5jYW52YXMgPSB2aWV3O1xuICAgIHRoaXMuY3R4ID0gY3R4O1xuICB9XG5cbiAgZHJhd1BpcGVzKCkge1xuICAgIHRoaXMuY2FudmFzLm1vZGVsLnBpcGVzLm1hcCgocCkgPT4ge1xuICAgICAgdGhpcy5kcmF3UGlwZShwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRyYXdQaXBlKHBpcGU6IFBpcGVNb2RlbCkge1xuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcblxuICAgIGxldCBmcm9tID0gdGhpcy5jYW52YXMuZ2V0V29ybGRDb29yZGluYXRlcyhcbiAgICAgIHBpcGUuZnJvbS52ZWMueCxcbiAgICAgIHBpcGUuZnJvbS52ZWMueVxuICAgICk7XG4gICAgbGV0IHRvID0gdGhpcy5jYW52YXMuZ2V0V29ybGRDb29yZGluYXRlcyhwaXBlLnRvLnZlYy54LCBwaXBlLnRvLnZlYy55KTtcblxuICAgIHRoaXMuY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgdGhpcy5jdHgubGluZVRvKHRvLngsIHRvLnkpO1xuXG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBwaXBlLmNvbG9yO1xuICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IHBpcGUud2lkdGg7XG5cbiAgICBpZiAodGhpcy5jYW52YXMubW9kZWwub3ZlcmxhcC5saXN0LmZpbmQoKGwpID0+IGwuaWQgPT09IHBpcGUuaWQpKSB7XG4gICAgICB0aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gNDtcbiAgICAgIHRoaXMuY3R4LnNoYWRvd09mZnNldFkgPSA0O1xuICAgICAgdGhpcy5jdHguc2hhZG93Qmx1ciA9IDU7XG4gICAgICB0aGlzLmN0eC5zaGFkb3dDb2xvciA9IFwiZ3JheVwiO1xuICAgIH1cblxuICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIGRyYXdHaG9zdChwaXBlOiBQaXBlR2hvc3RNb2RlbCkge1xuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcblxuICAgIGxldCBmcm9tID0gdGhpcy5jYW52YXMuZ2V0V29ybGRDb29yZGluYXRlcyhcbiAgICAgIHBpcGUuZnJvbS52ZWMueCxcbiAgICAgIHBpcGUuZnJvbS52ZWMueVxuICAgICk7XG4gICAgbGV0IHRvID0gdGhpcy5jYW52YXMuZ2V0V29ybGRDb29yZGluYXRlcyhwaXBlLnRvLnZlYy54LCBwaXBlLnRvLnZlYy55KTtcblxuICAgIHRoaXMuY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgdGhpcy5jdHgubGluZVRvKHRvLngsIHRvLnkpO1xuXG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBwaXBlLmNvbG9yO1xuICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IHBpcGUud2lkdGggKiAyO1xuXG4gICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhd092ZXJMYXAoY29vcmRpbmF0ZTogSVZlYykge1xuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcblxuICAgIGxldCBjID0gdGhpcy5jYW52YXMuZ2V0V29ybGRDb29yZGluYXRlcyhjb29yZGluYXRlLngsIGNvb3JkaW5hdGUueSk7XG5cbiAgICB0aGlzLmN0eC5hcmMoYy54LCBjLnksIDUsIDAsIDIgKiBNYXRoLlBJKTtcblxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcblxuICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBkcmF3T3ZlckxhcHMoKSB7XG4gICAgLy8gdGhpcy5jYW52YXMubW9kZWwub3ZlcmxhcC5saXN0Lm1hcCgobCkgPT4ge1xuICAgIC8vICAgaWYgKGwpIHtcbiAgICAvLyAgICAgbGV0IF9wID0gdGhpcy5jYW52YXMubW9kZWwuZ2V0UGlwZUJ5SUQobC5pZCk7XG4gICAgLy8gICAgIGlmIChfcCAmJiBsLmlvVmVjdG9yKSB7XG4gICAgLy8gICAgICAgdGhpcy5kcmF3T3ZlckxhcChsLmlvVmVjdG9yKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuICB9XG5cbiAgZHJhdygpIHtcbiAgICB0aGlzLmRyYXdQaXBlcygpO1xuICAgIHRoaXMuZHJhd092ZXJMYXBzKCk7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLmNhbnZhcy5tb2RlbC5hY3Rpb25PYmplY3QgJiZcbiAgICAgIHRoaXMuY2FudmFzLm1vZGVsLmFjdGlvbk9iamVjdCBpbnN0YW5jZW9mIFBpcGVHaG9zdE1vZGVsXG4gICAgKSB7XG4gICAgICB0aGlzLmRyYXdHaG9zdCh0aGlzLmNhbnZhcy5tb2RlbC5hY3Rpb25PYmplY3QpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQaXBlO1xuIiwiaW1wb3J0IENhbnZhc01vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FudmFzLm1vZGVsXCI7XG5cbmNsYXNzIFN0YXRzIHtcbiAgbW9kZWw6IENhbnZhc01vZGVsO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihtb2RlbDogQ2FudmFzTW9kZWwpIHtcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N0YXRzXCIpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmluaXRDb250YWluZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbmVyKSByZXR1cm47XG5cbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtblwiPlxuICAgICAgICA8ZGl2PnggLSAke01hdGgucm91bmQodGhpcy5tb2RlbC5vZmZzZXQueCl9IFxuICAgICAgICAvIHkgLSAke01hdGgucm91bmQodGhpcy5tb2RlbC5vZmZzZXQueSl9PC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2PnggLSAke01hdGgucm91bmQodGhpcy5tb2RlbC5tb3VzZT8ueCA/PyAwKX0gXG4gICAgICAgIC8geSAtICR7TWF0aC5yb3VuZCh0aGlzLm1vZGVsLm1vdXNlPy55ID8/IDApfTwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdj5zY2FsZSAtICR7dGhpcy5tb2RlbC5zY2FsZS5hbW91bnR9PC9kaXY+XG4gICAgICAgIDxkaXY+d2lkdGggLSAke3RoaXMubW9kZWwuY2FudmFzU2l6ZT8ueH0gLyBoZWlnaHQgLSAke1xuICAgICAgdGhpcy5tb2RlbC5jYW52YXNTaXplPy55XG4gICAgfSAvIDwvZGl2PlxuICAgICAgICA8ZGl2PnJhdGlvIHggJHt0aGlzLm1vZGVsLm1vdXNlQ2FudmFzUmF0aW8/Lnh9IC8geSAke1xuICAgICAgdGhpcy5tb2RlbC5tb3VzZUNhbnZhc1JhdGlvPy55XG4gICAgfTwvZGl2PlxuICAgICAgICA8ZGl2Pm1vZGUgaXMgJHt0aGlzLm1vZGVsLmFjdGlvbk1vZGV9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+Zml0dGluZyBzaXplIGlzICR7dGhpcy5tb2RlbC5maXR0aW5ncy5sZW5ndGh9PC9kaXY+XG4gICAgICAgIDxkaXY+cGlwZXMgc2l6ZSBpcyAke3RoaXMubW9kZWwucGlwZXMubGVuZ3RofTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5ob3ZlcmVkIG9iamVjdCAke1xuICAgICAgICAgIHRoaXMubW9kZWwuZ2V0UGlwZUJ5SUQoXG4gICAgICAgICAgICB0aGlzLm1vZGVsLm92ZXJsYXAubGlzdC5sZW5ndGggPiAwICYmIHRoaXMubW9kZWwub3ZlcmxhcC5saXN0WzBdLmlkXG4gICAgICAgICAgICAgID8gdGhpcy5tb2RlbC5vdmVybGFwLmxpc3RbMF0uaWRcbiAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgKT8uaWRcbiAgICAgICAgfTwvZGl2PlxuICAgICAgICA8ZGl2PnBpcGVzIHNpemUgaXMgJHt0aGlzLm1vZGVsLnBpcGVzLmxlbmd0aH08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICBpbml0Q29udGFpbmVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb250YWluZXIpIHJldHVybjtcblxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiNDUwcHhcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IFwiMzAwcHhcIjtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjEwcHhcIjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGF0cztcbiIsImltcG9ydCBDYW52YXNNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2NhbnZhcy5tb2RlbFwiO1xuaW1wb3J0IFBpcGVNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL2hlYXRpbmcvcGlwZS5tb2RlbFwiO1xuaW1wb3J0IENhbnZhc1ZpZXcgZnJvbSBcIi4vY2FudmFzLnZpZXdcIjtcbmltcG9ydCBWYWx2ZU1vZGVsIGZyb20gXCIuLi9tb2RlbHMvaGVhdGluZy92YWx2ZS5tb2RlbFwiO1xuXG5jbGFzcyBWYWx2ZSB7XG4gIGNhbnZhczogQ2FudmFzVmlldztcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmlldzogQ2FudmFzVmlldyxcbiAgICBtb2RlbDogQ2FudmFzTW9kZWwsXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcbiAgKSB7XG4gICAgdGhpcy5jYW52YXMgPSB2aWV3O1xuICAgIHRoaXMuY3R4ID0gY3R4O1xuICB9XG5cbiAgZHJhd1ZhbHZlcygpIHtcbiAgICB0aGlzLmNhbnZhcy5tb2RlbC52YWx2ZXMubWFwKCh2KSA9PiB7XG4gICAgICB0aGlzLmRyYXdWYWx2ZSh2KTtcbiAgICB9KTtcbiAgfVxuXG4gIGRyYXdWYWx2ZSh2YWx2ZTogVmFsdmVNb2RlbCkge1xuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcblxuICAgIGxldCBjID0gdGhpcy5jYW52YXMuZ2V0V29ybGRDb29yZGluYXRlcyh2YWx2ZS5jZW50ZXIueCwgdmFsdmUuY2VudGVyLnkpO1xuXG4gICAgdGhpcy5jdHguYXJjKGMueCwgYy55LCB2YWx2ZS5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcblxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHZhbHZlLmNvbG9yO1xuXG4gICAgdGhpcy5jdHguZmlsbCgpO1xuICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5kcmF3VmFsdmVzKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmFsdmU7XG4iLCJpbXBvcnQgeyBkZWZhdWx0IGFzIF8yRENvbnRyb2xsZXIgfSBmcm9tIFwiLi8yZFwiO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGFwcDogQXBwO1xuICB9XG59XG5cbmNsYXNzIEFwcCB7XG4gIF8yZDogXzJEQ29udHJvbGxlciA9IG5ldyBfMkRDb250cm9sbGVyKCk7XG5cbiAgcnVuKCkge1xuICAgIHdpbmRvdy5hcHAgPSB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiIsImltcG9ydCBMaW5lIGZyb20gXCIuLi8yZC9tb2RlbHMvZ2VvbWV0cnkvbGluZS5tb2RlbFwiO1xuXG5leHBvcnQgY2xhc3MgVmVjdG9yIGltcGxlbWVudHMgSVZlYyB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgZGlzdGFuY2VUbyh2OiBJVmVjKSB7XG4gICAgbGV0IF92ID0gbmV3IFZlY3Rvcih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSk7XG4gICAgcmV0dXJuIF92Lmxlbmd0aDtcbiAgfVxuXG4gIGRpc3RhbmNlVG9MaW5lKGw6IExpbmUpOiBudW1iZXIge1xuICAgIGxldCByZXQ6IG51bWJlcjtcbiAgICBsZXQgbFZlYyA9IGwudG8udmVjLnN1YihsLmZyb20udmVjKTtcbiAgICBsZXQgdmVjID0gdGhpcy5zdWIobC5mcm9tLnZlYyk7XG4gICAgbGV0IGFuZ2xlID0gdmVjLmFuZ2xlKGxWZWMpO1xuXG4gICAgaWYgKHZlYy5sZW5ndGggPT09IDApIGNvbnNvbGUud2FybihcIm9wc1wiKTtcblxuICAgIGxldCBwID0gbFZlYy5wcm9kdWN0KHZlYyk7XG4gICAgbGV0IHAxID0gdmVjLnByb2R1Y3QodmVjKTtcblxuICAgIGxldCBwYXJhbSA9IC0xO1xuXG4gICAgaWYgKHAgIT09IDApIHBhcmFtID0gcDEgLyBwO1xuXG4gICAgaWYgKHBhcmFtIDwgMCkge1xuICAgICAgcmV0ID0gTWF0aC5yb3VuZCh2ZWMubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtID4gMSkge1xuICAgICAgcmV0ID0gTWF0aC5yb3VuZChsVmVjLnN1Yih2ZWMpLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldCA9IE1hdGgucm91bmQoTWF0aC5zaW4oYW5nbGUpICogdmVjLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiogMiArIHRoaXMueSAqKiAyKTtcbiAgfVxuXG4gIHByb2plY3Rpb24oYjogSVZlYykge1xuICAgIHJldHVybiB0aGlzLnByb2R1Y3QoYikgLyBNYXRoLnNxcnQodGhpcy54ICoqIDIgKyB0aGlzLnkgKiogMik7XG4gIH1cblxuICBzdWIodjogSVZlYyk6IFZlY3RvciB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54IC0gdi54LCB0aGlzLnkgLSB2LnkpO1xuICB9XG5cbiAgc3VtKHY6IElWZWMpOiBWZWN0b3Ige1xuICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCArIHYueCwgdGhpcy55ICsgdi55KTtcbiAgfVxuXG4gIGFuZ2xlKHY6IElWZWMpIHtcbiAgICByZXR1cm4gTWF0aC5hY29zKCh0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnkpIC8gKHRoaXMubGVuZ3RoICogdi5sZW5ndGgpKTtcbiAgfVxuXG4gIHByb2R1Y3QodjogSVZlYyk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueTtcbiAgfVxuXG4gIG5vcm1hbGl6ZSgpIHtcbiAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLnggLyB0aGlzLmxlbmd0aCwgdGhpcy55IC8gdGhpcy5sZW5ndGgpO1xuICB9XG5cbiAgbXVsdGlwbHkoYTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICogYSwgdGhpcy55ICogYSk7XG4gIH1cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSk7XG4gIH1cblxuICBiaW5kTmV0KHN0ZXA6IG51bWJlcikge1xuICAgIHJldHVybiBuZXcgVmVjdG9yKFxuICAgICAgTWF0aC5yb3VuZCh0aGlzLnggLyBzdGVwKSAqIHN0ZXAsXG4gICAgICBNYXRoLnJvdW5kKHRoaXMueSAvIHN0ZXApICogc3RlcFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVmVjIGV4dGVuZHMgSUNvb3JkIHtcbiAgbGVuZ3RoOiBudW1iZXI7XG4gIGRpc3RhbmNlVG86ICh2OiBJVmVjKSA9PiBudW1iZXI7XG4gIHN1YjogKHY6IElWZWMpID0+IElWZWM7XG4gIHN1bTogKHY6IElWZWMpID0+IElWZWM7XG4gIGRpc3RhbmNlVG9MaW5lOiAobDogTGluZSkgPT4gbnVtYmVyO1xuICBhbmdsZTogKHY6IElWZWMpID0+IG51bWJlcjtcbiAgcHJvamVjdGlvbjogKHY6IElWZWMpID0+IG51bWJlcjtcbiAgbm9ybWFsaXplOiAoKSA9PiBWZWN0b3I7XG4gIG11bHRpcGx5OiAobjogbnVtYmVyKSA9PiBJVmVjO1xuICBwcm9kdWN0OiAodjogSVZlYykgPT4gbnVtYmVyO1xuICBjbG9uZTogKCkgPT4gSVZlYztcbiAgYmluZE5ldDogKHN0ZXA6IG51bWJlcikgPT4gSVZlYztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29vcmQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cbiIsImltcG9ydCBBcHAgZnJvbSAnLi9hcHAnO1xuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbmFwcC5ydW4oKTsiLCJleHBvcnQgY29uc3QgdXVpZCA9ICgpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXG4gICAgICB2ID0gYyA9PSBcInhcIiA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn07XG5cbi8vIGV4cG9ydCBjb25zdCBpc0ltcGxlbWVudEludGVyZmFjZSA9IDxUPihvYmplY3Q6IFQpOiBvYmplY3QgaXMgVCB7XG4vLyAgIHJldHVybiA7XG4vLyB9XG4iXX0="}